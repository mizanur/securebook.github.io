!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=167)}([function(e,t,n){"use strict";function o(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return D})),n.d(t,"DOMParser",(function(){return ee})),n.d(t,"DOMSerializer",(function(){return fe})),n.d(t,"Fragment",(function(){return i})),n.d(t,"Mark",(function(){return u})),n.d(t,"MarkType",(function(){return Y})),n.d(t,"Node",(function(){return N})),n.d(t,"NodeRange",(function(){return S})),n.d(t,"NodeType",(function(){return K})),n.d(t,"ReplaceError",(function(){return f})),n.d(t,"ResolvedPos",(function(){return w})),n.d(t,"Schema",(function(){return Z})),n.d(t,"Slice",(function(){return d})),o.prototype={constructor:o,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),a=r.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new o(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new o(n)},addToStart:function(e,t){return new o([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new o(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),a=r.find(e);return i.splice(-1==a?i.length:a,0,t,n),new o(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=o.from(e)).size?new o(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=o.from(e)).size?new o(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=o.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},o.from=function(e){if(e instanceof o)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new o(t)};var r=o;var i=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(e,t,n,o,r){void 0===o&&(o=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],c=a+s.nodeSize;if(c>e&&!1!==n(s,o+a,r,i)&&s.content.size){var l=a+1;s.nodesBetween(Math.max(0,e-l),Math.min(s.content.size,t-l),n,o+l)}a=c}},i.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},i.prototype.textBetween=function(e,t,n,o){var r="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(r+=a.text.slice(Math.max(e,s)-s,t-s),i=!n):a.isLeaf&&o?(r+=o,i=!n):!i&&a.isBlock&&(r+=n,i=!0)}),0),r},i.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,o=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)o.push(e.content[r]);return new i(o,this.size+e.size)},i.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],o=0;if(t>e)for(var r=0,a=0;a<t;r++){var s=this.content[r],c=a+s.nodeSize;c>e&&((a<e||c>t)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,t-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,t-a-1))),n.push(s),o+=s.nodeSize),a=c}return new i(n,o)},i.prototype.cutByIndex=function(e,t){return e==t?i.empty:0==e&&t==this.content.length?this:new i(this.content.slice(e,t))},i.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var o=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return o[e]=t,new i(o,r)},i.prototype.addToStart=function(e){return new i([e].concat(this.content),this.size+e.nodeSize)},i.prototype.addToEnd=function(e){return new i(this.content.concat(e),this.size+e.nodeSize)},i.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},i.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},i.prototype.maybeChild=function(e){return this.content[e]},i.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var o=this.content[t];e(o,n,t),n+=o.nodeSize}},i.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),function e(t,n,o){for(var r=0;;r++){if(r==t.childCount||r==n.childCount)return t.childCount==n.childCount?null:o;var i=t.child(r),a=n.child(r);if(i!=a){if(!i.sameMarkup(a))return o;if(i.isText&&i.text!=a.text){for(var s=0;i.text[s]==a.text[s];s++)o++;return o}if(i.content.size||a.content.size){var c=e(i.content,a.content,o+1);if(null!=c)return c}o+=i.nodeSize}else o+=i.nodeSize}}(this,e,t)},i.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),function e(t,n,o,r){for(var i=t.childCount,a=n.childCount;;){if(0==i||0==a)return i==a?null:{a:o,b:r};var s=t.child(--i),c=n.child(--a),l=s.nodeSize;if(s!=c){if(!s.sameMarkup(c))return{a:o,b:r};if(s.isText&&s.text!=c.text){for(var u=0,f=Math.min(s.text.length,c.text.length);u<f&&s.text[s.text.length-u-1]==c.text[c.text.length-u-1];)u++,o--,r--;return{a:o,b:r}}if(s.content.size||c.content.size){var d=e(s.content,c.content,o-1,r-1);if(d)return d}o-=l,r-=l}else o-=l,r-=l}}(this,e,t,n)},i.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,o=0;;n++){var r=o+this.child(n).nodeSize;if(r>=e)return r==e||t>0?c(n+1,r):c(n,o);o=r}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},i.fromJSON=function(e,t){if(!t)return i.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(t.map(e.nodeFromJSON))},i.fromArray=function(e){if(!e.length)return i.empty;for(var t,n=0,o=0;o<e.length;o++){var r=e[o];n+=r.nodeSize,o&&r.isText&&e[o-1].sameMarkup(r)?(t||(t=e.slice(0,o)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new i(t||e,n)},i.from=function(e){if(!e)return i.empty;if(e instanceof i)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new i([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,a);var s={index:0,offset:0};function c(e,t){return s.index=e,s.offset=t,s}function l(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!l(e[o],t[o]))return!1}else{for(var r in e)if(!(r in t)||!l(e[r],t[r]))return!1;for(var i in t)if(!(i in e))return!1}return!0}i.empty=new i([],0);var u=function(e,t){this.type=e,this.attrs=t};function f(e){var t=Error.call(this,e);return t.__proto__=f.prototype,t}u.prototype.addToSet=function(e){for(var t,n=!1,o=0;o<e.length;o++){var r=e[o];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,o));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},u.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},u.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},u.prototype.eq=function(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)},u.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},u.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},u.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},u.setFrom=function(e){if(!e||0==e.length)return u.none;if(e instanceof u)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},u.none=[],f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="ReplaceError";var d=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},p={size:{configurable:!0}};function h(e,t,n){if(n.openStart>e.depth)throw new f("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new f("Inconsistent open depths");return function e(t,n,o,r){var a=t.index(r),s=t.node(r);if(a==n.index(r)&&r<t.depth-o.openStart){var c=e(t,n,o,r+1);return s.copy(s.content.replaceChild(a,c))}if(o.content.size){if(o.openStart||o.openEnd||t.depth!=r||n.depth!=r){var l=function(e,t){for(var n=t.depth-e.openStart,o=t.node(n).copy(e.content),r=n-1;r>=0;r--)o=t.node(r).copy(i.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}(o,t),u=l.start,f=l.end;return y(s,function e(t,n,o,r,a){var s=t.depth>a&&g(t,n,a+1),c=r.depth>a&&g(o,r,a+1),l=[];b(null,t,a,l),s&&c&&n.index(a)==o.index(a)?(m(s,c),v(y(s,e(t,n,o,r,a+1)),l)):(s&&v(y(s,_(t,n,a+1)),l),b(n,o,a,l),c&&v(y(c,_(o,r,a+1)),l));return b(r,null,a,l),new i(l)}(t,u,f,n,r))}var d=t.parent,p=d.content;return y(d,p.cut(0,t.parentOffset).append(o.content).append(p.cut(n.parentOffset)))}return y(s,_(t,n,r))}(e,t,n,0)}function m(e,t){if(!t.type.compatibleContent(e.type))throw new f("Cannot join "+t.type.name+" onto "+e.type.name)}function g(e,t,n){var o=e.node(n);return m(o,t.node(n)),o}function v(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function b(e,t,n,o){var r=(t||e).node(n),i=0,a=t?t.index(n):r.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(v(e.nodeAfter,o),i++));for(var s=i;s<a;s++)v(r.child(s),o);t&&t.depth==n&&t.textOffset&&v(t.nodeBefore,o)}function y(e,t){if(!e.type.validContent(t))throw new f("Invalid content for node "+e.type.name);return e.copy(t)}function _(e,t,n){var o=[];(b(null,e,n,o),e.depth>n)&&v(y(g(e,t,n+1),_(e,t,n+1)),o);return b(t,null,n,o),new i(o)}p.size.get=function(){return this.content.size-this.openStart-this.openEnd},d.prototype.insertAt=function(e,t){var n=function e(t,n,o,r){var i=t.findIndex(n),a=i.index,s=i.offset,c=t.maybeChild(a);if(s==n||c.isText)return r&&!r.canReplace(a,a,o)?null:t.cut(0,n).append(o).append(t.cut(n));var l=e(c.content,n-s-1,o);return l&&t.replaceChild(a,c.copy(l))}(this.content,e+this.openStart,t,null);return n&&new d(n,this.openStart,this.openEnd)},d.prototype.removeBetween=function(e,t){return new d(function e(t,n,o){var r=t.findIndex(n),i=r.index,a=r.offset,s=t.maybeChild(i),c=t.findIndex(o),l=c.index,u=c.offset;if(a==n||s.isText){if(u!=o&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,n).append(t.cut(o))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,s.copy(e(s.content,n-a-1,o-a-1)))}(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},d.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},d.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},d.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},d.fromJSON=function(e,t){if(!t)return d.empty;var n=t.openStart||0,o=t.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new d(i.fromJSON(e,t.content),t.openStart||0,t.openEnd||0)},d.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,o=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)o++;return new d(e,n,o)},Object.defineProperties(d.prototype,p),d.empty=new d(i.empty,0,0);var w=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},k={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};w.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},k.parent.get=function(){return this.node(this.depth)},k.doc.get=function(){return this.node(0)},w.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},w.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},w.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},w.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},w.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},w.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},w.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},k.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},k.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o},k.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},w.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return u.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){var r=n;n=o,o=r}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||o&&i[a].isInSet(o.marks)||(i=i[a--].removeFromSet(i));return i},w.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,o=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||o&&n[r].isInSet(o.marks)||(n=n[r--].removeFromSet(n));return n},w.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},w.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new S(this,e,n)},w.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},w.prototype.max=function(e){return e.pos>this.pos?e:this},w.prototype.min=function(e){return e.pos<this.pos?e:this},w.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},w.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],o=0,r=t,i=e;;){var a=i.content.findIndex(r),s=a.index,c=a.offset,l=r-c;if(n.push(i,s,o+c),!l)break;if((i=i.child(s)).isText)break;r=l-1,o+=c+1}return new w(t,n,r)},w.resolveCached=function(e,t){for(var n=0;n<x.length;n++){var o=x[n];if(o.pos==t&&o.doc==e)return o}var r=x[I]=w.resolve(e,t);return I=(I+1)%C,r},Object.defineProperties(w.prototype,k);var x=[],I=0,C=12,S=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},M={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};M.start.get=function(){return this.$from.before(this.depth+1)},M.end.get=function(){return this.$to.after(this.depth+1)},M.parent.get=function(){return this.$from.node(this.depth)},M.startIndex.get=function(){return this.$from.index(this.depth)},M.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(S.prototype,M);var O=Object.create(null),N=function(e,t,n,o){this.type=e,this.attrs=t,this.content=n||i.empty,this.marks=o||u.none},T={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};T.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},T.childCount.get=function(){return this.content.childCount},N.prototype.child=function(e){return this.content.child(e)},N.prototype.maybeChild=function(e){return this.content.maybeChild(e)},N.prototype.forEach=function(e){this.content.forEach(e)},N.prototype.nodesBetween=function(e,t,n,o){void 0===o&&(o=0),this.content.nodesBetween(e,t,n,o,this)},N.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},T.textContent.get=function(){return this.textBetween(0,this.content.size,"")},N.prototype.textBetween=function(e,t,n,o){return this.content.textBetween(e,t,n,o)},T.firstChild.get=function(){return this.content.firstChild},T.lastChild.get=function(){return this.content.lastChild},N.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},N.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},N.prototype.hasMarkup=function(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||O)&&u.sameSet(this.marks,n||u.none)},N.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},N.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},N.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},N.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return d.empty;var o=this.resolve(e),r=this.resolve(t),i=n?0:o.sharedDepth(t),a=o.start(i),s=o.node(i).content.cut(o.pos-a,r.pos-a);return new d(s,o.depth-i,r.depth-i)},N.prototype.replace=function(e,t,n){return h(this.resolve(e),this.resolve(t),n)},N.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),o=n.index,r=n.offset;if(!(t=t.maybeChild(o)))return null;if(r==e||t.isText)return t;e-=r+1}},N.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,o=t.offset;return{node:this.content.maybeChild(n),index:n,offset:o}},N.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,o=t.offset;if(o<e)return{node:this.content.child(n),index:n,offset:o};var r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}},N.prototype.resolve=function(e){return w.resolveCached(this,e)},N.prototype.resolveNoCache=function(e){return w.resolve(this,e)},N.prototype.rangeHasMark=function(e,t,n){var o=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(o=!0),!o})),o},T.isBlock.get=function(){return this.type.isBlock},T.isTextblock.get=function(){return this.type.isTextblock},T.inlineContent.get=function(){return this.type.inlineContent},T.isInline.get=function(){return this.type.isInline},T.isText.get=function(){return this.type.isText},T.isLeaf.get=function(){return this.type.isLeaf},T.isAtom.get=function(){return this.type.isAtom},N.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),A(this.marks,e)},N.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},N.prototype.canReplace=function(e,t,n,o,r){void 0===n&&(n=i.empty),void 0===o&&(o=0),void 0===r&&(r=n.childCount);var a=this.contentMatchAt(e).matchFragment(n,o,r),s=a&&a.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var c=o;c<r;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},N.prototype.canReplaceWith=function(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;var r=this.contentMatchAt(e).matchType(n),i=r&&r.matchFragment(this.content,t);return!!i&&i.validEnd},N.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},N.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},N.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},N.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var o=i.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,o,n)},Object.defineProperties(N.prototype,T);var E=function(e){function t(t,n,o,r){if(e.call(this,t,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):A(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(N);function A(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var D=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},L={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};D.parse=function(e,t){var n=new P(e,t);if(null==n.next)return D.empty;var o=F(n);n.next&&n.err("Unexpected trailing text");var r=function(e){var t=Object.create(null);return function n(o){var r=[];o.forEach((function(t){e[t].forEach((function(t){var n=t.term,o=t.to;if(n){var i=r.indexOf(n),a=i>-1&&r[i+1];$(e,o).forEach((function(e){a||r.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[o.join(",")]=new D(o.indexOf(e.length-1)>-1),a=0;a<r.length;a+=2){var s=r[a+1].sort(W);i.next.push(r[a],t[s.join(",")]||n(s))}return i}($(e,0))}(function(e){var t=[[]];return r(function e(t,i){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(e(n,i))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=e(t.exprs[a],i);if(a==t.exprs.length-1)return s;r(s,i=n())}else{if("star"==t.type){var c=n();return o(i,c),r(e(t.expr,c),c),[o(c)]}if("plus"==t.type){var l=n();return r(e(t.expr,i),l),r(e(t.expr,l),l),[o(l)]}if("opt"==t.type)return[o(i)].concat(e(t.expr,i));if("range"==t.type){for(var u=i,f=0;f<t.min;f++){var d=n();r(e(t.expr,u),d),u=d}if(-1==t.max)r(e(t.expr,u),u);else for(var p=t.min;p<t.max;p++){var h=n();o(u,h),r(e(t.expr,u),h),u=h}return[o(u)]}if("name"==t.type)return[o(i,null,t.value)]}}(e,0),n()),t;function n(){return t.push([])-1}function o(e,n,o){var r={term:o,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}}(o));return function(e,t){for(var n=0,o=[e];n<o.length;n++){for(var r=o[n],i=!r.validEnd,a=[],s=0;s<r.next.length;s+=2){var c=r.next[s],l=r.next[s+1];a.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==o.indexOf(l)&&o.push(l)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r},D.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},D.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var o=this,r=t;o&&r<n;r++)o=o.matchType(e.child(r).type);return o},L.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},L.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},D.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},D.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var o=[this];return function r(a,s){var c=a.matchFragment(e,n);if(c&&(!t||c.validEnd))return i.from(s.map((function(e){return e.createAndFill()})));for(var l=0;l<a.next.length;l+=2){var u=a.next[l],f=a.next[l+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==o.indexOf(f)){o.push(f);var d=r(f,s.concat(u));if(d)return d}}}(this,[])},D.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},D.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var o=n.shift(),r=o.match;if(r.matchType(e)){for(var i=[],a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<r.next.length;s+=2){var c=r.next[s];c.isLeaf||c.hasRequiredAttrs()||c.name in t||o.type&&!r.next[s+1].validEnd||(n.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}},L.edgeCount.get=function(){return this.next.length>>1},D.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},D.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var o=1;o<n.next.length;o+=2)-1==e.indexOf(n.next[o])&&t(n.next[o])}(this),e.map((function(t,n){for(var o=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)o+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return o})).join("\n")},Object.defineProperties(D.prototype,L),D.empty=new D(!0);var P=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},R={next:{configurable:!0}};function F(e){var t=[];do{t.push(B(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function B(e){var t=[];do{t.push(z(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function z(e){for(var t=function(e){if(e.eat("(")){var t=F(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,o=n[t];if(o)return[o];var r=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&r.push(a)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=H(e,t)}return t}function j(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function H(e,t){var n=j(e),o=n;return e.eat(",")&&(o="}"!=e.next?j(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:t}}function W(e,t){return t-e}function $(e,t){var n=[];return function t(o){var r=e[o];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(o);for(var i=0;i<r.length;i++){var a=r[i],s=a.term,c=a.to;s||-1!=n.indexOf(c)||t(c)}}(t),n.sort(W)}function V(e){var t=Object.create(null);for(var n in e){var o=e[n];if(!o.hasDefault)return null;t[n]=o.default}return t}function U(e,t){var n=Object.create(null);for(var o in e){var r=t&&t[o];if(void 0===r){var i=e[o];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+o);r=i.default}n[o]=r}return n}function q(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new J(e[n]);return t}R.next.get=function(){return this.tokens[this.pos]},P.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},P.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(P.prototype,R);var K=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=q(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},X={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};X.isInline.get=function(){return!this.isBlock},X.isTextblock.get=function(){return this.isBlock&&this.inlineContent},X.isLeaf.get=function(){return this.contentMatch==D.empty},X.isAtom.get=function(){return this.isLeaf||this.spec.atom},K.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},K.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},K.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,e)},K.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(e),i.from(t),u.setFrom(n))},K.prototype.createChecked=function(e,t,n){if(t=i.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new N(this,this.computeAttrs(e),t,u.setFrom(n))},K.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=i.from(t)).size){var o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(i.empty,!0);return r?new N(this,e,t.append(r),u.setFrom(n)):null},K.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},K.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},K.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},K.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:u.empty:e},K.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,o){return n[e]=new K(e,t,o)}));var o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(K.prototype,X);var J=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},G={isRequired:{configurable:!0}};G.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(J.prototype,G);var Y=function(e,t,n,o){this.name=e,this.schema=n,this.spec=o,this.attrs=q(o.attrs),this.rank=t,this.excluded=null;var r=V(this.attrs);this.instance=r&&new u(this,r)};Y.prototype.create=function(e){return!e&&this.instance?this.instance:new u(this,U(this.attrs,e))},Y.compile=function(e,t){var n=Object.create(null),o=0;return e.forEach((function(e,r){return n[e]=new Y(e,o++,t,r)})),n},Y.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},Y.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},Y.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var Z=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.from(e.nodes),this.spec.marks=r.from(e.marks),this.nodes=K.compile(this.spec.nodes,this),this.marks=Y.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],a=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[a]||(n[a]=D.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?Q(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var c in this.marks){var l=this.marks[c],u=l.spec.excludes;l.excluded=null==u?[l]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(e,t){for(var n=[],o=0;o<t.length;o++){var r=t[o],i=e.marks[r],a=i;if(i)n.push(i);else for(var s in e.marks){var c=e.marks[s];("_"==r||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[o]+"'")}return n}Z.prototype.node=function(e,t,n,o){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof K))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,o)},Z.prototype.text=function(e,t){var n=this.nodes.text;return new E(n,n.defaultAttrs,e,u.setFrom(t))},Z.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Z.prototype.nodeFromJSON=function(e){return N.fromJSON(this,e)},Z.prototype.markFromJSON=function(e){return u.fromJSON(this,e)},Z.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ee=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ee.prototype.parse=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ee.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new ae(this,t,!0);return n.addAll(e,null,t.from,t.to),d.maxOpen(n.finish())},ee.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var o=this.tags[n];if(ce(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var r=o.getAttrs(e);if(!1===r)continue;o.attrs=r}return o}}},ee.prototype.matchStyle=function(e,t,n){for(var o=0;o<this.styles.length;o++){var r=this.styles[o];if(!(0!=r.style.indexOf(e)||r.context&&!n.matchesContext(r.context)||r.style.length>e.length&&(61!=r.style.charCodeAt(e.length)||r.style.slice(e.length+1)!=t))){if(r.getAttrs){var i=r.getAttrs(t);if(!1===i)continue;r.attrs=i}return r}}},ee.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,o=0;o<t.length;o++){var r=t[o];if((null==r.priority?50:r.priority)<n)break}t.splice(o,0,e)}var o=function(t){var o=e.marks[t].spec.parseDOM;o&&o.forEach((function(e){n(e=le(e)),e.mark=t}))};for(var r in e.marks)o(r);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=le(e)),e.node=a}));return t},ee.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ee(e,ee.schemaRules(e)))};var te={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ne={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oe={ol:!0,ul:!0};function re(e){return(e?1:0)|("full"===e?2:0)}var ie=function(e,t,n,o,r,i,a){this.type=e,this.attrs=t,this.solid=r,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=u.none,this.pendingMarks=o};ie.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(i.from(e));if(!t){var n,o=this.type.contentMatch;return(n=o.findWrapping(e.type))?(this.match=o,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},ie.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var o=i.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o},ie.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var o=n[t];(this.type?this.type.allowsMarkType(o.type):ue(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};var ae=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var o,r=t.topNode,i=re(t.preserveWhitespace)|(n?4:0);o=r?new ie(r.type,r.attrs,u.none,u.none,!0,t.topMatch||r.type.contentMatch,i):new ie(n?null:e.schema.topNodeType,null,u.none,u.none,!0,null,i),this.nodes=[o],this.open=0,this.find=t.findPositions,this.needsBlock=!1},se={top:{configurable:!0},currentPos:{configurable:!0}};function ce(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function le(e){var t={};for(var n in e)t[n]=e[n];return t}function ue(e,t){var n=t.schema.nodes,o=function(o){var r=n[o];if(r.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var o=e.edge(n),r=o.type,s=o.next;if(r==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}};return a(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var i=o(r);if(i)return i.v}}se.top.get=function(){return this.nodes[this.open]},ae.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[];for(;t=n.exec(e);)o.push(t[1],t[2].trim());return o}(t)):null,o=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],o)}},ae.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var o=n.content[n.content.length-1],r=e.previousSibling;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},ae.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();oe.hasOwnProperty(t)&&this.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var o=1==t.nodeType?t.nodeName.toLowerCase():null;o&&oe.hasOwnProperty(o)&&n?(n.appendChild(t),t=n):"li"==o?n=t:o&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:ne.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var o,r=this.top,i=this.needsBlock;if(te.hasOwnProperty(t))o=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(r),this.needsBlock=i}else this.addElementByRule(e,n)},ae.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},ae.prototype.readStyles=function(e){for(var t=u.none,n=0;n<e.length;n+=2){var o=this.parser.matchStyle(e[n],e[n+1],this);if(o){if(o.ignore)return null;t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t)}}return t},ae.prototype.addElementByRule=function(e,t){var n,o,r,i=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):n=this.enter(o,t.attrs,t.preserveWhitespace):(r=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(r));var a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return i.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}n&&(this.sync(a),this.open--),r&&this.removePendingMark(r,a)},ae.prototype.addAll=function(e,t,n,o){for(var r=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==o?null:e.childNodes[o];i!=a;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i),t&&te.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},ae.prototype.findPlace=function(e){for(var t,n,o=this.open;o>=0;o--){var r=this.nodes[o],i=r.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=r,!i.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},ae.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var o=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(o=e.marks[r].addToSet(o));return n.content.push(e.mark(o)),!0}return!1},ae.prototype.enter=function(e,t,n){var o=this.findPlace(e.create(t));return o&&this.enterInner(e,t,!0,n),o},ae.prototype.enterInner=function(e,t,n,o){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var i=null==o?-5&r.options:re(o);4&r.options&&0==r.content.length&&(i|=4),this.nodes.push(new ie(e,t,r.activeMarks,r.pendingMarks,n,null,i)),this.open++},ae.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},ae.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},ae.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},se.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,o=n.length-1;o>=0;o--)e+=n[o].nodeSize;t&&e++}return e},ae.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},ae.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},ae.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var o=0;o<this.find.length;o++){if(null==this.find[o].pos&&1==e.nodeType&&e.contains(this.find[o].node))t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}},ae.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},ae.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),o=this.options.context,r=!(this.isOpen||o&&o.parent.type!=this.nodes[0].type),i=-(o?o.depth+1:0)+(r?0:1),a=function(e,s){for(;e>=0;e--){var c=n[e];if(""==c){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var l=s>0||0==s&&r?t.nodes[s].type:o&&s>=i?o.node(s-i).type:null;if(!l||l.name!=c&&-1==l.groups.indexOf(c))return!1;s--}return!0};return a(n.length-1,this.open)},ae.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var o in this.parser.schema.nodes){var r=this.parser.schema.nodes[o];if(r.isTextblock&&r.defaultAttrs)return r}},ae.prototype.addPendingMark=function(e){this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},ae.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var o=this.nodes[n];if(o.pendingMarks.lastIndexOf(e)>-1?o.pendingMarks=e.removeFromSet(o.pendingMarks):o.activeMarks=e.removeFromSet(o.activeMarks),o==t)break}},Object.defineProperties(ae.prototype,se);var fe=function(e,t){this.nodes=e||{},this.marks=t||{}};function de(e){var t={};for(var n in e){var o=e[n].spec.toDOM;o&&(t[n]=o)}return t}function pe(e){return e.document||window.document}fe.prototype.serializeFragment=function(e,t,n){var o=this;void 0===t&&(t={}),n||(n=pe(t).createDocumentFragment());var r=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(o.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)r=i.pop(),i.pop();for(;a<e.marks.length;){var c=e.marks[a++],l=o.serializeMark(c,e.isInline,t);l&&(i.push(c,r),r.appendChild(l.dom),r=l.contentDOM||l.dom)}}r.appendChild(o.serializeNode(e,t))})),n},fe.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=fe.renderSpec(pe(t),this.nodes[e.type.name](e)),o=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return o},fe.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),o=e.marks.length-1;o>=0;o--){var r=this.serializeMark(e.marks[o],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},fe.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var o=this.marks[e.type.name];return o&&fe.renderSpec(pe(n),o(e,t))},fe.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var o=t[0],r=o.indexOf(" ");r>0&&(n=o.slice(0,r),o=o.slice(r+1));var i=null,a=n?e.createElementNS(n,o):e.createElement(o),s=t[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var l in c=2,s)if(null!=s[l]){var u=l.indexOf(" ");u>0?a.setAttributeNS(l.slice(0,u),l.slice(u+1),s[l]):a.setAttribute(l,s[l])}for(var f=c;f<t.length;f++){var d=t[f];if(0===d){if(f<t.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var p=fe.renderSpec(e,d,n),h=p.dom,m=p.contentDOM;if(a.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},fe.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new fe(this.nodesFromSchema(e),this.marksFromSchema(e)))},fe.nodesFromSchema=function(e){var t=de(e.nodes);return t.text||(t.text=function(e){return e.text}),t},fe.marksFromSchema=function(e){return de(e.marks)}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return p})),n.d(t,"EditorState",(function(){return k})),n.d(t,"NodeSelection",(function(){return f})),n.d(t,"Plugin",(function(){return C})),n.d(t,"PluginKey",(function(){return O})),n.d(t,"Selection",(function(){return a})),n.d(t,"SelectionRange",(function(){return c})),n.d(t,"TextSelection",(function(){return l})),n.d(t,"Transaction",(function(){return v}));var o=n(0),r=n(6),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new c(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=o.Slice.empty);for(var n=t.content.lastChild,r=null,i=0;i<t.openEnd;i++)r=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,c=0;c<s.length;c++){var l=s[c],u=l.$from,f=l.$to,d=e.mapping.slice(a);e.replaceRange(d.map(u.pos),d.map(f.pos),c?o.Slice.empty:t),0==c&&g(e,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,o=this.ranges,r=0;r<o.length;r++){var i=o[r],a=i.$from,s=i.$to,c=e.mapping.slice(n),l=c.map(a.pos),u=c.map(s.pos);r?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),g(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var o=e.parent.inlineContent?new l(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(o)return o;for(var r=e.depth-1;r>=0;r--){var i=t<0?m(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):m(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new p(e.node(0))},a.atStart=function(e){return m(e,e,0,0,1)||new p(e)},a.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new p(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return l.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var c=function(e,t){this.$from=e,this.$to=t},l=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,o){var r=n.resolve(o.map(this.head));if(!r.parent.inlineContent)return e.near(r);var i=n.resolve(o.map(this.anchor));return new t(i.parent.inlineContent?i:r,r)},t.prototype.replace=function(t,n){if(void 0===n&&(n=o.Slice.empty),e.prototype.replace.call(this,t,n),n==o.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new u(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var o=e.resolve(t);return new this(o,n==t?o:e.resolve(n))},t.between=function(n,o,r){var i=n.pos-o.pos;if(r&&!i||(r=i>=0?1:-1),!o.parent.inlineContent){var a=e.findFrom(o,r,!0)||e.findFrom(o,-r,!0);if(!a)return e.near(o,r);o=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-r,!0)||e.findFrom(n,r,!0)).$anchor).pos<o.pos!=i<0)&&(n=o),new t(n,o)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",l);var u=function(e,t){this.anchor=e,this.head=t};u.prototype.map=function(e){return new u(e.map(this.anchor),e.map(this.head))},u.prototype.resolve=function(e){return l.between(e.resolve(this.anchor),e.resolve(this.head))};var f=function(e){function t(t){var n=t.nodeAfter,o=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,o),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,o){var r=o.mapResult(this.anchor),i=r.deleted,a=r.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new o.Slice(o.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new d(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);f.prototype.visible=!1,a.jsonID("node",f);var d=function(e){this.anchor=e};d.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,o=t.pos;return n?new u(o,o):new d(o)},d.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&f.isSelectable(n)?new f(t):a.near(t)};var p=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=o.Slice.empty),n==o.Slice.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",p);var h={map:function(){return this},resolve:function(e){return new p(e)}};function m(e,t,n,o,r,i){if(t.inlineContent)return l.create(e,n);for(var a=o-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){var s=t.child(a);if(s.isAtom){if(!i&&f.isSelectable(s))return f.create(e,n-(r<0?s.nodeSize:0))}else{var c=m(e,s,n+r,r<0?s.childCount:0,r,i);if(c)return c}n+=s.nodeSize*r}}function g(e,t,n){var o=e.steps.length-1;if(!(o<t)){var i,s=e.steps[o];if(s instanceof r.c||s instanceof r.b)e.mapping.maps[o].forEach((function(e,t,n,o){null==i&&(i=o)})),e.setSelection(a.near(e.doc.resolve(i),n))}}var v=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return o.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||o.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var o=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var r=this.storedMarks;if(!r){var i=this.doc.resolve(t);r=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,o.text(e,r)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(r.d);function b(e,t){return t&&e?e.bind(t):e}var y=function(e,t,n){this.name=e,this.init=b(t.init,n),this.apply=b(t.apply,n)},_=[new y("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new y("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new y("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,o){return o.selection.$cursor?e.storedMarks:null}}),new y("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],w=function(e,t){var n=this;this.schema=e,this.fields=_.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new y(e.key,e.spec.state,e))}))},k=function(e){this.config=e},x={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};x.schema.get=function(){return this.config.schema},x.plugins.get=function(){return this.config.plugins},k.prototype.apply=function(e){return this.applyTransaction(e).state},k.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0},k.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),o=null;;){for(var r=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=o?o[i].n:0,c=o?o[i].state:this,l=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,c,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",e),!o){o=[];for(var u=0;u<this.config.plugins.length;u++)o.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(l),n=n.applyInner(l),r=!0}o&&(o[i]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}},k.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new k(this.config),n=this.config.fields,o=0;o<n.length;o++){var r=n[o];t[r.name]=r.apply(e,this[r.name],this,t)}for(var i=0;i<I.length;i++)I[i](this,e,t);return t},x.tr.get=function(){return new v(this)},k.create=function(e){for(var t=new w(e.schema||e.doc.type.schema,e.plugins),n=new k(t),o=0;o<t.fields.length;o++)n[t.fields[o].name]=t.fields[o].init(e,n);return n},k.prototype.reconfigure=function(e){for(var t=new w(e.schema||this.schema,e.plugins),n=t.fields,o=new k(t),r=0;r<n.length;r++){var i=n[r].name;o[i]=this.hasOwnProperty(i)?this[i]:n[r].init(e,o)}return o},k.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[n],r=o.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(o,this[o.key]))}return t},k.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new w(e.schema,e.plugins),i=new k(r);return r.fields.forEach((function(r){if("doc"==r.name)i.doc=o.Node.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var s in n){var c=n[s],l=c.spec.state;if(c.key==r.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(i[r.name]=l.fromJSON.call(c,e,t[s],i))}i[r.name]=r.init(e,i)}})),i},k.addApplyListener=function(e){I.push(e)},k.removeApplyListener=function(e){var t=I.indexOf(e);t>-1&&I.splice(t,1)},Object.defineProperties(k.prototype,x);var I=[];var C=function(e){this.props={},e.props&&function e(t,n,o){for(var r in t){var i=t[r];i instanceof Function?i=i.bind(n):"handleDOMEvents"==r&&(i=e(i,n,{})),o[r]=i}return o}(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:M("plugin")};C.prototype.getState=function(e){return e[this.key]};var S=Object.create(null);function M(e){return e in S?e+"$"+ ++S[e]:(S[e]=0,e+"$")}var O=function(e){void 0===e&&(e="key"),this.key=M(e)};O.prototype.get=function(e){return e.config.pluginsByKey[this.key]},O.prototype.getState=function(e){return e[this.key]}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){e.exports=n(156)},function(e,t,n){var o=n(93),r=n(94),i=n(28),a=n(95);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||a()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return _}));var o=n(0),r=Math.pow(2,16);function i(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},s=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};s.prototype.recover=function(e){var t=0,n=i(e);if(!this.inverted)for(var o=0;o<n;o++)t+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/r}(e)},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},s.prototype._map=function(e,t,n){for(var o=0,i=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var l=this.ranges[c]-(this.inverted?o:0);if(l>e)break;var u=this.ranges[c+i],f=this.ranges[c+s],d=l+u;if(e<=d){var p=l+o+((u?e==l?-1:e==d?1:t:t)<0?0:f);if(n)return p;var h=c/3+(e-l)*r;return new a(p,t<0?e!=l:e!=d,h)}o+=f-u}return n?e+o:new a(e+o)},s.prototype.touches=function(e,t){for(var n=0,o=i(t),r=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>e)break;var l=this.ranges[s+r];if(e<=c+l&&s==3*o)return!0;n+=this.ranges[s+a]-l}return!1},s.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,o=0,r=0;o<this.ranges.length;o+=3){var i=this.ranges[o],a=i-(this.inverted?r:0),s=i+(this.inverted?0:r),c=this.ranges[o+t],l=this.ranges[o+n];e(a,a+c,s,s+l),r+=l-c}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(e){return 0==e?s.empty:new s(e<0?[0,-e,0]:[0,0,e])},s.empty=new s([]);var c=function(e,t,n,o){this.maps=e||[],this.from=n||0,this.to=null==o?this.maps.length:o,this.mirror=t};function l(e){var t=Error.call(this,e);return t.__proto__=l.prototype,t}c.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new c(this.maps,this.mirror,e,t)},c.prototype.copy=function(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},c.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},c.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var o=e.getMirror(t);this.appendMap(e.maps[t],null!=o&&o<t?n+o:null)}},c.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},c.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},c.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var o=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=o&&o>t?n-o-1:null)}},c.prototype.invert=function(){var e=new c;return e.appendMappingInverted(this),e},c.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype._map=function(e,t,n){for(var o=!1,r=null,i=this.from;i<this.to;i++){var s=this.maps[i],c=r&&r[i];if(null!=c&&s.touches(e,c))e=s.recover(c);else{var l=s.mapResult(e,t);if(null!=l.recover){var u=this.getMirror(i);if(null!=u&&u>i&&u<this.to){if(l.deleted){i=u,e=this.maps[u].recover(l.recover);continue}(r||(r=Object.create(null)))[u]=l.recover}}l.deleted&&(o=!0),e=l.pos}}return n?e:new a(e,o)},l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="TransformError";var u=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new c},f={before:{configurable:!0},docChanged:{configurable:!0}};function d(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new l(t.failed);return this},u.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},f.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(u.prototype,f);var p=Object.create(null),h=function(){};h.prototype.apply=function(e){return d()},h.prototype.getMap=function(){return s.empty},h.prototype.invert=function(e){return d()},h.prototype.map=function(e){return d()},h.prototype.merge=function(e){return null},h.prototype.toJSON=function(){return d()},h.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=p[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},h.jsonID=function(e,t){if(e in p)throw new RangeError("Duplicate use of step JSON ID "+e);return p[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,r){try{return m.ok(e.replace(t,n,r))}catch(e){if(e instanceof o.ReplaceError)return m.fail(e.message);throw e}};var g=function(e){function t(t,n,o,r){e.call(this),this.from=t,this.to=n,this.slice=o,this.structure=!!r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&b(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted?null:new t(n.pos,Math.max(n.pos,o.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,o.Slice.fromJSON(e,n.slice),!!n.structure)},t}(h);h.jsonID("replace",g);var v=function(e){function t(t,n,o,r,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(b(e,this.from,this.gapFrom)||b(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&o.deleted||r<n.pos||i>o.pos?null:new t(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,o.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(h);function b(e,t,n){for(var o=e.resolve(t),r=n-t,i=o.depth;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0)for(var a=o.node(i).maybeChild(o.indexAfter(i));r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}return!1}function y(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function _(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var o=e.$from.node(n),r=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&o.canReplace(r,i,t))return n;if(0==n||o.type.spec.isolating||!y(o,r,i))break}}function w(e,t,n,o){void 0===o&&(o=e);var r=function(e,t){var n=e.parent,o=e.startIndex,r=e.endIndex,i=n.contentMatchAt(o).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(o,r,a)?i:null}(e,t),i=r&&function(e,t){var n=e.parent,o=e.startIndex,r=e.endIndex,i=n.child(o),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,c=o;s&&c<r;c++)s=s.matchType(n.child(c).type);if(!s||!s.validEnd)return null;return a}(o,t);return i?r.map(k).concat({type:t,attrs:n}).concat(i.map(k)):null}function k(e){return{type:e,attrs:null}}function x(e,t,n,o){void 0===n&&(n=1);var r=e.resolve(t),i=r.depth-n,a=o&&o[o.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var s=r.depth-1,c=n-2;s>i;s--,c--){var l=r.node(s),u=r.index(s);if(l.type.spec.isolating)return!1;var f=l.content.cutByIndex(u,l.childCount),d=o&&o[c]||l;if(d!=l&&(f=f.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(u+1,l.childCount)||!d.type.validContent(f))return!1}var p=r.indexAfter(i),h=o&&o[0];return r.node(i).canReplaceWith(p,p,h?h.type:r.node(i+1).type)}function I(e,t){var n=e.resolve(t),o=n.index();return C(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function C(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function S(e,t,n){void 0===n&&(n=-1);for(var o=e.resolve(t),r=o.depth;;r--){var i=void 0,a=void 0,s=o.index(r);if(r==o.depth?(i=o.nodeBefore,a=o.nodeAfter):n>0?(i=o.node(r+1),s++,a=o.node(r).maybeChild(s)):(i=o.node(r).maybeChild(s-1),a=o.node(r+1)),i&&!i.isTextblock&&C(i,a)&&o.node(r).canReplace(s,s+1))return t;if(0==r)break;t=n<0?o.before(r):o.after(r)}}function M(e,t,n){var o=e.resolve(t);if(!n.content.size)return t;for(var r=n.content,i=0;i<n.openStart;i++)r=r.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=o.depth;s>=0;s--){var c=s==o.depth?0:o.pos<=(o.start(s+1)+o.end(s+1))/2?-1:1,l=o.index(s)+(c>0?1:0);if(1==a?o.node(s).canReplace(l,l,r):o.node(s).contentMatchAt(l).findWrapping(r.firstChild.type))return 0==c?o.pos:c<0?o.before(s+1):o.after(s+1)}return null}function O(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(O(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return o.Fragment.fromArray(r)}h.jsonID("replaceAround",v),u.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,i=e.depth,a=n.before(i+1),s=r.after(i+1),c=a,l=s,u=o.Fragment.empty,f=0,d=i,p=!1;d>t;d--)p||n.index(d)>0?(p=!0,u=o.Fragment.from(n.node(d).copy(u)),f++):c--;for(var h=o.Fragment.empty,m=0,g=i,b=!1;g>t;g--)b||r.after(g+1)<r.end(g)?(b=!0,h=o.Fragment.from(r.node(g).copy(h)),m++):l++;return this.step(new v(c,l,a,s,new o.Slice(u.append(h),f,m),u.size-f,!0))},u.prototype.wrap=function(e,t){for(var n=o.Fragment.empty,r=t.length-1;r>=0;r--)n=o.Fragment.from(t[r].type.create(t[r].attrs,n));var i=e.start,a=e.end;return this.step(new v(i,a,i,a,new o.Slice(n,0,0),t.length,!0))},u.prototype.setBlockType=function(e,t,n,r){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var o=e.resolve(t),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),c=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new v(c,l,c+1,l-1,new o.Slice(o.Fragment.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(e,t,n,r){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new v(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new o.Slice(o.Fragment.from(a),0,0),1,!0))},u.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),i=o.Fragment.empty,a=o.Fragment.empty,s=r.depth,c=r.depth-t,l=t-1;s>c;s--,l--){i=o.Fragment.from(r.node(s).copy(i));var u=n&&n[l];a=o.Fragment.from(u?u.type.create(u.attrs,a):r.node(s).copy(a))}return this.step(new g(e,e,new o.Slice(i.append(a),t,t),!0))},u.prototype.join=function(e,t){void 0===t&&(t=1);var n=new g(e-t,e+t,o.Slice.empty,!0);return this.step(n)};var N=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new o.Slice(O(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new T(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new t(n.pos,o.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);h.jsonID("addMark",N);var T=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new o.Slice(O(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new N(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new t(n.pos,o.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);function E(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}h.jsonID("removeMark",T),u.prototype.addMark=function(e,t,n){var o=this,r=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(o,c,l){if(o.isInline){var u=o.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var f=Math.max(c,e),d=Math.min(c+o.nodeSize,t),p=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(p)||(a&&a.to==f&&a.mark.eq(u[h])?a.to=d:r.push(a=new T(f,d,u[h])));s&&s.to==f?s.to=d:i.push(s=new N(f,d,n))}}})),r.forEach((function(e){return o.step(e)})),i.forEach((function(e){return o.step(e)})),this},u.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){a++;var c=null;if(n instanceof o.MarkType){var l=n.isInSet(r.marks);l&&(c=[l])}else n?n.isInSet(r.marks)&&(c=[n]):c=r.marks;if(c&&c.length)for(var u=Math.min(s+r.nodeSize,t),f=0;f<c.length;f++){for(var d=c[f],p=void 0,h=0;h<i.length;h++){var m=i[h];m.step==a-1&&d.eq(i[h].style)&&(p=m)}p?(p.to=u,p.step=a):i.push({style:d,from:Math.max(s,e),to:u,step:a})}}})),i.forEach((function(e){return r.step(new T(e.from,e.to,e.style))})),this},u.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<r.childCount;s++){var c=r.child(s),l=a+c.nodeSize,u=n.matchType(c.type,c.attrs);if(u){n=u;for(var f=0;f<c.marks.length;f++)t.allowsMarkType(c.marks[f].type)||this.step(new T(a,l,c.marks[f]))}else i.push(new g(a,l,o.Slice.empty));a=l}if(!n.validEnd){var d=n.fillBefore(o.Fragment.empty,!0);this.replace(a,a,new o.Slice(d,0,0))}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},u.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=o.Slice.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=o.Slice.empty),t==n&&!r.size)return null;var i=e.resolve(t),a=e.resolve(n);return E(i,a,r)?new g(t,n,r):new A(i,a,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},u.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.delete=function(e,t){return this.replace(e,t,o.Slice.empty)},u.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var A=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}this.placed=o.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=o.Fragment.from(e.node(a).copy(this.placed))},D={depth:{configurable:!0}};function L(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(L(e.firstChild.content,t-1,n)))}function P(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(P(e.lastChild.content,t-1,n)))}function R(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function F(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,F(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(o.Fragment.empty,!0)))),e.copy(r)}function B(e,t,n,o,r){var i=e.node(t),a=r?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=o.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var o=n;o<t.childCount;o++)if(!e.allowsMarks(t.child(o).marks))return!0;return!1}(n,i.content,a)?s:null}function z(e,t,n,r,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(z(a.content,t+1,n,r,a)))}if(t>r){var s=i.contentMatchAt(0),c=s.fillBefore(e).append(e);e=c.append(s.matchFragment(c).fillBefore(o.Fragment.empty,!0))}return e}function j(e,t){for(var n=[],o=Math.min(e.depth,t.depth);o>=0;o--){var r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;r==t.start(o)&&n.push(o)}return n}D.depth.get=function(){return this.frontier.length-1},A.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=t<0?this.$to:r.doc.resolve(t);if(this.close(i)){for(var a=this.placed,s=r.depth,c=i.depth;s&&c&&1==a.childCount;)a=a.firstChild.content,s--,c--;var l=new o.Slice(a,s,c);if(t>-1)return new v(r.pos,t,this.$to.pos,this.$to.end(),l,n);if(l.size||r.pos!=this.$to.pos)return new g(r.pos,i.pos,l)}return null},A.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=R(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],s=a.type,c=a.match,l=void 0,u=void 0;if(1==e&&(r?c.matchType(r.type)||(u=c.fillBefore(o.Fragment.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:u};if(2==e&&r&&(l=c.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:l};if(n&&c.matchType(n.type))break}},A.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=R(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new o.Slice(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)},A.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=R(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new o.Slice(L(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new o.Slice(L(t,n,1),n,r)},A.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var c=this.unplaced,l=r?r.content:c.content,u=c.openStart-t,f=0,d=[],p=this.frontier[n],h=p.match,m=p.type;if(i){for(var g=0;g<i.childCount;g++)d.push(i.child(g));h=h.matchFragment(i)}for(var v=l.size+t-(c.content.size-c.openEnd);f<l.childCount;){var b=l.child(f),y=h.matchType(b.type);if(!y)break;(++f>1||0==u||b.content.size)&&(h=y,d.push(F(b.mark(m.allowedMarks(b.marks)),1==f?u:0,f==l.childCount?v:-1)))}var _=f==l.childCount;_||(v=-1),_&&v<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=h;for(var w=0,k=l;w<v;w++){var x=k.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),k=x.content}this.unplaced=_?0==t?o.Slice.empty:new o.Slice(L(c.content,t-1,1),t-1,v<0?c.openEnd:t-1):new o.Slice(L(c.content,t,f),c.openStart,c.openEnd),this.placed=P(this.placed,n,o.Fragment.from(d))},A.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!B(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,o=this.$to.after(n);n>1&&o==this.$to.end(--n);)++o;return o},A.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],o=n.match,r=B(e,t,n.type,o,!1);if(r){for(var i=t-1;i>=0;i--){var a=this.frontier[i],s=a.match,c=B(e,i,a.type,s,!0);if(!c||c.childCount)continue e}return{depth:t,fit:r}}}},A.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return!1;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=P(this.placed,t.depth,t.fit));for(var n=t.depth+1;n<=e.depth;n++){var o=e.node(n),r=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,r)}return!0},A.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=P(this.placed,this.depth,o.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},A.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(o.Fragment.empty,!0);e.childCount&&(this.placed=P(this.placed,this.frontier.length,e))},Object.defineProperties(A.prototype,D),u.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),i=this.doc.resolve(t);if(E(r,i,n))return this.step(new g(e,t,n));var a=j(r,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(r.depth+1);a.unshift(s);for(var c=r.depth,l=r.pos-1;c>0;c--,l--){var u=r.node(c).type.spec;if(u.defining||u.isolating)break;a.indexOf(c)>-1?s=c:r.before(c)==l&&a.splice(1,0,-c)}for(var f=a.indexOf(s),d=[],p=n.openStart,h=n.content,m=0;;m++){var v=h.firstChild;if(d.push(v),m==n.openStart)break;h=v.content}p>0&&d[p-1].type.spec.defining&&r.node(f).type!=d[p-1].type?p-=1:p>=2&&d[p-1].isTextblock&&d[p-2].type.spec.defining&&r.node(f).type!=d[p-2].type&&(p-=2);for(var b=n.openStart;b>=0;b--){var y=(b+p+1)%(n.openStart+1),_=d[y];if(_)for(var w=0;w<a.length;w++){var k=a[(w+f)%a.length],x=!0;k<0&&(x=!1,k=-k);var I=r.node(k-1),C=r.index(k-1);if(I.canReplaceWith(C,C,_.type,_.marks))return this.replace(r.before(k),x?i.after(k):t,new o.Slice(z(n.content,0,n.openStart,y),y,n.openEnd))}}for(var S=this.steps.length,M=a.length-1;M>=0&&(this.replace(e,t,n),!(this.steps.length>S));M--){var O=a[M];M<0||(e=r.before(O),t=i.after(O))}return this},u.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var o=e.resolve(t);if(o.parent.canReplaceWith(o.index(),o.index(),n))return t;if(0==o.parentOffset)for(var r=o.depth-1;r>=0;r--){var i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(var a=o.depth-1;a>=0;a--){var s=o.indexAfter(a);if(o.node(a).canReplaceWith(s,s,n))return o.after(a+1);if(s<o.node(a).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),o=this.doc.resolve(t),r=j(n,o),i=0;i<r.length;i++){var a=r[i],s=i==r.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),o.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return this.delete(n.before(a),o.after(a))}for(var c=1;c<=n.depth&&c<=o.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&o.end(c)-t!=o.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,o,r,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,i){var a=e.apply(t,o);function s(e){n(a,r,i,s,c,"next",e)}function c(e){n(a,r,i,s,c,"throw",e)}s(void 0)}))}}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var f=s(u),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:u,updater:g(d,t),references:1}),o.push(u)}return o}function l(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,f=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=f(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var h=null,m=0;function g(e,t){var n,o,r;if(t.singleton){var i=m++;n=h||(h=l(t)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=l(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var i=c(e,t),l=0;l<n.length;l++){var u=s(n[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([r]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(25);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Computed",{enumerable:!0,get:function(){return o.Computed}}),Object.defineProperty(t,"Observed",{enumerable:!0,get:function(){return r.Observed}}),Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return i.connect}}),Object.defineProperty(t,"connectFactory",{enumerable:!0,get:function(){return i.connectFactory}}),Object.defineProperty(t,"connectObject",{enumerable:!0,get:function(){return i.connectObject}}),Object.defineProperty(t,"configureConnect",{enumerable:!0,get:function(){return i.configureConnect}});var o=n(31),r=n(151),i=n(152)},function(e,t,n){var o=n(26),r=n(30);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){var o=n(127),r=n(128),i=n(28),a=n(129);e.exports=function(e){return o(e)||r(e)||i(e)||a()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return wt})),n.d(t,"b",(function(){return Ct})),n.d(t,"c",(function(){return Rt}));var o=n(2),r=n(0),i=n(6),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(c||l||s);a.ie_version=c?document.documentMode||6:l?+l[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var f=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!f,a.chrome_version=f&&+f[1],a.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.safari=/Apple Computer/.test(navigator.vendor),a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var d=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},p=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},h=function(e,t,n){var o=document.createRange();return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},m=function(e,t,n,o){return n&&(v(e,t,n,o,-1)||v(e,t,n,o,1))},g=/^(img|br|input|textarea|hr)$/i;function v(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:b(e))){var i=e.parentNode;if(1!=i.nodeType||y(e)||g.test(e.nodeName)||"false"==e.contentEditable)return!1;t=d(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function y(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var _=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function w(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function k(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function x(e,t){return"number"==typeof e?e:e[t]}function I(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function C(e,t,n){for(var o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=p(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,c=s?k(i):I(a),l=0,u=0;if(t.top<c.top+x(o,"top")?u=-(c.top-t.top+x(r,"top")):t.bottom>c.bottom-x(o,"bottom")&&(u=t.bottom-c.bottom+x(r,"bottom")),t.left<c.left+x(o,"left")?l=-(c.left-t.left+x(r,"left")):t.right>c.right-x(o,"right")&&(l=t.right-c.right+x(r,"right")),l||u)if(s)i.defaultView.scrollBy(l,u);else{var f=a.scrollLeft,d=a.scrollTop;u&&(a.scrollTop+=u),l&&(a.scrollLeft+=l);var h=a.scrollLeft-f,m=a.scrollTop-d;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(s)break}}function S(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=p(e));return t}function M(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.dom,i=o.top,a=o.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}var O=null;function N(e,t){for(var n,o,r=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=h(c).getClientRects()}for(var f=0;f<u.length;f++){var d=u[f];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var p=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(p<r){n=c,r=p,o=p&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==c.nodeType&&p&&(i=l+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);var i=A(o,1);if(i.top!=i.bottom&&T(t,i))return{node:e,offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:N(n,o)}function T(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function E(e,t){var n,o,r,i,s=e.root;if(s.caretPositionFromPoint)try{var c=s.caretPositionFromPoint(t.left,t.top);c&&(r=(n=c).offsetNode,i=n.offset)}catch(e){}if(!r&&s.caretRangeFromPoint){var l=s.caretRangeFromPoint(t.left,t.top);l&&(r=(o=l).startContainer,i=o.startOffset)}var u,f=s.elementFromPoint(t.left,t.top+1);if(a.safari&&f.draggable&&(r=i=null),!f||!e.dom.contains(1!=f.nodeType?f.parentNode:f)){var d=e.dom.getBoundingClientRect();if(!T(t,d))return null;if(!(f=function e(t,n,o){var r=t.childNodes.length;if(r&&o.top<o.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(n.top-o.top)/(o.bottom-o.top))-2)),a=i;;){var s=t.childNodes[a];if(1==s.nodeType)for(var c=s.getClientRects(),l=0;l<c.length;l++){var u=c[l];if(T(n,u))return e(s,n,u)}if((a=(a+1)%r)==i)break}return t}(e.dom,t,d)))return null}if(f=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(f,t),r){if(a.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var p,h=r.childNodes[i];"IMG"==h.nodeName&&(p=h.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(u=function(e,t,n,o){for(var r=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>o.left||s.top>o.top)r=a.posBefore;else{if(!(s.right<o.left||s.bottom<o.top))break;r=a.posAfter}}i=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,i,t))}null==u&&(u=function(e,t,n){var o=N(t,n),r=o.node,i=o.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}(e,f,t));var m=e.docView.nearestDesc(f,!0);return{pos:u,inside:m?m.posAtStart-m.border:-1}}function A(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function D(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset;if(3==o.nodeType&&(a.webkit||a.gecko)){var i=A(h(o,r,r),0);if(a.gecko&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){var s=A(h(o,r-1,r-1),-1);if(s.top==i.top){var c=A(h(o,r,r+1),-1);if(c.top!=i.top)return L(c,c.left<s.left)}}return i}if(1==o.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,u=!0;if(r<o.childNodes.length){var f=o.childNodes[r];1==f.nodeType&&(l=f.getBoundingClientRect())}if(!l&&r){var d=o.childNodes[r-1];1==d.nodeType&&(l=d.getBoundingClientRect(),u=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||o.getBoundingClientRect(),u)}for(var p=-1;p<2;p+=2)if(p<0&&r){var m=void 0,g=3==o.nodeType?h(o,r-1,r):3==(m=o.childNodes[r-1]).nodeType?h(m):1==m.nodeType&&"BR"!=m.nodeName?m:null;if(g){var v=A(g,1);if(v.top<v.bottom)return L(v,!1)}}else if(p>0&&r<b(o)){var y=void 0,_=3==o.nodeType?h(o,r,r+1):3==(y=o.childNodes[r]).nodeType?h(y):1==y.nodeType?y:null;if(_){var w=A(_,-1);if(w.top<w.bottom)return L(w,!0)}}return L(A(3==o.nodeType?h(o):o,0),!1)}function L(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function P(e,t,n){var o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}var R=/[\u0590-\u08ac]/;var F=null,B=null,z=!1;function j(e,t,n){return F==t&&B==n?z:(F=t,B=n,z="up"==n||"down"==n?function(e,t,n){var o=t.selection,r="up"==n?o.$anchor.min(o.$head):o.$anchor.max(o.$head);return P(e,t,(function(){for(var t=e.docView.domFromPos(r.pos).node;;){var o=e.docView.nearestDesc(t,!0);if(!o)break;if(o.node.isBlock){t=o.dom;break}t=o.dom.parentNode}for(var i=D(e,r.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=h(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var o=t.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,a=r==o.parent.content.size,s=getSelection();return R.test(o.parent.textContent)&&s.modify?P(e,t,(function(){var t=s.getRangeAt(0),r=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?i:a}(e,t,n))}var H=function(e,t,n,o){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},W={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};H.prototype.matchesWidget=function(){return!1},H.prototype.matchesMark=function(){return!1},H.prototype.matchesNode=function(){return!1},H.prototype.matchesHack=function(){return!1},W.beforePosition.get=function(){return!1},H.prototype.parseRule=function(){return null},H.prototype.stopEvent=function(){return!1},W.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},W.border.get=function(){return 0},H.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},H.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var o=this.children[t];if(o==e)return n;n+=o.size}},W.posBefore.get=function(){return this.parent.posBeforeChild(this)},W.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},W.posAfter.get=function(){return this.posBefore+this.size},W.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},H.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,r;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},H.prototype.nearestDesc=function(e,t){for(var n=!0,o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},H.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},H.prototype.posFromDOM=function(e,t,n){for(var o=e;;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}},H.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}},H.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:d(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var o=this.children[n],r=t+o.size;if(e<r)return o.domFromPos(e-t-o.border);t=r}},H.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==o&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,l);e=i;for(var u=a;u>0;u--){var f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=d(f.dom)+1;break}e-=f.size}-1==o&&(o=0)}if(o>-1&&t<=c){t=c;for(var p=a+1;p<this.children.length;p++){var h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){r=d(h.dom);break}t+=h.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}},H.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},H.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,o=t.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]},H.prototype.setSelection=function(e,t,n,o){for(var r=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var c=this.children[a],l=s+c.size;if(r>s&&i<l)return c.setSelection(e-s-c.border,t-s-c.border,n,o);s=l}var u=this.domFromPos(e),f=this.domFromPos(t),d=n.getSelection();if(o||!m(u.node,u.offset,d.anchorNode,d.anchorOffset)||!m(f.node,f.offset,d.focusNode,d.focusOffset)){var p=!1;if(d.extend||e==t){d.collapse(u.node,u.offset);try{e!=t&&d.extend(f.node,f.offset),p=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!p){if(e>t){var h=u;u=f,f=h}var g=document.createRange();g.setEnd(f.node,f.offset),g.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(g)}}},H.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},W.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},H.prototype.markDirty=function(e,t){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+r.border,s=i-r.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-a,t-a):r.dirty=3);r.dirty=3}n=i}this.dirty=2},H.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(H.prototype,W);var $=[],V=function(e){function t(t,n,o,r){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(o,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,$,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(H),U=function(e){function t(t,n,o,r){e.call(this,t,$,n,null),this.textDOM=o,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(H),q=function(e){function t(t,n,o,r){e.call(this,t,[],o,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,i){var a=i.nodeViews[n.type.name],s=a&&a(n,i,o);return s&&s.dom||(s=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,o){var r=t.create(this.parent,this.mark,!0,o),i=this.children,a=this.size;n<a&&(i=ce(i,n,a,o)),e>0&&(i=ce(i,0,e,o));for(var s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r},t}(H),K=function(e){function t(t,n,o,r,i,a,s,c,l){e.call(this,t,n.isLeaf?$:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=o,this.innerDeco=r,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,o,i,a,s){var c,l,u=a.nodeViews[n.type.name],f=u&&u(n,a,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),o),d=f&&f.dom,p=f&&f.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(c=r.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=c.contentDOM);p||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var h=d;return d=oe(d,o,n),f?l=new Y(e,n,o,i,d,p,h,f,a,s+1):n.isText?new J(e,n,o,i,d,h,a):new t(e,n,o,i,d,p,h,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?r.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&re(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,i=t,a=o&&e.composing&&this.localCompositionNode(e,t),s=new ae(this,a&&a.node);!function(e,t,n,o){var r=t.locals(e),i=0;if(0==r.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);o(s,r,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],u=null,f=0;;){if(c<r.length&&r[c].to==i){for(var d=r[c++],p=void 0;c<r.length&&r[c].to==i;)(p||(p=[d])).push(r[c++]);if(p){p.sort(se);for(var h=0;h<p.length;h++)n(p[h],f,!!u)}else n(d,f,!!u)}var m=void 0,g=void 0;if(u)g=-1,m=u,u=null;else{if(!(f<e.childCount))break;g=f,m=e.child(f++)}for(var v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;c<r.length&&r[c].from==i;)l.push(r[c++]);var b=i+m.nodeSize;if(m.isText){var y=b;c<r.length&&r[c].from<y&&(y=r[c].from);for(var _=0;_<l.length;_++)l[_].to<y&&(y=l[_].to);y<b&&(u=m.cut(y-i),m=m.cut(0,y-i),b=y,g=-1)}o(m,l.length?l.slice():$,t.forChild(i,m),g),i=b}}(this.node,this.innerDeco,(function(t,a,c){t.spec.marks?s.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&!c&&s.syncToMarks(a==n.node.childCount?r.Mark.none:n.node.child(a).marks,o,e),s.placeWidget(t,e,i)}),(function(t,n,r,a){s.syncToMarks(t.marks,o,e),s.findNodeMatch(t,n,r,a)||s.updateNextNode(t,n,r,e,a)||s.addNode(t,n,r,e,i),i+=t.nodeSize})),s.syncToMarks($,o,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),this.renderChildren())},t.prototype.renderChildren=function(){!function e(t,n){for(var o=t.firstChild,r=0;r<n.length;r++){var i=n[r],a=i.dom;if(a.parentNode==t){for(;a!=o;)o=ie(o);o=o.nextSibling}else t.insertBefore(a,o);if(i instanceof q){var s=o?o.previousSibling:t.lastChild;e(i.contentDOM,i.children),o=s?s.nextSibling:t.firstChild}}for(;o;)o=ie(o)}(this.contentDOM,this.children),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom)},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(!(e.state.selection instanceof o.TextSelection)||r<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=b(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var c=s.nodeValue,l=function(e,t,n,o){for(var r=0,i=0;r<e.childCount&&i<=o;){var a=e.child(r++),s=i;if(i+=a.nodeSize,a.isText){for(var c=a.text;r<e.childCount;){var l=e.child(r++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){var u=c.lastIndexOf(t,o-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,c,r-t,i-t);return l<0?null:{node:s,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,o=t.pos,r=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new U(this,i,n,r);e.compositionNodes.push(a),this.children=ce(this.children,o,o+r.length,e,a)}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)},t.prototype.updateInner=function(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!re(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=te(this.dom,this.nodeDOM,ee(this.outerDeco,this.node,t),ee(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(H);function X(e,t,n,o,r){return oe(o,t,e),new K(null,e,t,n,o,o,o,r,0)}var J=function(e){function t(t,n,o,r,i,a,s){e.call(this,t,n,o,r,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{skip:this.nodeDOM.parentNode||!0}},t.prototype.update=function(e,t){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,o){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,o)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,o){var r=this.node.cut(e,n),i=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},t}(K),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(H),Y=function(e){function t(t,n,o,r,i,a,s,c,l,u){e.call(this,t,n,o,r,i,a,s,l,u),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,o,r),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,o,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o):e.prototype.setSelection.call(this,t,n,o,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(K);function Z(e){e&&(this.nodeName=e)}Z.prototype=Object.create(null);var Q=[new Z];function ee(e,t,n){if(0==e.length)return Q;for(var o=n?Q[0]:new Z,r=[o],i=0;i<e.length;i++){var a=e[i].type.attrs,s=o;if(a)for(var c in a.nodeName&&r.push(s=new Z(a.nodeName)),a){var l=a[c];null!=l&&(n&&1==r.length&&r.push(s=o=new Z(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+l:"style"==c?s.style=(s.style?s.style+";":"")+l:"nodeName"!=c&&(s[c]=l))}}return r}function te(e,t,n,o){if(n==Q&&o==Q)return t;for(var r=t,i=0;i<o.length;i++){var a=o[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==a.nodeName||((c=document.createElement(a.nodeName)).appendChild(r),s=Q[0]),r=c}ne(r,s||Q[0],a)}return r}function ne(e,t,n){for(var o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):$,a=n.class?n.class.split(" "):$,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function oe(e,t,n){return te(e,e,Q,ee(t,n,1!=e.nodeType))}function re(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ie(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ae=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],o=e.childCount,r=t.length-1;o>0&&r>=0;r--){var i=t[r],a=i.node;if(a){if(a!=e.child(o-1))break;n.push(i),--o}}return{nodes:n.reverse(),offset:o}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function se(e,t){return e.type.side-t.type.side}function ce(e,t,n,o,r){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,u=s+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,o)),r&&(i.push(r),r=null),u>n&&i.push(c.slice(n-l,c.size,o)))}return i}function le(e,t){var n=e.selection,r=n.$anchor,i=n.$head,a=t>0?r.max(i):r.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&o.Selection.findFrom(s,t)}function ue(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function fe(e,t,n){var r=e.state.selection;if(!(r instanceof o.TextSelection)){if(r instanceof o.NodeSelection&&r.node.isInline)return ue(e,new o.TextSelection(t>0?r.$to:r.$from));var i=le(e.state,t);return!!i&&ue(e,i)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var s=le(e.state,t);return!!(s&&s instanceof o.NodeSelection)&&ue(e,s)}if(!(a.mac&&n.indexOf("m")>-1)){var c,l=r.$head,u=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!u||u.isText)return!1;var f=t<0?l.pos-u.nodeSize:l.pos;return!!(u.isAtom||(c=e.docView.descAt(f))&&!c.contentDOM)&&(o.NodeSelection.isSelectable(u)?ue(e,new o.NodeSelection(t<0?e.state.doc.resolve(l.pos-u.nodeSize):l)):!!a.webkit&&ue(e,new o.TextSelection(e.state.doc.resolve(t<0?f:f+u.nodeSize))))}}function de(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function pe(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function he(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){var r,i,s=!1;for(a.gecko&&1==n.nodeType&&o<de(n)&&pe(n.childNodes[o])&&(s=!0);;)if(o>0){if(1!=n.nodeType)break;var c=n.childNodes[o-1];if(pe(c))r=n,i=--o;else{if(3!=c.nodeType)break;o=(n=c).nodeValue.length}}else{if(ge(n))break;for(var l=n.previousSibling;l&&pe(l);)r=n.parentNode,i=d(l),l=l.previousSibling;if(l)o=de(n=l);else{if((n=n.parentNode)==e.dom)break;o=0}}s?ve(e,t,n,o):r&&ve(e,t,r,i)}}function me(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){for(var r,i,a=de(n);;)if(o<a){if(1!=n.nodeType)break;if(!pe(n.childNodes[o]))break;r=n,i=++o}else{if(ge(n))break;for(var s=n.nextSibling;s&&pe(s);)r=s.parentNode,i=d(s)+1,s=s.nextSibling;if(s)o=0,a=de(n=s);else{if((n=n.parentNode)==e.dom)break;o=a=0}}r&&ve(e,t,r,i)}}function ge(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ve(e,t,n,o){if(_(t)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection()}function be(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=r.$from,s=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var c=le(e.state,t);if(c&&c instanceof o.NodeSelection)return ue(e,c)}if(!i.parent.inlineContent){var l=o.Selection.findFrom(t<0?i:s,t);return!l||ue(e,l)}return!1}function ye(e,t){if(!(e.state.selection instanceof o.TextSelection))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,a=n.empty;if(!r.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var c=e.state.tr;return t<0?c.delete(r.pos-s.nodeSize,r.pos):c.delete(r.pos,r.pos+s.nodeSize),e.dispatch(c),!0}return!1}function _e(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function we(e,t){var n=t.keyCode,o=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==o?ye(e,-1)||he(e):46==n||a.mac&&68==n&&"c"==o?ye(e,1)||me(e):13==n||27==n||(37==n?fe(e,-1,o)||he(e):39==n?fe(e,1,o)||me(e):38==n?be(e,-1,o)||he(e):40==n?function(e){if(a.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;_e(e,r,!0),setTimeout((function(){return _e(e,r,!1)}),20)}}}(e)||be(e,1,o)||me(e):o==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ke(e,t){var n,r,i=e.root.getSelection(),a=e.state.doc,s=e.docView.nearestDesc(i.focusNode),c=s&&0==s.size,l=e.docView.posFromDOM(i.focusNode,i.focusOffset),u=a.resolve(l);if(_(i)){for(n=u;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&o.NodeSelection.isSelectable(s.node)&&s.parent&&(!s.node.isInline||!function(e,t,n){for(var o=0==t,r=t==b(e);o||r;){if(e==n)return!0;var i=d(e);if(!(e=e.parentNode))return!1;o=o&&0==i,r=r&&i==b(e)}}(i.focusNode,i.focusOffset,s.dom))){var f=s.posBefore;r=new o.NodeSelection(l==f?u:a.resolve(f))}}else n=a.resolve(e.docView.posFromDOM(i.anchorNode,i.anchorOffset));r||(r=Te(e,n,u,"pointer"==t||e.state.selection.head<u.pos&&!c?1:-1));return r}function xe(e,t){var n=e.state.selection;if(Oe(e,n),e.editable?e.hasFocus():Ee(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,d(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{var r,i,s=n.anchor,c=n.head;!Ie||n instanceof o.TextSelection||(n.$from.parent.inlineContent||(r=Ce(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Ce(e,n.to))),e.docView.setSelection(s,c,e.root,t),Ie&&(r&&Me(r),i&&Me(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ae.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ae.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ae.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ae.prototype.syncToMarks=function(e,t,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,e.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=q.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},ae.prototype.findNodeMatch=function(e,t,n,o){var r=-1,i=o<0?void 0:this.getPreMatch(o),a=this.top.children;if(i&&i.matchesNode(e,t,n))r=a.indexOf(i);else for(var s=this.index,c=Math.min(a.length,s+5);s<c;s++){var l=a[s];if(l.matchesNode(e,t,n)&&this.preMatched.indexOf(l)<0){r=s;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},ae.prototype.updateNextNode=function(e,t,n,o,r){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof K){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=r)return!1;var c=a.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&re(t,a.outerDeco)))&&a.update(e,t,n,o))return this.destroyBetween(this.index,i),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},ae.prototype.addNode=function(e,t,n,o,r){this.top.children.splice(this.index++,0,K.create(this.top,e,t,n,o,r)),this.changed=!0},ae.prototype.placeWidget=function(e,t,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(e))this.index++;else{var o=new V(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}},ae.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof q;)e=e.children[e.children.length-1];if(!e||!(e instanceof J)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new G(this.top,$,t,null)),this.changed=!0}};var Ie=a.safari||a.chrome&&a.chrome_version<63;function Ce(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,s=r?o.childNodes[r-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return Se(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return Se(i);if(s)return Se(s)}}function Se(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Me(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Oe(e,t){if(t instanceof o.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Ne(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Ne(e)}function Ne(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function Te(e,t,n,r){return e.someProp("createSelectionBetween",(function(o){return o(e,t,n)}))||o.TextSelection.between(t,n,r)}function Ee(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Ae(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function De(e,t,n,i,s){if(t<0){var c=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=ke(e,c);if(!e.state.selection.eq(l)){var u=e.state.tr.setSelection(l);"pointer"==c?u.setMeta("pointer",!0):"key"==c&&u.scrollIntoView(),e.dispatch(u)}}else{var f=e.state.doc.resolve(t),d=f.sharedDepth(n);t=f.before(d+1),n=e.state.doc.resolve(n).after(d+1);var p,h,m=e.state.selection,g=function(e,t,n){var o=e.docView.parseRange(t,n),i=o.node,s=o.fromOffset,c=o.toOffset,l=o.from,u=o.to,f=e.root.getSelection(),d=null,p=f.anchorNode;if(p&&e.dom.contains(1==p.nodeType?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],_(f)||d.push({node:f.focusNode,offset:f.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=c;h>s;h--){var m=i.childNodes[h-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){c=h;break}if(!g||g.size)break}var v=e.state.doc,b=e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema),y=v.resolve(l),w=null,k=b.parse(i,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:c,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:d,ruleFromNode:Ae,context:y});if(d&&null!=d[0].pos){var x=d[0].pos,I=d[1]&&d[1].pos;null==I&&(I=x),w={anchor:x+l,head:I+l}}return{doc:k,sel:w,from:l,to:u}}(e,t,n),v=e.state.doc,b=v.slice(g.from,g.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,h="end"):(p=e.state.selection.from,h="start"),e.lastKeyCode=null;var y=function(e,t,n,o,r){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==r){var l=Math.max(0,i-Math.min(s,c));o-=s+l-i}if(s<i&&e.size<t.size){c=(i-=o<=i&&o>=s?i-o:0)+(c-s),s=i}else if(c<i){s=(i-=o<=i&&o>=c?i-o:0)+(s-c),c=i}return{start:i,endA:s,endB:c}}(b.content,g.doc.content,g.from,p,h);if(!y){if(!(i&&m instanceof o.TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor))||e.composing||g.sel&&g.sel.anchor!=g.sel.head){if(g.sel){var k=Le(e,e.state.doc,g.sel);k&&!k.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(k))}return}y={start:m.from,endA:m.to,endB:m.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof o.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>g.from&&" "==g.doc.textBetween(y.start-g.from-1,y.start-g.from+1)&&(y.start--,y.endA--,y.endB--);var x,I=g.doc.resolveNoCache(y.start-g.from),C=g.doc.resolveNoCache(y.endB-g.from),S=I.sameParent(C)&&I.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-100&&(!S||s.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!S&&I.pos<g.doc.content.size&&(x=o.Selection.findFrom(g.doc.resolve(I.pos+1),1,!0))&&x.head==C.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,o,r){if(!o.parent.isTextblock||n-t<=r.pos-o.pos||Pe(o,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Pe(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Pe(a,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(a.parent.content)}(v,y.start,y.endA,I,C)&&e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{var M,O,N,T,E=y.start,A=y.endA;if(S)if(I.pos==C.pos)a.ie&&a.ie_version<=11&&0==I.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return xe(e)}),20)),M=e.state.tr.delete(E,A),O=v.resolve(y.start).marksAcross(v.resolve(y.endA));else if(y.endA==y.endB&&(T=v.resolve(y.start))&&(N=function(e,t){for(var n,o,i,a=e.firstChild.marks,s=t.firstChild.marks,c=a,l=s,u=0;u<s.length;u++)c=s[u].removeFromSet(c);for(var f=0;f<a.length;f++)l=a[f].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",i=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",i=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var d=[],p=0;p<t.childCount;p++)d.push(i(t.child(p)));if(r.Fragment.from(d).eq(e))return{mark:o,type:n}}(I.parent.content.cut(I.parentOffset,C.parentOffset),T.parent.content.cut(T.parentOffset,y.endA-T.start()))))M=e.state.tr,"add"==N.type?M.addMark(E,A,N.mark):M.removeMark(E,A,N.mark);else if(I.parent.child(I.index()).isText&&I.index()==C.index()-(C.textOffset?0:1)){var D=I.parent.textBetween(I.parentOffset,C.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,E,A,D)})))return;M=e.state.tr.insertText(D,E,A)}if(M||(M=e.state.tr.replace(E,A,g.doc.slice(y.start-g.from,y.endB-g.from))),g.sel){var L=Le(e,M.doc,g.sel);L&&!(a.chrome&&a.android&&e.composing&&L.empty&&(L.head==E||L.head==M.mapping.map(A)-1)||a.ie&&L.empty&&L.head==E)&&M.setSelection(L)}O&&M.ensureMarks(O),e.dispatch(M.scrollIntoView())}}}function Le(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Te(e,t.resolve(n.anchor),t.resolve(n.head))}function Pe(e,t,n){for(var o=e.depth,r=t?e.end():e.pos;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n)for(var i=e.node(o).maybeChild(e.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function Re(e,t){for(var n=[],o=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){i--,a--;var s=o.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),o=s.content}var c=e.someProp("clipboardSerializer")||r.DOMSerializer.fromSchema(e.state.schema),l=We(),u=l.createElement("div");u.appendChild(c.serializeFragment(o,{document:l}));for(var f,d=u.firstChild;d&&1==d.nodeType&&(f=je[d.nodeName.toLowerCase()]);){for(var p=f.length-1;p>=0;p--){for(var h=l.createElement(f[p]);u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h)}d=u.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Fe(e,t,n,o,i){var a,s,c=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(o||c||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t)})),c)return new r.Slice(r.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,i)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,o=We().createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=r&&je[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);o.innerHTML=e;for(var a=0;a<i;a++)o=o.firstChild;return o}(n);var f=a&&a.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var p=e.someProp("clipboardParser")||e.someProp("domParser")||r.DOMParser.fromSchema(e.state.schema);s=p.parseSlice(a,{preserveWhitespace:!(!l&&!d),context:i})}return s=d?function(e,t){if(!e.size)return e;var n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,s=e.openEnd,c=n.length-2;c>=0;c-=2){var l=o.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;i=r.Fragment.from(l.create(n[c+1],i)),a++,s++}return new r.Slice(i,a,s)}(function(e,t,n){t<e.openStart&&(e=new r.Slice(ze(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new r.Slice(ze(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(s,+d[1],+d[2]),d[3]):r.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&function e(t,n,o,i,a){if(a<t.length&&a<n.length&&t[a]==n[a]){var s=e(t,n,o,i.lastChild,a+1);if(s)return i.copy(i.content.replaceChild(i.childCount-1,s));if(i.contentMatchAt(i.childCount).matchType(a==t.length-1?o.type:t[a+1]))return i.copy(i.content.append(r.Fragment.from(Be(o,t,a+1))))}}(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;var o=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),i=t.contentMatchAt(t.childCount).fillBefore(r.Fragment.empty,!0);return t.copy(o.append(i))}(a[a.length-1],i.length));var s=Be(e,n);a.push(s),o=o.matchType(s.type,s.attrs),i=n}}})),a)return{v:r.Fragment.from(a)}},o=t.depth;o>=0;o--){var i=n(o);if(i)return i.v}return e}(s.content,i),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function Be(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,r.Fragment.from(e));return e}function ze(e,t,n,o,i,a){var s=t<0?e.firstChild:e.lastChild,c=s.content;return i<o-1&&(c=ze(c,t,n,o,i+1,a)),i>=n&&(c=t<0?s.contentMatchAt(0).fillBefore(c,e.childCount>1||a<=i).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(r.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(c))}var je={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},He=null;function We(){return He||(He=document.implementation.createHTMLDocument("title"))}var $e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ve=a.ie&&a.ie_version<=11,Ue=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ue.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ue.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var qe=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ue,Ve&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};qe.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},qe.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},qe.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,$e),Ve&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},qe.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ve&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},qe.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},qe.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},qe.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},qe.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Ee(e)){var e;if(this.suppressingSelectionUpdates)return xe(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},qe.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},qe.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},qe.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Ee(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,s=[];if(this.view.editable)for(var c=0;c<e.length;c++){var l=this.registerMutation(e[c],s);l&&(o=o<0?l.from:Math.min(l.from,o),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(i=!0))}if(a.gecko&&s.length>1){var u=s.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var f=u[0],d=u[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(Ke)return;Ke=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||xe(this.view))}},qe.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var o=e.previousSibling,r=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var s=e.addedNodes[i],c=s.previousSibling,l=s.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l)}for(var u=o&&o.parentNode==e.target?d(o)+1:0,f=n.localPosFromDOM(e.target,u,-1),p=r&&r.parentNode==e.target?d(r):e.target.childNodes.length,h=0;h<e.addedNodes.length;h++)t.push(e.addedNodes[h]);return{from:f,to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Ke=!1;var Xe={},Je={};function Ge(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Ye(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Ze(e,t)})}))}function Ze(e,t){return e.someProp("handleDOMEvents",(function(n){var o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function Qe(e){return{left:e.clientX,top:e.clientY}}function et(e,t,n,o,r){if(-1==o)return!1;for(var i=e.state.doc.resolve(o),a=function(o){if(e.someProp(t,(function(t){return o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function tt(e,t,n){e.focused||e.focus();var o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function nt(e,t,n,r,i){return et(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?function(e,t){if(-1==t)return!1;var n,r,i=e.state.selection;i instanceof o.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(o.NodeSelection.isSelectable(c)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=r&&(tt(e,o.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&o.NodeSelection.isSelectable(r))&&(tt(e,new o.NodeSelection(n),"pointer"),!0)}(e,n))}function ot(e,t,n,o){return et(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(function(n){return n(e,t,o)}))}function rt(e,t,n,r){return et(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(tt(e,o.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),i=r.depth+1;i>0;i--){var a=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(a.inlineContent)tt(e,o.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!o.NodeSelection.isSelectable(a))continue;tt(e,o.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function it(e){return ft(e)}Je.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ct(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||we(e,t)?t.preventDefault():Ge(e,"key");else{var n=Date.now();e.lastIOSEnter=n,setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,w(13,"Enter"))})),e.lastIOSEnter=0)}),50)}},Je.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Je.keypress=function(e,t){if(!(ct(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof o.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var at=a.mac?"metaKey":"ctrlKey";Xe.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=it(e),o=Date.now(),r="singleClick";o-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(t,e.lastClick)&&!t[at]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:o,x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(Qe(t));i&&("singleClick"==r?e.mouseDown=new st(e,i,t,n):("doubleClick"==r?ot:rt)(e,i.pos,i.inside,t)?t.preventDefault():Ge(e,"pointer"))};var st=function(e,t,n,r){var i,s,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[at],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,s=l.depth?l.before():0}this.mightDrag=null;var u=r?null:n.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof o.NodeSelection&&s==e.state.selection.from)&&(this.mightDrag={node:i,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ge(e,"pointer")};function ct(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}st.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},st.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Qe(e))),this.allowDefault||!t?Ge(this.view,"pointer"):nt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof o.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(tt(this.view,o.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ge(this.view,"pointer")}},st.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ge(this.view,"pointer")},Xe.touchdown=function(e){it(e),Ge(e,"pointer")},Xe.contextmenu=function(e){return it(e)};var lt=a.android?5e3:-1;function ut(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return ft(e)}),t))}function ft(e,t){for(e.domObserver.forceFlush(),e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty();if(t||e.docView.dirty){var n=ke(e);return n.eq(e.state.selection)?e.updateState(e.state):e.dispatch(e.state.tr.setSelection(n)),!0}return!1}Je.compositionstart=Je.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),ft(e,!0),e.markCursor=null;else if(ft(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=e.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var s=i<0?r.lastChild:r.childNodes[i-1];if(!s)break;if(3==s.nodeType){o.collapse(s,s.nodeValue.length);break}r=s,i=-1}e.composing=!0}ut(e,lt)},Je.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,ut(e,20))};var dt=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function pt(e,t,n,o){var i=Fe(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,o,i||r.Slice.empty)}))&&i){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Xe.copy=Je.cut=function(e,t){var n=e.state.selection,o="cut"==t.type;if(!n.empty){var r=dt?null:t.clipboardData,i=Re(e,n.content()),a=i.dom,s=i.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Je.paste=function(e,t){var n=dt?null:t.clipboardData,o=n&&n.getData("text/html"),r=n&&n.getData("text/plain");n&&(o||r||n.files.length)?(pt(e,r,o,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?pt(e,o.value,null,t):pt(e,o.textContent,o.innerHTML,t)}),50)}}(e,t)};var ht=function(e,t){this.slice=e,this.move=t},mt=a.mac?"altKey":"ctrlKey";for(var gt in Xe.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(Qe(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof o.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),c=Re(e,s),l=c.dom,u=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(dt?"Text":"text/html",l.innerHTML),dt||t.dataTransfer.setData("text/plain",u),e.dragging=new ht(s,!t[mt])}},Xe.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},Je.dragover=Je.dragenter=function(e,t){return t.preventDefault()},Je.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords(Qe(t));if(a){var s=e.state.doc.resolve(a.pos);if(s){var c=n&&n.slice||Fe(e,t.dataTransfer.getData(dt?"Text":"text/plain"),dt?null:t.dataTransfer.getData("text/html"),!1,s);if(e.someProp("handleDrop",(function(o){return o(e,t,c||r.Slice.empty,n&&n.move)})))t.preventDefault();else if(c){t.preventDefault();var l=c?Object(i.g)(e.state.doc,s.pos,c):s.pos;null==l&&(l=s.pos);var u=e.state.tr;n&&n.move&&u.deleteSelection();var f=u.mapping.map(l),d=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,p=u.doc;if(d?u.replaceRangeWith(f,f,c.content.firstChild):u.replaceRange(f,f,c),!u.doc.eq(p)){var h=u.doc.resolve(f);d&&o.NodeSelection.isSelectable(c.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(c.content.firstChild)?u.setSelection(new o.NodeSelection(h)):u.setSelection(Te(e,h,u.doc.resolve(u.mapping.map(l)))),e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}}}}}},Xe.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&xe(e)}),20))},Xe.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Xe.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,w(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Je)Xe[gt]=Je[gt];function vt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0}var bt=function(e,t){this.spec=t||It,this.side=this.spec.side||0,this.toDOM=e};bt.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,this.side<0?-1:1),i=r.pos;return r.deleted?null:new wt(i-n,i-n,this)},bt.prototype.valid=function(){return!0},bt.prototype.eq=function(e){return this==e||e instanceof bt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&vt(this.spec,e.spec))};var yt=function(e,t){this.spec=t||It,this.attrs=e};yt.prototype.map=function(e,t,n,o){var r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new wt(r,i,this)},yt.prototype.valid=function(e,t){return t.from<t.to},yt.prototype.eq=function(e){return this==e||e instanceof yt&&vt(this.attrs,e.attrs)&&vt(this.spec,e.spec)},yt.is=function(e){return e.type instanceof yt};var _t=function(e,t){this.spec=t||It,this.attrs=e};_t.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,1);if(r.deleted)return null;var i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new wt(r.pos-n,i.pos-n,this)},_t.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),o=n.index,r=n.offset;return r==t.from&&r+e.child(o).nodeSize==t.to},_t.prototype.eq=function(e){return this==e||e instanceof _t&&vt(this.attrs,e.attrs)&&vt(this.spec,e.spec)};var wt=function(e,t,n){this.from=e,this.to=t,this.type=n},kt={spec:{configurable:!0}};wt.prototype.copy=function(e,t){return new wt(e,t,this.type)},wt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},wt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},wt.widget=function(e,t,n){return new wt(e,e,new bt(t,n))},wt.inline=function(e,t,n,o){return new wt(e,t,new yt(n,o))},wt.node=function(e,t,n,o){return new wt(e,t,new _t(n,o))},kt.spec.get=function(){return this.type.spec},Object.defineProperties(wt.prototype,kt);var xt=[],It={},Ct=function(e,t){this.local=e&&e.length?e:xt,this.children=t&&t.length?t:xt};Ct.create=function(e,t){return t.length?Et(t,e,0,It):St},Ct.prototype.find=function(e,t,n){var o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o},Ct.prototype.findInner=function(e,t,n,o,r){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,o+c,r)}},Ct.prototype.map=function(e,t,n){return this==St||0==e.maps.length?this:this.mapInner(e,t,0,0,n||It)},Ct.prototype.mapInner=function(e,t,n,o,r){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,o);s&&s.type.valid(t,s)?(i||(i=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,o,r,i,a){for(var s=e.slice(),c=function(e,t,n,o){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:n>=r&&(l=o-n-(t-e))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,f=0;f<s.length;f+=3)if(-1==s[f+1]){var d=n.map(s[f]+i),p=d-r;if(p<0||p>=o.content.size){u=!0;continue}var h=n.map(e[f+1]+i,-1)-r,m=o.content.findIndex(p),g=m.index,v=m.offset,b=o.maybeChild(g);if(b&&v==p&&v+b.nodeSize==h){var y=s[f+2].mapInner(n,b,d+1,s[f]+i+1,a);y!=St?(s[f]=p,s[f+1]=h,s[f+2]=y):(s[f+1]=-2,u=!0)}else u=!0}if(u){var _=Et(function(e,t,n,o,r,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(o,r,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,r,i,a),o,0,a);t=_.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var k=0,x=0;k<_.children.length;k+=3){for(var I=_.children[k];x<s.length&&s[x]<I;)x+=3;s.splice(x,0,_.children[k],_.children[k+1],_.children[k+2])}}return new Ct(t&&t.sort(At),s)}(this.children,i,e,t,n,o,r):i?new Ct(i.sort(At)):St},Ct.prototype.add=function(e,t){return t.length?this==St?Ct.create(e,t):this.addInner(e,t,0):this},Ct.prototype.addInner=function(e,t,n){var o,r=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=Nt(t,e,c)){for(o||(o=r.children.slice());i<o.length&&o[i]<a;)i+=3;o[i]==a?o[i+2]=o[i+2].addInner(e,s,c+1):o.splice(i,0,a,a+e.nodeSize,Et(s,e,c+1,It)),i+=3}}));var a=Ot(i?Tt(t):t,-n);return new Ct(a.length?this.local.concat(a).sort(At):this.local,o||this.children)},Ct.prototype.remove=function(e){return 0==e.length||this==St?this:this.removeInner(e,0)},Ct.prototype.removeInner=function(e,t){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,a=n[r]+t,s=n[r+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var u=n[r+2].removeInner(i,a+1);u!=St?n[r+2]=u:(n.splice(r,3),r-=3)}}if(o.length)for(var f=0,d=void 0;f<e.length;f++)if(d=e[f])for(var p=0;p<o.length;p++)o[p].eq(d,t)&&(o==this.local&&(o=this.local.slice()),o.splice(p--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Ct(o,n):St},Ct.prototype.forChild=function(e,t){if(this==St)return this;if(t.isLeaf)return Ct.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof yt){var l=Math.max(i,c.from)-i,u=Math.min(a,c.to)-i;l<u&&(o||(o=[])).push(c.copy(l,u))}}if(o){var f=new Ct(o.sort(At));return n?new Mt([f,n]):f}return n||St},Ct.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Ct)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Ct.prototype.locals=function(e){return Dt(this.localsInner(e))},Ct.prototype.localsInner=function(e){if(this==St)return xt;if(e.inlineContent||!this.local.some(yt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof yt||t.push(this.local[n]);return t};var St=new Ct;Ct.empty=St,Ct.removeOverlap=Dt;var Mt=function(e){this.members=e};function Ot(e,t){if(!t||!e.length)return e;for(var n=[],o=0;o<e.length;o++){var r=e[o];n.push(new wt(r.from+t,r.to+t,r.type))}return n}function Nt(e,t,n){if(t.isLeaf)return null;for(var o=n+t.nodeSize,r=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<o&&((r||(r=[])).push(a),e[i]=null);return r}function Tt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Et(e,t,n,o){var r=[],i=!1;t.forEach((function(t,a){var s=Nt(e,t,a+n);if(s){i=!0;var c=Et(s,t,n+a+1,o);c!=St&&r.push(a,a+t.nodeSize,c)}}));for(var a=Ot(i?Tt(e):e,-n).sort(At),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(o.onRemove&&o.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new Ct(a,r):St}function At(e,t){return e.from-t.from||e.to-t.to}function Dt(e){for(var t=e,n=0;n<t.length-1;n++){var o=t[n];if(o.from!=o.to)for(var r=n+1;r<t.length;r++){var i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),Lt(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),Lt(t,r+1,i.copy(o.to,i.to)))}}return t}function Lt(e,t,n){for(;t<e.length&&At(n,e[t])>0;)t++;e.splice(t,0,n)}function Pt(e){var t=[];return e.someProp("decorations",(function(n){var o=n(e.state);o&&o!=St&&t.push(o)})),e.cursorWrapper&&t.push(Ct.create(e.state.doc,[e.cursorWrapper.deco])),Mt.from(t)}Mt.prototype.forChild=function(e,t){if(t.isLeaf)return Ct.empty;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(e,t);r!=St&&(r instanceof Mt?n=n.concat(r.members):n.push(r))}return Mt.from(n)},Mt.prototype.eq=function(e){if(!(e instanceof Mt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Mt.prototype.locals=function(e){for(var t,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?Dt(n?t:t.sort(At)):xt},Mt.from=function(e){switch(e.length){case 0:return St;case 1:return e[0];default:return new Mt(e)}};var Rt=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=jt(this),this.markCursor=null,this.cursorWrapper=null,zt(this),this.nodeViews=Ht(this),this.docView=X(this.state.doc,Bt(this),Pt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new qe(e,(function(t,n,o,r){return De(e,t,n,o,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Xe[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||Ze(e,t)||!e.editable&&t.type in Je||n(e,t)})};for(var n in Xe)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),Ye(e)}(this),this.pluginViews=[],this.updatePluginViews()},Ft={props:{configurable:!0},root:{configurable:!0}};function Bt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var o in n)"class"==o?t.class+=" "+n[o]:t[o]||"contenteditable"==o||"nodeName"==o||(t[o]=String(n[o]))})),[wt.node(0,e.state.doc.content.size,t)]}function zt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:wt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function jt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Ht(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Wt(e){var t=e.getSelection(),n=t.focusOffset,o=t.focusNode;return o&&1==o.nodeType?[o,n,o.childNodes[n-1],o.childNodes[n]]:null}Ft.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Rt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ye(this),this._props=e,this.updateStateInner(e.state,!0)},Rt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var o in t.state=this.state,e)t[o]=e[o];this.update(t)},Rt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Rt.prototype.updateStateInner=function(e,t){var n=this,r=this.state,i=!1;if(this.state=e,t){var s=Ht(this);(function(e,t){var n=0,o=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var i in t)o++;return n!=o})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),Ye(this)}this.editable=jt(this),zt(this);var c,l,u,f,d,p,h,g,v,b,y,_=Pt(this),w=Bt(this),k=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",x=i||!this.docView.matchesNode(e.doc,w,_),I=x||!e.selection.eq(r.selection),O="preserve"==k&&I&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,a=r+1;a<Math.min(innerHeight,o.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=r-20){t=s,n=c.top;break}}}return{refDOM:t,refTop:n,stack:S(e.dom)}}(this);if(I){this.domObserver.stop();var N=x&&(a.ie||a.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(f=r.selection,d=e.selection,p=Math.min(f.$anchor.sharedDepth(f.head),d.$anchor.sharedDepth(d.head)),f.$anchor.start(p)!=d.$anchor.start(p));if(x){var T=a.chrome&&Wt(this.root);!i&&this.docView.update(e.doc,w,_,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=X(e.doc,w,_,this.dom,this)),T&&function(e,t){var n=Wt(t);if(!n||3==n[0].nodeType)return!1;for(var o=0;o<e.length;o++)if(n[o]!=e[o])return!0;return!1}(T,this.root)&&(N=!0)}N||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(c=this,l=c.docView.domFromPos(c.state.selection.anchor),u=c.root.getSelection(),m(l.node,l.offset,u.anchorNode,u.anchorOffset)))?xe(this,N):(Oe(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==k)this.dom.scrollTop=0;else if("to selection"==k){var E=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof o.NodeSelection?C(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),E):C(this,this.coordsAtPos(e.selection.head),E))}else O&&(g=(h=O).refDOM,v=h.refTop,b=h.stack,y=g?g.getBoundingClientRect().top:0,M(b,0==y?0:y-v))},Rt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Rt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var o=0;o<this.state.plugins.length;o++){var r=this.state.plugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},Rt.prototype.someProp=function(e,t){var n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;var r=this.state.plugins;if(r)for(var i=0;i<r.length;i++){var a=r[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},Rt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Rt.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(O)return e.focus(O);var t=S(e);e.focus(null==O?{get preventScroll(){return O={preventScroll:!0},!0}}:void 0),O||(O=!1,M(t,0))}(this.dom),xe(this),this.domObserver.start()},Ft.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Rt.prototype.posAtCoords=function(e){return E(this,e)},Rt.prototype.coordsAtPos=function(e){return D(this,e)},Rt.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Rt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Rt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},Rt.prototype.endOfTextblock=function(e,t){return j(this,t||this.state,e)},Rt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Pt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Rt.prototype.dispatchEvent=function(e){return function(e,t){Ze(e,t)||!Xe[t.type]||!e.editable&&t.type in Je||Xe[t.type](e,t)}(this,e)},Rt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Rt.prototype,Ft)},function(e,t,n){var o=n(109);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){var o=n(12),r=n(25),i=n(145),a=n(146);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(c||+i[1]<57)||s&&c,f=0;f<10;f++)o[48+f]=o[96+f]=String(f);for(f=1;f<=24;f++)o[f+111]="F"+f;for(f=65;f<=90;f++)o[f]=String.fromCharCode(f+32),r[f]=String.fromCharCode(f);for(var d in o)r.hasOwnProperty(d)||(r[d]=o[d]);var p=n(2),h="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(e){var t,n,o,r,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var c=i[s];if(/^(cmd|meta|m)$/i.test(c))r=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))o=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);h?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),o&&(a="Shift-"+a),a}function g(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function v(e){return new p.Plugin({props:{handleKeyDown:b(e)}})}function b(e){var t=function(e){var t=Object.create(null);for(var n in e)t[m(n)]=e[n];return t}(e);return function(e,n){var i,s=function(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(a||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:o)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),c=1==s.length&&" "!=s,f=t[g(s,n,!c)];if(f&&f(e.state,e.dispatch,e))return!0;if(c&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=o[n.keyCode])&&i!=s){var d=t[g(i,n,!0)];if(d&&d(e.state,e.dispatch,e))return!0}else if(c&&n.shiftKey){var p=t[g(s,n,!0)];if(p&&p(e.state,e.dispatch,e))return!0}return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(0),i=n(134),a=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var o=0,r=e.length;o<r;o++){var i=A(e[o])(n.selection);if(i){var a=m(i.pos,t)(n);if(a!==n)return a}}return n}},s=function(e){return function(t){if(d(t.selection)){var n=t.selection,i=n.$from,a=n.$to;if(e instanceof r.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return h(t.replaceWith(i.pos,a.pos,e).setSelection(new o.NodeSelection(t.doc.resolve(i.pos))))}return t}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var r=o.Selection.findFrom(n.doc.resolve(e),t,!0);return r?n.setSelection(r):n}},l=function(e){return e.type&&e.type.spec.selectable},u=function(e,t,n){return function(e){return l(e)&&e.type.isLeaf}(e)?n.setSelection(new o.NodeSelection(n.doc.resolve(t))):c(t)(n)},f=function(e,t,n){return function(o){var r="number"==typeof t,i=o.selection.$from,c=r?o.doc.resolve(t):d(o.selection)?o.doc.resolve(i.pos+1):i,f=c.parent;if(d(o.selection)&&n&&o!==(o=s(e)(o)))return o;if(_(f)&&o!==(o=a(f.type,e)(o))){var p=l(e)?c.before(c.depth):c.pos;return u(e,p,o)}if(y(c,e)){o.insert(c.pos,e);var m=r?c.pos:l(e)?o.selection.$anchor.pos-1:o.selection.$anchor.pos;return h(u(e,m,o))}for(var g=c.depth;g>0;g--){var v=c.after(g),b=o.doc.resolve(v);if(y(b,e))return o.insert(v,e),h(u(e,v,o))}return o}},d=function(e){return e instanceof o.NodeSelection},p=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},h=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},m=function(e,t){return function(n){var o=n.doc.nodeAt(e),r=n.doc.resolve(e);if(g(r,t)){var i=(n=n.replaceWith(e,e+o.nodeSize,t)).selection.$from.pos-1;return n=c(Math.max(i,0),-1)(n),n=c(n.selection.$from.start())(n),h(n)}return n}},g=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof r.Fragment?t:r.Fragment.from(t))},v=function(e){return function(t){var n=t.doc.nodeAt(e);return h(t.delete(e,e+n.nodeSize))}},b=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var o=e.nodes[n];o.spec.tableRole&&(t[o.spec.tableRole]=o)})),e.cached.tableNodeTypes=t,t},y=function(e,t){var n=e.index();return t instanceof r.Fragment?e.parent.canReplace(n,n,t):t instanceof r.Node&&e.parent.canReplaceWith(n,n,t.type)},_=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},k=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),o=t.$anchorCell.start(-1),r=n.cellsInRect(e),a=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o)),s=0,c=r.length;s<c;s++)if(-1===a.indexOf(r[s]))return!1;return!0}},x=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},I=function(e){for(var t=i.TableMap.get(e),n=[],o=0;o<t.height;o++){for(var r=[],a={},s=0;s<t.width;s++){var c=t.map[o*t.width+s],l=e.nodeAt(c),u=t.findCell(c);a[c]||u.top!==o?r.push(null):(a[c]=!0,r.push(l))}n.push(r)}return n},C=function(e,t){for(var n=[],o=i.TableMap.get(e),r=0;r<o.height;r++){for(var a=e.child(r),s=[],c=0;c<o.width;c++)if(t[r][c]){var l=o.map[r*o.width+c],u=t[r][c],f=e.nodeAt(l).type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(f)}n.push(a.type.createChecked(a.attrs,s,a.marks))}return e.type.createChecked(e.attrs,n,e.marks)},S=function(e,t,n,o){var r=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=i.length%2==0?1:0,s=void 0;return s=-1===o&&1===r?n[0]-1:1===o&&-1===r?n[n.length-1]-a+1:-1===r?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},M=function(e,t,n,o){var r="Target position is invalid, you can't move the "+o+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===(e>t?-1:1)){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(r)}else if(-1!==n.slice(1).indexOf(t))throw new Error(r);return!0},O=function(e){return function(t){var n=t.$from;return N(n,e)}},N=function(e,t){for(var n=e.depth;n>0;n--){var o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}},T=function(e,t){return function(n){var o=O(e)(n);if(o)return L(o.pos,t)}},E=function(e){return function(t){return!!O(e)(t)}},A=function(e){return function(t){return O((function(t){return p(e,t)}))(t)}},D=function(e){var t=e.$from.nodeBefore,n=o.Selection.findFrom(e.$from,-1);if(n&&t){var r=A(t.type)(n);return r?r.pos:n.$from.pos}},L=function(e,t){var n=t(e),o=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:o&&o.nodeType!==Node.TEXT_NODE?o:n.node},P=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,o){if(n.push({node:e,pos:o}),!t)return!1})),n},R=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return P(e,n).filter((function(e){return t(e.node)}))},F=function(e,t,n){return R(e,(function(e){return e.type===t}),n)};var B=function(e){return O((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},z=function(e){return e instanceof i.CellSelection},j=function(e){if(z(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return k({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},H=function(e){return function(t){var n=B(t);if(n){var o=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=o.width-1){var r=o.cellsInRect({left:t,right:t+1,top:0,bottom:o.height});return e.concat(r.map((function(e){var t=n.node.nodeAt(e),o=e+n.start;return{pos:o,start:o+1,node:t}})))}}),[])}}},W=function(e){return function(t){var n=B(t);if(n){var o=i.TableMap.get(n.node);return(Array.isArray(e)?e:Array.from([e])).reduce((function(e,t){if(t>=0&&t<=o.height-1){var r=o.cellsInRect({left:0,right:o.width,top:t,bottom:t+1});return e.concat(r.map((function(e){var t=n.node.nodeAt(e),o=e+n.start;return{pos:o,start:o+1,node:t}})))}}),[])}}},$=function(e){return function(t,n){return function(o){var r=B(o.selection),a="row"===e;if(r){var s=i.TableMap.get(r.node);if(t>=0&&t<(a?s.height:s.width)){var c=a?0:t,l=a?t:0,u=a?s.width:t+1,f=a?t+1:s.height;if(n){var d=Y(o.selection.$from);if(!d)return o;var p=s.findCell(d.pos-r.start);a?(l=Math.min(l,p.top),f=Math.max(f,p.bottom)):(c=Math.min(c,p.left),u=Math.max(u,p.right))}var m=s.cellsInRect({left:c,top:l,right:a?u:c+1,bottom:a?l+1:f}),g=f-l==1?m:s.cellsInRect({left:a?c:u-1,top:a?f-1:l,right:u,bottom:f}),v=r.start+m[0],b=r.start+g[g.length-1],y=o.doc.resolve(v),_=o.doc.resolve(b);return h(o.setSelection(new i.CellSelection(_,y)))}}return o}}},V=$("column"),U=$("row"),q=function(e){return function(t){var n=B(t.selection);if(n){var o=i.TableMap.get(n.node);if(e>=0&&e<=o.height){for(var r=n.node,a=b(r.type.schema),s=n.start,c=0;c<e+1;c++)s+=r.child(c).nodeSize;var l=r.child(e),u=[],d=0;if(l.forEach((function(e){1===e.attrs.rowspan&&(d+=e.attrs.colspan,u.push(a[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),d<o.width){for(var p=[],h=function(n){var o=Q(n,(function(t,o){var r=t.node.attrs.rowspan;return r>1&&n+r>e}))(t);p.push.apply(p,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o))},m=e;m>=0;m--)h(m);p.length&&p.forEach((function(e){t=G(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return f(a.row.create(l.attrs,u),s)(t)}}return t}},K=function(e){return function(t){var n=B(t.selection);if(n){var o=i.TableMap.get(n.node);if(0===e&&1===o.width)return J(t);if(e>=0&&e<=o.width)return i.removeColumn(t,{map:o,tableStart:n.start,table:n.node},e),h(t)}return t}},X=function(e){return function(t){var n=B(t.selection);if(n){var o=i.TableMap.get(n.node);if(0===e&&1===o.height)return J(t);if(e>=0&&e<=o.height)return i.removeRow(t,{map:o,tableStart:n.start,table:n.node},e),h(t)}return t}},J=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return h(e.delete(t.before(n),t.after(n)))}return e},G=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),h(n)):n}},Y=function(e){return N(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},Z=function(e){var t=Y(e);if(t){var n=function(e){return N(e,(function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)}))}(e),o=i.TableMap.get(n.node),r=t.pos-n.start;return o.rectBetween(r,r)}},Q=function(e,t){return function(n){var o=[],r=W(e)(n.selection);if(r)for(var i=r.length-1;i>=0;i--)t(r[i],n)&&o.push(r[i]);return o}},ee=function(e){return function(t){for(var n=e,o=e,r=function(e){var r=H(e)(t.selection);r&&r.forEach((function(t){var r=t.node.attrs.colspan+e-1;r>=n&&(n=e),r>o&&(o=r)}))},i=e;i>=0;i--)r(i);var a=function(e){var n=H(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>o&&(o=n)}))};for(i=e;i<=o;i++)a(i);var s=[];for(i=n;i<=o;i++){var c=H(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],o=s[s.length-1];for(var l=H(n)(t.selection),u=W(0)(t.selection),f=t.doc.resolve(l[l.length-1].pos),d=void 0,p=o;p>=n;p--){var h=H(p)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){d=h[0];break}if(d)break}}return{$anchor:f,$head:t.doc.resolve(d.pos),indexes:s}}},te=function(e){return function(t){for(var n=e,o=e,r=function(e){W(e)(t.selection).forEach((function(t){var r=t.node.attrs.rowspan+e-1;r>=n&&(n=e),r>o&&(o=r)}))},i=e;i>=0;i--)r(i);var a=function(e){W(e)(t.selection).forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>o&&(o=n)}))};for(i=e;i<=o;i++)a(i);var s=[];for(i=n;i<=o;i++){var c=W(i)(t.selection);c&&c.length&&s.push(i)}n=s[0],o=s[s.length-1];for(var l=W(n)(t.selection),u=H(0)(t.selection),f=t.doc.resolve(l[l.length-1].pos),d=void 0,p=o;p>=n;p--){var h=W(p)(t.selection);if(h&&h.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===h[0].pos){d=h[0];break}if(d)break}}return{$anchor:f,$head:t.doc.resolve(d.pos),indexes:s}}};t.isNodeSelection=d,t.canInsert=y,t.convertTableNodeToArrayOfRows=I,t.convertArrayOfRowsToTableNode=C,t.findParentNode=O,t.findParentNodeClosestToPos=N,t.findParentDomRef=T,t.hasParentNode=E,t.findParentNodeOfType=A,t.findParentNodeOfTypeClosestToPos=function(e,t){return N(e,(function(e){return p(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return E((function(t){return p(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return T((function(t){return p(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(d(t)){var n=t.node,o=t.$from;if(p(e,n))return{node:n,pos:o.pos,depth:o.depth}}}},t.findPositionOfNodeBefore=D,t.findDomRefAtPos=L,t.flatten=P,t.findChildren=R,t.findTextNodes=function(e,t){return R(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return R(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return R(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return R(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=F,t.findChildrenByMark=function(e,t,n){return R(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!F(e,t).length},t.findTable=B,t.isCellSelection=z,t.getSelectionRect=function(e){if(z(e)){var t=e.$anchorCell.start(-1);return i.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(z(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return k({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(z(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return k({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=j,t.getCellsInColumn=H,t.getCellsInRow=W,t.getCellsInTable=function(e){var t=B(e);if(t){var n=i.TableMap.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((function(e){var n=t.node.nodeAt(e),o=e+t.start;return{pos:o,start:o+1,node:n}}))}},t.selectColumn=V,t.selectRow=U,t.selectTable=function(e){var t=B(e.selection);if(t){var n=i.TableMap.get(t.node).map;if(n&&n.length){var o=t.start+n[0],r=t.start+n[n.length-1],a=e.doc.resolve(o),s=e.doc.resolve(r);return h(e.setSelection(new i.CellSelection(s,a)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var o=b(t).cell.createAndFill().content;if(!e.node.content.eq(o))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,o),h(n)}return n}},t.addColumnAt=function(e){return function(t){var n=B(t.selection);if(n){var o=i.TableMap.get(n.node);if(e>=0&&e<=o.width)return h(i.addColumn(t,{map:o,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(o){var r=Object.assign({tryToFit:!1,direction:0},n),i=B(o.selection);if(!i)return o;var a=te(e)(o).indexes,s=te(t)(o).indexes;if(a.indexOf(t)>-1)return o;!r.tryToFit&&s.length>1&&M(e,t,s,"row");var c=function(e,t,n,o){var r=I(e.node);return r=S(r,t,n,o),C(e.node,r)}(i,a,s,r.direction);return h(o).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.moveColumn=function(e,t,n){return function(o){var r=Object.assign({tryToFit:!1,direction:0},n),i=B(o.selection);if(!i)return o;var a=ee(e)(o).indexes,s=ee(t)(o).indexes;if(a.indexOf(t)>-1)return o;!r.tryToFit&&s.length>1&&M(e,t,s,"column");var c=function(e,t,n,o){var r=x(I(e.node));return r=S(r,t,n,o),r=x(r),C(e.node,r)}(i,a,s,r.direction);return h(o).replaceWith(i.pos,i.pos+i.node.nodeSize,c)}},t.addRowAt=function(e,t){return function(n){var o=B(n.selection);if(o){var r=i.TableMap.get(o.node),a=e-1;if(t&&a>=0)return h(q(a)(n));if(e>=0&&e<=r.height)return h(i.addRow(n,{map:r,tableStart:o.start,table:o.node},e))}return n}},t.cloneRowAt=q,t.removeColumnAt=K,t.removeRowAt=X,t.removeTable=J,t.removeSelectedColumns=function(e){var t=e.selection;if(j(t))return J(e);if(z(t)){var n=B(t);if(n){var o=i.TableMap.get(n.node),r=o.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==r.left&&r.right==o.width)return!1;for(var a=Object.assign({},r,{map:o,table:n.node,tableStart:n.start}),s=a.right-1;i.removeColumn(e,a,s),s!==a.left;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(j(t))return J(e);if(z(t)){var n=B(t);if(n){var o=i.TableMap.get(n.node),r=o.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==r.top&&r.bottom==o.height)return!1;for(var a=Object.assign({},r,{map:o,table:n.node,tableStart:n.start}),s=a.bottom-1;i.removeRow(e,a,s),s!==a.top;s--)a.table=a.tableStart?e.doc.nodeAt(a.tableStart-1):e.doc,a.map=i.TableMap.get(a.table);return h(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=Z(e);return n?K(n.left)(c(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=Z(e);return n?X(n.top)(c(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(r){var i=H(e)(r.selection);if(i){for(var a=i.length-1;a>=0;a--)r=t(i[a],r);if(n){var s=r.doc.resolve(r.mapping.map(i[i.length-1].pos));r.setSelection(o.Selection.near(s))}return h(r)}return r}},t.forEachCellInRow=function(e,t,n){return function(r){var i=W(e)(r.selection);if(i){for(var a=i.length-1;a>=0;a--)r=t(i[a],r);if(n){var s=r.doc.resolve(r.mapping.map(i[i.length-1].pos));r.setSelection(o.Selection.near(s))}}return r}},t.setCellAttrs=G,t.createTable=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=b(e),a=i.cell,s=i.header_cell,c=i.row,l=i.table,u=[],f=[],d=0;d<n;d++)u.push(w(a,r)),o&&f.push(w(s,r));for(var p=[],h=0;h<t;h++)p.push(c.createChecked(null,o&&0===h?f:u));return l.createChecked(null,p)},t.findCellClosestToPos=Y,t.findCellRectClosestToPos=Z,t.getSelectionRangeInColumn=ee,t.getSelectionRangeInRow=te,t.removeParentNodeOfType=function(e){return function(t){var n=A(e)(t.selection);return n?v(n.pos)(t):t}},t.replaceParentNodeOfType=a,t.removeSelectedNode=function(e){if(d(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return h(e.delete(t,n))}return e},t.replaceSelectedNode=s,t.setTextSelection=c,t.safeInsert=f,t.setParentNodeMarkup=function(e,t,n,o){return function(r){var i=A(e)(r.selection);return i?h(r.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),o)):r}},t.selectParentNodeOfType=function(e){return function(t){if(!d(t.selection)){var n=A(e)(t.selection);if(n)return h(t.setSelection(o.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=D(e.selection);return"number"==typeof t?v(t)(e):e}},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),o=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),a=o||r||i,s=a&&(o?document.documentMode||6:+(i||r)[1]),c=!i&&/WebKit\//.test(e),l=c&&/Qt\/\d+\.\d+/.test(e),u=!i&&/Chrome\//.test(e),f=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),_=/win/i.test(t),w=f&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(f=!1,c=!0);var k=b&&(l||f&&(null==w||w<12.11)),x=n||a&&s>=9;function I(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,S=function(e,t){var n=e.className,o=I(t).exec(n);if(o){var r=n.slice(o.index+o[0].length);e.className=n.slice(0,o.index)+(r?o[1]+r:"")}};function M(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function O(e,t){return M(e).appendChild(t)}function N(e,t,n,o){var r=document.createElement(e);if(n&&(r.className=n),o&&(r.style.cssText=o),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var i=0;i<t.length;++i)r.appendChild(t[i]);return r}function T(e,t,n,o){var r=N(e,t,n,o);return r.setAttribute("role","presentation"),r}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function A(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function D(e,t){var n=e.className;I(t).test(n)||(e.className+=(n?" ":"")+t)}function L(e,t){for(var n=e.split(" "),o=0;o<n.length;o++)n[o]&&!I(n[o]).test(t)&&(t+=" "+n[o]);return t}C=document.createRange?function(e,t,n,o){var r=document.createRange();return r.setEnd(o||e,n),r.setStart(e,t),r}:function(e,t,n){var o=document.body.createTextRange();try{o.moveToElementText(e.parentNode)}catch(e){return o}return o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o};var P=function(e){e.select()};function R(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,n){for(var o in t||(t={}),e)!e.hasOwnProperty(o)||!1===n&&t.hasOwnProperty(o)||(t[o]=e[o]);return t}function B(e,t,n,o,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var i=o||0,a=r||0;;){var s=e.indexOf("\t",i);if(s<0||s>=t)return a+(t-i);a+=s-i,a+=n-a%n,i=s+1}}m?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(P=function(e){try{e.select()}catch(e){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=R(this.onTimeout,this)};function j(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var H={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},$={origin:"*mouse"},V={origin:"+move"};function U(e,t,n){for(var o=0,r=0;;){var i=e.indexOf("\t",o);-1==i&&(i=e.length);var a=i-o;if(i==e.length||r+a>=t)return o+Math.min(a,t-r);if(r+=i-o,o=i+1,(r+=n-r%n)>=t)return o}}var q=[""];function K(e){for(;q.length<=e;)q.push(X(q)+" ");return q[e]}function X(e){return e[e.length-1]}function J(e,t){for(var n=[],o=0;o<e.length;o++)n[o]=t(e[o],o);return n}function G(){}function Y(e,t){var n;return Object.create?n=Object.create(e):(G.prototype=e,n=new G),t&&F(t,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Q(e))||t.test(e):Q(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ne.test(e)}function re(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function ie(e,t,n){for(var o=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,i=o<0?Math.ceil(r):Math.floor(r);if(i==t)return e(i)?t:n;e(i)?n=i:t=i+o}}var ae=null;function se(e,t,n){var o;ae=null;for(var r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;i.to==t&&(i.from!=i.to&&"before"==n?o=r:ae=r),i.from==t&&(i.from!=i.to&&"before"!=n?o=r:ae=r)}return null!=o?o:ae}var ce=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,o=/[Lb1n]/,r=/[1n]/;function i(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,s){var c="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var l,u=a.length,f=[],d=0;d<u;++d)f.push((l=a.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var p=0,h=c;p<u;++p){var m=f[p];"m"==m?f[p]=h:h=m}for(var g=0,v=c;g<u;++g){var b=f[g];"1"==b&&"r"==v?f[g]="n":n.test(b)&&(v=b,"r"==b&&(f[g]="R"))}for(var y=1,_=f[0];y<u-1;++y){var w=f[y];"+"==w&&"1"==_&&"1"==f[y+1]?f[y]="1":","!=w||_!=f[y+1]||"1"!=_&&"n"!=_||(f[y]=_),_=w}for(var k=0;k<u;++k){var x=f[k];if(","==x)f[k]="N";else if("%"==x){var I=void 0;for(I=k+1;I<u&&"%"==f[I];++I);for(var C=k&&"!"==f[k-1]||I<u&&"1"==f[I]?"1":"N",S=k;S<I;++S)f[S]=C;k=I-1}}for(var M=0,O=c;M<u;++M){var N=f[M];"L"==O&&"1"==N?f[M]="L":n.test(N)&&(O=N)}for(var T=0;T<u;++T)if(t.test(f[T])){var E=void 0;for(E=T+1;E<u&&t.test(f[E]);++E);for(var A="L"==(T?f[T-1]:c),D=A==("L"==(E<u?f[E]:c))?A?"L":"R":c,L=T;L<E;++L)f[L]=D;T=E-1}for(var P,R=[],F=0;F<u;)if(o.test(f[F])){var B=F;for(++F;F<u&&o.test(f[F]);++F);R.push(new i(0,B,F))}else{var z=F,j=R.length,H="rtl"==s?1:0;for(++F;F<u&&"L"!=f[F];++F);for(var W=z;W<F;)if(r.test(f[W])){z<W&&(R.splice(j,0,new i(1,z,W)),j+=H);var $=W;for(++W;W<F&&r.test(f[W]);++W);R.splice(j,0,new i(2,$,W)),j+=H,z=W}else++W;z<F&&R.splice(j,0,new i(1,z,F))}return"ltr"==s&&(1==R[0].level&&(P=a.match(/^\s+/))&&(R[0].from=P[0].length,R.unshift(new i(0,0,P[0].length))),1==X(R).level&&(P=a.match(/\s+$/))&&(X(R).to-=P[0].length,R.push(new i(0,u-P[0].length,u)))),"rtl"==s?R.reverse():R}}();function le(e,t){var n=e.order;return null==n&&(n=e.order=ce(e.text,t)),n}var ue=[],fe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var o=e._handlers||(e._handlers={});o[t]=(o[t]||ue).concat(n)}};function de(e,t){return e._handlers&&e._handlers[t]||ue}function pe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var o=e._handlers,r=o&&o[t];if(r){var i=j(r,n);i>-1&&(o[t]=r.slice(0,i).concat(r.slice(i+1)))}}}function he(e,t){var n=de(e,t);if(n.length)for(var o=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,o)}function me(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,n||t.type,e,t),we(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),o=0;o<t.length;++o)-1==j(n,t[o])&&n.push(t[o])}function ve(e,t){return de(e,t).length>0}function be(e){e.prototype.on=function(e,t){fe(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function _e(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function we(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ke(e){ye(e),_e(e)}function xe(e){return e.target||e.srcElement}function Ie(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Ce,Se,Me=function(){if(a&&s<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}();function Oe(e){if(null==Ce){var t=N("span","");O(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ce=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=Ce?N("span",""):N("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ne(e){if(null!=Se)return Se;var t=O(e,document.createTextNode("AA")),n=C(t,0,1).getBoundingClientRect(),o=C(t,1,2).getBoundingClientRect();return M(e),!(!n||n.left==n.right)&&(Se=o.right-n.right<3)}var Te,Ee=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],o=e.length;t<=o;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var i=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),t+=a+1):(n.push(i),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ae=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},De="oncopy"in(Te=N("div"))||(Te.setAttribute("oncopy","return;"),"function"==typeof Te.oncopy),Le=null,Pe={},Re={};function Fe(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Pe[e]=t}function Be(e){if("string"==typeof e&&Re.hasOwnProperty(e))e=Re[e];else if(e&&"string"==typeof e.name&&Re.hasOwnProperty(e.name)){var t=Re[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Be("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Be("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function ze(e,t){t=Be(t);var n=Pe[t.name];if(!n)return ze(e,"text/plain");var o=n(e,t);if(je.hasOwnProperty(t.name)){var r=je[t.name];for(var i in r)r.hasOwnProperty(i)&&(o.hasOwnProperty(i)&&(o["_"+i]=o[i]),o[i]=r[i])}if(o.name=t.name,t.helperType&&(o.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)o[a]=t.modeProps[a];return o}var je={};function He(e,t){F(t,je.hasOwnProperty(e)?je[e]:je[e]={})}function We(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var o in t){var r=t[o];r instanceof Array&&(r=r.concat([])),n[o]=r}return n}function $e(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ve(e,t,n){return!e.startState||e.startState(t,n)}var Ue=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var o=0;;++o){var r=n.children[o],i=r.chunkSize();if(t<i){n=r;break}t-=i}return n.lines[t]}function Ke(e,t,n){var o=[],r=t.line;return e.iter(t.line,n.line+1,(function(e){var i=e.text;r==n.line&&(i=i.slice(0,n.ch)),r==t.line&&(i=i.slice(t.ch)),o.push(i),++r})),o}function Xe(e,t,n){var o=[];return e.iter(t,n,(function(e){o.push(e.text)})),o}function Je(e,t){var n=t-e.height;if(n)for(var o=e;o;o=o.parent)o.height+=n}function Ge(e){if(null==e.parent)return null;for(var t=e.parent,n=j(t.lines,e),o=t.parent;o;t=o,o=o.parent)for(var r=0;o.children[r]!=t;++r)n+=o.children[r].chunkSize();return n+t.first}function Ye(e,t){var n=e.first;e:do{for(var o=0;o<e.children.length;++o){var r=e.children[o],i=r.height;if(t<i){e=r;continue e}t-=i,n+=r.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function Ze(e,t){return t>=e.first&&t<e.first+e.size}function Qe(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,n){if(void 0===n&&(n=null),!(this instanceof et))return new et(e,t,n);this.line=e,this.ch=t,this.sticky=n}function tt(e,t){return e.line-t.line||e.ch-t.ch}function nt(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function ot(e){return et(e.line,e.ch)}function rt(e,t){return tt(e,t)<0?t:e}function it(e,t){return tt(e,t)<0?e:t}function at(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function st(e,t){if(t.line<e.first)return et(e.first,0);var n=e.first+e.size-1;return t.line>n?et(n,qe(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?et(e.line,t):n<0?et(e.line,0):e}(t,qe(e,t.line).text.length)}function ct(e,t){for(var n=[],o=0;o<t.length;o++)n[o]=st(e,t[o]);return n}Ue.prototype.eol=function(){return this.pos>=this.string.length},Ue.prototype.sol=function(){return this.pos==this.lineStart},Ue.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ue.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ue.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ue.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ue.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ue.prototype.skipToEnd=function(){this.pos=this.string.length},Ue.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ue.prototype.backUp=function(e){this.pos-=e},Ue.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=B(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.indentation=function(){return B(this.string,null,this.tabSize)-(this.lineStart?B(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.match=function(e,t,n){if("string"!=typeof e){var o=this.string.slice(this.pos).match(e);return o&&o.index>0?null:(o&&!1!==t&&(this.pos+=o[0].length),o)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Ue.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ue.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ue.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ue.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var lt=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,n,o){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};function ft(e,t,n,o){var r=[e.state.modeGen],i={};_t(e,t.text,e.doc.mode,n,(function(e,t){return r.push(e,t)}),i,o);for(var a=n.state,s=function(o){n.baseTokens=r;var s=e.state.overlays[o],c=1,l=0;n.state=!0,_t(e,t.text,s.mode,n,(function(e,t){for(var n=c;l<e;){var o=r[c];o>e&&r.splice(c,1,e,r[c+1],o),c+=2,l=Math.min(e,o)}if(t)if(s.opaque)r.splice(n,c-n,e,"overlay "+t),c=n+2;else for(;n<c;n+=2){var i=r[n+1];r[n+1]=(i?i+" ":"")+"overlay "+t}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},c=0;c<e.state.overlays.length;++c)s(c);return{styles:r,classes:i.bgClass||i.textClass?i:null}}function dt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var o=pt(e,Ge(t)),r=t.text.length>e.options.maxHighlightLength&&We(e.doc.mode,o.state),i=ft(e,t,o);r&&(o.state=r),t.stateAfter=o.save(!r),t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function pt(e,t,n){var o=e.doc,r=e.display;if(!o.mode.startState)return new ut(o,!0,t);var i=function(e,t,n){for(var o,r,i=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=i.first)return i.first;var c=qe(i,s-1),l=c.stateAfter;if(l&&(!n||s+(l instanceof lt?l.lookAhead:0)<=i.modeFrontier))return s;var u=B(c.text,null,e.options.tabSize);(null==r||o>u)&&(r=s-1,o=u)}return r}(e,t,n),a=i>o.first&&qe(o,i-1).stateAfter,s=a?ut.fromSaved(o,a,i):new ut(o,Ve(o.mode),i);return o.iter(i,t,(function(n){ht(e,n.text,s);var o=s.line;n.stateAfter=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo?s.save():null,s.nextLine()})),n&&(o.modeFrontier=s.line),s}function ht(e,t,n,o){var r=e.doc.mode,i=new Ue(t,e.options.tabSize,n);for(i.start=i.pos=o||0,""==t&&mt(r,n.state);!i.eol();)gt(r,i,n.state),i.start=i.pos}function mt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=$e(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function gt(e,t,n,o){for(var r=0;r<10;r++){o&&(o[0]=$e(e,n).mode);var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,n){return t instanceof lt?new ut(e,We(e.mode,t.state),n,t.lookAhead):new ut(e,We(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?We(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new lt(t,this.maxLookAhead):t};var vt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function bt(e,t,n,o){var r,i,a=e.doc,s=a.mode,c=qe(a,(t=st(a,t)).line),l=pt(e,t.line,n),u=new Ue(c.text,e.options.tabSize,l);for(o&&(i=[]);(o||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=gt(s,u,l.state),o&&i.push(new vt(u,r,We(a.mode,l.state)));return o?i:new vt(u,r,l.state)}function yt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var o=n[1]?"bgClass":"textClass";null==t[o]?t[o]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[o])||(t[o]+=" "+n[2])}return e}function _t(e,t,n,o,r,i,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var c,l=0,u=null,f=new Ue(t,e.options.tabSize,o),d=e.options.addModeClass&&[null];for(""==t&&yt(mt(n,o.state),i);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,a&&ht(e,t,o,f.pos),f.pos=t.length,c=null):c=yt(gt(n,f,o.state,d),i),d){var p=d[0].name;p&&(c="m-"+(c?p+" "+c:p))}if(!s||u!=c){for(;l<f.start;)r(l=Math.min(f.start,l+5e3),u);u=c}f.start=f.pos}for(;l<f.pos;){var h=Math.min(f.pos,l+5e3);r(h,u),l=h}}var wt=!1,kt=!1;function xt(e,t,n){this.marker=e,this.from=t,this.to=n}function It(e,t){if(e)for(var n=0;n<e.length;++n){var o=e[n];if(o.marker==t)return o}}function Ct(e,t){for(var n,o=0;o<e.length;++o)e[o]!=t&&(n||(n=[])).push(e[o]);return n}function St(e,t){if(t.full)return null;var n=Ze(e,t.from.line)&&qe(e,t.from.line).markedSpans,o=Ze(e,t.to.line)&&qe(e,t.to.line).markedSpans;if(!n&&!o)return null;var r=t.from.ch,i=t.to.ch,a=0==tt(t.from,t.to),s=function(e,t,n){var o;if(e)for(var r=0;r<e.length;++r){var i=e[r],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t)||i.from==t&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=t:i.to>t);(o||(o=[])).push(new xt(a,i.from,s?null:i.to))}}return o}(n,r,a),c=function(e,t,n){var o;if(e)for(var r=0;r<e.length;++r){var i=e[r],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=t:i.to>t)||i.from==t&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=t:i.from<t);(o||(o=[])).push(new xt(a,s?null:i.from-t,null==i.to?null:i.to-t))}}return o}(o,i,a),l=1==t.text.length,u=X(t.text).length+(l?r:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var p=It(c,d.marker);p?l&&(d.to=null==p.to?null:p.to+u):d.to=r}}if(c)for(var h=0;h<c.length;++h){var m=c[h];null!=m.to&&(m.to+=u),null==m.from?It(s,m.marker)||(m.from=u,l&&(s||(s=[])).push(m)):(m.from+=u,l&&(s||(s=[])).push(m))}s&&(s=Mt(s)),c&&c!=s&&(c=Mt(c));var g=[s];if(!l){var v,b=t.text.length-2;if(b>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(v||(v=[])).push(new xt(s[y].marker,null,null));for(var _=0;_<b;++_)g.push(v);g.push(c)}return g}function Mt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ot(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Nt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Tt(e){return e.inclusiveLeft?-1:0}function Et(e){return e.inclusiveRight?1:0}function At(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var o=e.find(),r=t.find(),i=tt(o.from,r.from)||Tt(e)-Tt(t);if(i)return-i;var a=tt(o.to,r.to)||Et(e)-Et(t);return a||t.id-e.id}function Dt(e,t){var n,o=kt&&e.markedSpans;if(o)for(var r=void 0,i=0;i<o.length;++i)(r=o[i]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||At(n,r.marker)<0)&&(n=r.marker);return n}function Lt(e){return Dt(e,!0)}function Pt(e){return Dt(e,!1)}function Rt(e,t){var n,o=kt&&e.markedSpans;if(o)for(var r=0;r<o.length;++r){var i=o[r];i.marker.collapsed&&(null==i.from||i.from<t)&&(null==i.to||i.to>t)&&(!n||At(n,i.marker)<0)&&(n=i.marker)}return n}function Ft(e,t,n,o,r){var i=qe(e,t),a=kt&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var c=a[s];if(c.marker.collapsed){var l=c.marker.find(0),u=tt(l.from,n)||Tt(c.marker)-Tt(r),f=tt(l.to,o)||Et(c.marker)-Et(r);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(c.marker.inclusiveRight&&r.inclusiveLeft?tt(l.to,n)>=0:tt(l.to,n)>0)||u>=0&&(c.marker.inclusiveRight&&r.inclusiveLeft?tt(l.from,o)<=0:tt(l.from,o)<0)))return!0}}}function Bt(e){for(var t;t=Lt(e);)e=t.find(-1,!0).line;return e}function zt(e,t){var n=qe(e,t),o=Bt(n);return n==o?t:Ge(o)}function jt(e,t){if(t>e.lastLine())return t;var n,o=qe(e,t);if(!Ht(e,o))return t;for(;n=Pt(o);)o=n.find(1,!0).line;return Ge(o)+1}function Ht(e,t){var n=kt&&t.markedSpans;if(n)for(var o=void 0,r=0;r<n.length;++r)if((o=n[r]).marker.collapsed){if(null==o.from)return!0;if(!o.marker.widgetNode&&0==o.from&&o.marker.inclusiveLeft&&Wt(e,t,o))return!0}}function Wt(e,t,n){if(null==n.to){var o=n.marker.find(1,!0);return Wt(e,o.line,It(o.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,i=0;i<t.markedSpans.length;++i)if((r=t.markedSpans[i]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Wt(e,t,r))return!0}function $t(e){for(var t=0,n=(e=Bt(e)).parent,o=0;o<n.lines.length;++o){var r=n.lines[o];if(r==e)break;t+=r.height}for(var i=n.parent;i;i=(n=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;t+=s.height}return t}function Vt(e){if(0==e.height)return 0;for(var t,n=e.text.length,o=e;t=Lt(o);){var r=t.find(0,!0);o=r.from.line,n+=r.from.ch-r.to.ch}for(o=e;t=Pt(o);){var i=t.find(0,!0);n-=o.text.length-i.from.ch,n+=(o=i.to.line).text.length-i.to.ch}return n}function Ut(e){var t=e.display,n=e.doc;t.maxLine=qe(n,n.first),t.maxLineLength=Vt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Vt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var qt=function(e,t,n){this.text=e,Nt(this,t),this.height=n?n(this):1};function Kt(e){e.parent=null,Ot(e)}qt.prototype.lineNo=function(){return Ge(this)},be(qt);var Xt={},Jt={};function Gt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Jt:Xt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Yt(e,t){var n=T("span",null,null,c?"padding-right: .1px":null),o={pre:T("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var i=r?t.rest[r-1]:t.line,a=void 0;o.pos=0,o.addToken=Qt,Ne(e.display.measure)&&(a=le(i,e.doc.direction))&&(o.addToken=en(o.addToken,a)),o.map=[],nn(i,o,dt(e,i,t!=e.display.externalMeasured&&Ge(i))),i.styleClasses&&(i.styleClasses.bgClass&&(o.bgClass=L(i.styleClasses.bgClass,o.bgClass||"")),i.styleClasses.textClass&&(o.textClass=L(i.styleClasses.textClass,o.textClass||""))),0==o.map.length&&o.map.push(0,0,o.content.appendChild(Oe(e.display.measure))),0==r?(t.measure.map=o.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(o.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(c){var s=o.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,o.pre),o.pre.className&&(o.textClass=L(o.pre.className,o.textClass||"")),o}function Zt(e){var t=N("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Qt(e,t,n,o,r,i,c){if(t){var l,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,o="",r=0;r<e.length;r++){var i=e.charAt(r);" "!=i||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(i=""),o+=i,n=" "==i}return o}(t,e.trailingSpace):t,f=e.cm.state.specialChars,d=!1;if(f.test(t)){l=document.createDocumentFragment();for(var p=0;;){f.lastIndex=p;var h=f.exec(t),m=h?h.index-p:t.length-p;if(m){var g=document.createTextNode(u.slice(p,p+m));a&&s<9?l.appendChild(N("span",[g])):l.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;p+=m+1;var v=void 0;if("\t"==h[0]){var b=e.cm.options.tabSize,y=b-e.col%b;(v=l.appendChild(N("span",K(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?((v=l.appendChild(N("span","\r"==h[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&s<9?l.appendChild(N("span",[v])):l.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,l=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,l),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||o||r||d||i){var _=n||"";o&&(_+=o),r&&(_+=r);var w=N("span",[l],_,i);if(c)for(var k in c)c.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&w.setAttribute(k,c[k]);return e.content.appendChild(w)}e.content.appendChild(l)}}function en(e,t){return function(n,o,r,i,a,s,c){r=r?r+" cm-force-border":"cm-force-border";for(var l=n.pos,u=l+o.length;;){for(var f=void 0,d=0;d<t.length&&!((f=t[d]).to>l&&f.from<=l);d++);if(f.to>=u)return e(n,o,r,i,a,s,c);e(n,o.slice(0,f.to-l),r,i,null,s,c),i=null,o=o.slice(f.to-l),l=f.to}}}function tn(e,t,n,o){var r=!o&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!o&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function nn(e,t,n){var o=e.markedSpans,r=e.text,i=0;if(o)for(var a,s,c,l,u,f,d,p=r.length,h=0,m=1,g="",v=0;;){if(v==h){c=l=u=s="",d=null,f=null,v=1/0;for(var b=[],y=void 0,_=0;_<o.length;++_){var w=o[_],k=w.marker;if("bookmark"==k.type&&w.from==h&&k.widgetNode)b.push(k);else if(w.from<=h&&(null==w.to||w.to>h||k.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,l=""),k.className&&(c+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&w.from==h&&(u+=" "+k.startStyle),k.endStyle&&w.to==v&&(y||(y=[])).push(k.endStyle,w.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var x in k.attributes)(d||(d={}))[x]=k.attributes[x];k.collapsed&&(!f||At(f.marker,k)<0)&&(f=w)}else w.from>h&&v>w.from&&(v=w.from)}if(y)for(var I=0;I<y.length;I+=2)y[I+1]==v&&(l+=" "+y[I]);if(!f||f.from==h)for(var C=0;C<b.length;++C)tn(t,0,b[C]);if(f&&(f.from||0)==h){if(tn(t,(null==f.to?p+1:f.to)-h,f.marker,null==f.from),null==f.to)return;f.to==h&&(f=!1)}}if(h>=p)break;for(var S=Math.min(p,v);;){if(g){var M=h+g.length;if(!f){var O=M>S?g.slice(0,S-h):g;t.addToken(t,O,a?a+c:c,u,h+O.length==v?l:"",s,d)}if(M>=S){g=g.slice(S-h),h=S;break}h=M,u=""}g=r.slice(i,i=n[m++]),a=Gt(n[m++],t.cm.options)}}else for(var N=1;N<n.length;N+=2)t.addToken(t,r.slice(i,i=n[N]),Gt(n[N+1],t.cm.options))}function on(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Pt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ge(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ht(e,t)}function rn(e,t,n){for(var o,r=[],i=t;i<n;i=o){var a=new on(e.doc,qe(e.doc,i),i);o=i+a.size,r.push(a)}return r}var an=null,sn=null;function cn(e,t){var n=de(e,t);if(n.length){var o,r=Array.prototype.slice.call(arguments,2);an?o=an.delayedCallbacks:sn?o=sn:(o=sn=[],setTimeout(ln,0));for(var i=function(e){o.push((function(){return n[e].apply(null,r)}))},a=0;a<n.length;++a)i(a)}}function ln(){var e=sn;sn=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,o){for(var r=0;r<t.changes.length;r++){var i=t.changes[r];"text"==i?pn(e,t):"gutter"==i?mn(e,t,n,o):"class"==i?hn(e,t):"widget"==i&&gn(e,t,o)}t.changes=null}function fn(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function dn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Yt(e,t)}function pn(e,t){var n=t.text.className,o=dn(e,t);t.text==t.node&&(t.node=o.pre),t.text.parentNode.replaceChild(o.pre,t.text),t.text=o.pre,o.bgClass!=t.bgClass||o.textClass!=t.textClass?(t.bgClass=o.bgClass,t.textClass=o.textClass,hn(e,t)):n&&(t.text.className=n)}function hn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var o=fn(t);t.background=o.insertBefore(N("div",null,n),o.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?fn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function mn(e,t,n,o){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=fn(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=fn(t),s=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(N("div",Qe(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var c=0;c<e.display.gutterSpecs.length;++c){var l=e.display.gutterSpecs[c].className,u=i.hasOwnProperty(l)&&i[l];u&&s.appendChild(N("div",[u],"CodeMirror-gutter-elt","left: "+o.gutterLeft[l]+"px; width: "+o.gutterWidth[l]+"px"))}}}function gn(e,t,n){t.alignable&&(t.alignable=null);for(var o=I("CodeMirror-linewidget"),r=t.node.firstChild,i=void 0;r;r=i)i=r.nextSibling,o.test(r.className)&&t.node.removeChild(r);bn(e,t,n)}function vn(e,t,n,o){var r=dn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),hn(e,t),mn(e,t,n,o),bn(e,t,o),t.node}function bn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var o=0;o<t.rest.length;o++)yn(e,t.rest[o],t,n,!1)}function yn(e,t,n,o,r){if(t.widgets)for(var i=fn(n),a=0,s=t.widgets;a<s.length;++a){var c=s[a],l=N("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),_n(c,l,n,o),e.display.input.setUneditable(l),r&&c.above?i.insertBefore(l,n.gutter||n.text):i.appendChild(l),cn(c,"redraw")}}function _n(e,t,n,o){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=o.wrapperWidth;t.style.left=o.fixedPos+"px",e.coverGutter||(r-=o.gutterTotalWidth,t.style.paddingLeft=o.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-o.gutterTotalWidth+"px"))}function wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),O(t.display.measure,N("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function kn(e,t){for(var n=xe(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function xn(e){return e.lineSpace.offsetTop}function In(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Cn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=O(e.measure,N("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Sn(e){return 50-e.display.nativeBarWidth}function Mn(e){return e.display.scroller.clientWidth-Sn(e)-e.display.barWidth}function On(e){return e.display.scroller.clientHeight-Sn(e)-e.display.barHeight}function Nn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var o=0;o<e.rest.length;o++)if(e.rest[o]==t)return{map:e.measure.maps[o],cache:e.measure.caches[o]};for(var r=0;r<e.rest.length;r++)if(Ge(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Tn(e,t,n,o){return Dn(e,An(e,t),n,o)}function En(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[uo(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function An(e,t){var n=Ge(t),o=En(e,n);o&&!o.text?o=null:o&&o.changes&&(un(e,o,n,io(e)),e.curOp.forceUpdate=!0),o||(o=function(e,t){var n=Ge(t=Bt(t)),o=e.display.externalMeasured=new on(e.doc,t,n);o.lineN=n;var r=o.built=Yt(e,o);return o.text=r.pre,O(e.display.lineMeasure,r.pre),o}(e,t));var r=Nn(o,t,n);return{line:t,view:o,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Dn(e,t,n,o,r){t.before&&(n=-1);var i,c=n+(o||"");return t.cache.hasOwnProperty(c)?i=t.cache[c]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var o=e.options.lineWrapping,r=o&&Mn(e);if(!t.measure.heights||o&&t.measure.width!=r){var i=t.measure.heights=[];if(o){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var c=a[s],l=a[s+1];Math.abs(c.bottom-l.bottom)>2&&i.push((c.bottom+l.top)/2-n.top)}}i.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(i=function(e,t,n,o){var r,i=Rn(t.map,n,o),c=i.node,l=i.start,u=i.end,f=i.collapse;if(3==c.nodeType){for(var d=0;d<4;d++){for(;l&&oe(t.line.text.charAt(i.coverStart+l));)--l;for(;i.coverStart+u<i.coverEnd&&oe(t.line.text.charAt(i.coverStart+u));)++u;if((r=a&&s<9&&0==l&&u==i.coverEnd-i.coverStart?c.parentNode.getBoundingClientRect():Fn(C(c,l,u).getClientRects(),o)).left||r.right||0==l)break;u=l,l-=1,f="right"}a&&s<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Le)return Le;var t=O(e,N("span","x")),n=t.getBoundingClientRect(),o=C(t,0,1).getBoundingClientRect();return Le=Math.abs(n.left-o.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*o,bottom:t.bottom*o}}(e.display.measure,r))}else{var p;l>0&&(f=o="right"),r=e.options.lineWrapping&&(p=c.getClientRects()).length>1?p["right"==o?p.length-1:0]:c.getBoundingClientRect()}if(a&&s<9&&!l&&(!r||!r.left&&!r.right)){var h=c.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+ro(e.display),top:h.top,bottom:h.bottom}:Pn}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,y=0;y<b.length-1&&!(v<b[y]);y++);var _=y?b[y-1]:0,w=b[y],k={left:("right"==f?r.right:r.left)-t.rect.left,right:("left"==f?r.left:r.right)-t.rect.left,top:_,bottom:w};return r.left||r.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}(e,t,n,o)).bogus||(t.cache[c]=i)),{left:i.left,right:i.right,top:r?i.rtop:i.top,bottom:r?i.rbottom:i.bottom}}var Ln,Pn={left:0,right:0,top:0,bottom:0};function Rn(e,t,n){for(var o,r,i,a,s,c,l=0;l<e.length;l+=3)if(s=e[l],c=e[l+1],t<s?(r=0,i=1,a="left"):t<c?i=1+(r=t-s):(l==e.length-3||t==c&&e[l+3]>t)&&(r=(i=c-s)-1,t>=c&&(a="right")),null!=r){if(o=e[l+2],s==c&&n==(o.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)o=e[2+(l-=3)],a="left";if("right"==n&&r==c-s)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)o=e[(l+=3)+2],a="right";break}return{node:o,start:r,end:i,collapse:a,coverStart:s,coverEnd:c}}function Fn(e,t){var n=Pn;if("left"==t)for(var o=0;o<e.length&&(n=e[o]).left==n.right;o++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Bn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function zn(e){e.display.externalMeasure=null,M(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Bn(e.display.view[t])}function jn(e){zn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Hn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function $n(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=wn(e.widgets[n]));return t}function Vn(e,t,n,o,r){if(!r){var i=$n(t);n.top+=i,n.bottom+=i}if("line"==o)return n;o||(o="local");var a=$t(t);if("local"==o?a+=xn(e.display):a-=e.display.viewOffset,"page"==o||"window"==o){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==o?0:Wn());var c=s.left+("window"==o?0:Hn());n.left+=c,n.right+=c}return n.top+=a,n.bottom+=a,n}function Un(e,t,n){if("div"==n)return t;var o=t.left,r=t.top;if("page"==n)o-=Hn(),r-=Wn();else if("local"==n||!n){var i=e.display.sizer.getBoundingClientRect();o+=i.left,r+=i.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:o-a.left,top:r-a.top}}function qn(e,t,n,o,r){return o||(o=qe(e.doc,t.line)),Vn(e,o,Tn(e,o,t.ch,r),n)}function Kn(e,t,n,o,r,i){function a(t,a){var s=Dn(e,r,t,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,Vn(e,o,s,n)}o=o||qe(e.doc,t.line),r||(r=An(e,o));var s=le(o,e.doc.direction),c=t.ch,l=t.sticky;if(c>=o.text.length?(c=o.text.length,l="before"):c<=0&&(c=0,l="after"),!s)return a("before"==l?c-1:c,"before"==l);function u(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var f=se(s,c,l),d=ae,p=u(c,f,"before"==l);return null!=d&&(p.other=u(c,d,"before"!=l)),p}function Xn(e,t){var n=0;t=st(e.doc,t),e.options.lineWrapping||(n=ro(e.display)*t.ch);var o=qe(e.doc,t.line),r=$t(o)+xn(e.display);return{left:n,right:n,top:r,bottom:r+o.height}}function Jn(e,t,n,o,r){var i=et(e,t,n);return i.xRel=r,o&&(i.outside=o),i}function Gn(e,t,n){var o=e.doc;if((n+=e.display.viewOffset)<0)return Jn(o.first,0,null,-1,-1);var r=Ye(o,n),i=o.first+o.size-1;if(r>i)return Jn(o.first+o.size-1,qe(o,i).text.length,null,1,1);t<0&&(t=0);for(var a=qe(o,r);;){var s=eo(e,a,r,t,n),c=Rt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!c)return s;var l=c.find(1);if(l.line==r)return l;a=qe(o,r=l.line)}}function Yn(e,t,n,o){o-=$n(t);var r=t.text.length,i=ie((function(t){return Dn(e,n,t-1).bottom<=o}),r,0);return{begin:i,end:r=ie((function(t){return Dn(e,n,t).top>o}),i,r)}}function Zn(e,t,n,o){return n||(n=An(e,t)),Yn(e,t,n,Vn(e,t,Dn(e,n,o),"line").top)}function Qn(e,t,n,o){return!(e.bottom<=n)&&(e.top>n||(o?e.left:e.right)>t)}function eo(e,t,n,o,r){r-=$t(t);var i=An(e,t),a=$n(t),s=0,c=t.text.length,l=!0,u=le(t,e.doc.direction);if(u){var f=(e.options.lineWrapping?no:to)(e,t,n,i,u,o,r);s=(l=1!=f.level)?f.from:f.to-1,c=l?f.to:f.from-1}var d,p,h=null,m=null,g=ie((function(t){var n=Dn(e,i,t);return n.top+=a,n.bottom+=a,!!Qn(n,o,r,!1)&&(n.top<=r&&n.left<=o&&(h=t,m=n),!0)}),s,c),v=!1;if(m){var b=o-m.left<m.right-o,y=b==l;g=h+(y?0:1),p=y?"after":"before",d=b?m.left:m.right}else{l||g!=c&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":Dn(e,i,g-(l?1:0)).bottom+a<=r==l?"after":"before";var _=Kn(e,et(n,g,p),"line",t,i);d=_.left,v=r<_.top?-1:r>=_.bottom?1:0}return Jn(n,g=re(t.text,g,1),p,v,o-d)}function to(e,t,n,o,r,i,a){var s=ie((function(s){var c=r[s],l=1!=c.level;return Qn(Kn(e,et(n,l?c.to:c.from,l?"before":"after"),"line",t,o),i,a,!0)}),0,r.length-1),c=r[s];if(s>0){var l=1!=c.level,u=Kn(e,et(n,l?c.from:c.to,l?"after":"before"),"line",t,o);Qn(u,i,a,!0)&&u.top>a&&(c=r[s-1])}return c}function no(e,t,n,o,r,i,a){var s=Yn(e,t,o,a),c=s.begin,l=s.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var u=null,f=null,d=0;d<r.length;d++){var p=r[d];if(!(p.from>=l||p.to<=c)){var h=Dn(e,o,1!=p.level?Math.min(l,p.to)-1:Math.max(c,p.from)).right,m=h<i?i-h+1e9:h-i;(!u||f>m)&&(u=p,f=m)}}return u||(u=r[r.length-1]),u.from<c&&(u={from:c,to:u.to,level:u.level}),u.to>l&&(u={from:u.from,to:l,level:u.level}),u}function oo(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ln){Ln=N("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ln.appendChild(document.createTextNode("x")),Ln.appendChild(N("br"));Ln.appendChild(document.createTextNode("x"))}O(e.measure,Ln);var n=Ln.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),M(e.measure),n||1}function ro(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),n=N("pre",[t],"CodeMirror-line-like");O(e.measure,n);var o=t.getBoundingClientRect(),r=(o.right-o.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function io(e){for(var t=e.display,n={},o={},r=t.gutters.clientLeft,i=t.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+r,o[s]=i.clientWidth}return{fixedPos:ao(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:o,wrapperWidth:t.wrapper.clientWidth}}function ao(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function so(e){var t=oo(e.display),n=e.options.lineWrapping,o=n&&Math.max(5,e.display.scroller.clientWidth/ro(e.display)-3);return function(r){if(Ht(e.doc,r))return 0;var i=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(i+=r.widgets[a].height);return n?i+(Math.ceil(r.text.length/o)||1)*t:i+t}}function co(e){var t=e.doc,n=so(e);t.iter((function(e){var t=n(e);t!=e.height&&Je(e,t)}))}function lo(e,t,n,o){var r=e.display;if(!n&&"true"==xe(t).getAttribute("cm-not-content"))return null;var i,a,s=r.lineSpace.getBoundingClientRect();try{i=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var c,l=Gn(e,i,a);if(o&&l.xRel>0&&(c=qe(e.doc,l.line).text).length==l.ch){var u=B(c,c.length,e.options.tabSize)-c.length;l=et(l.line,Math.max(0,Math.round((i-Cn(e.display).left)/ro(e.display))-u))}return l}function uo(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,o=0;o<n.length;o++)if((t-=n[o].size)<0)return o}function fo(e,t,n,o){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),o||(o=0);var r=e.display;if(o&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)kt&&zt(e.doc,t)<r.viewTo&&ho(e);else if(n<=r.viewFrom)kt&&jt(e.doc,n+o)>r.viewFrom?ho(e):(r.viewFrom+=o,r.viewTo+=o);else if(t<=r.viewFrom&&n>=r.viewTo)ho(e);else if(t<=r.viewFrom){var i=mo(e,n,n+o,1);i?(r.view=r.view.slice(i.index),r.viewFrom=i.lineN,r.viewTo+=o):ho(e)}else if(n>=r.viewTo){var a=mo(e,t,t,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):ho(e)}else{var s=mo(e,t,t,-1),c=mo(e,n,n+o,1);s&&c?(r.view=r.view.slice(0,s.index).concat(rn(e,s.lineN,c.lineN)).concat(r.view.slice(c.index)),r.viewTo+=o):ho(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=o:t<l.lineN+l.size&&(r.externalMeasured=null))}function po(e,t,n){e.curOp.viewChanged=!0;var o=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(o.externalMeasured=null),!(t<o.viewFrom||t>=o.viewTo)){var i=o.view[uo(e,t)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==j(a,n)&&a.push(n)}}}function ho(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function mo(e,t,n,o){var r,i=uo(e,t),a=e.display.view;if(!kt||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,c=0;c<i;c++)s+=a[c].size;if(s!=t){if(o>0){if(i==a.length-1)return null;r=s+a[i].size-t,i++}else r=s-t;t+=r,n+=r}for(;zt(e.doc,n)!=n;){if(i==(o<0?0:a.length-1))return null;n+=o*a[i-(o<0?1:0)].size,i+=o}return{index:i,lineN:n}}function go(e){for(var t=e.display.view,n=0,o=0;o<t.length;o++){var r=t[o];r.hidden||r.node&&!r.changes||++n}return n}function vo(e){e.display.input.showSelection(e.display.input.prepareSelection())}function bo(e,t){void 0===t&&(t=!0);for(var n=e.doc,o={},r=o.cursors=document.createDocumentFragment(),i=o.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var c=s.empty();(c||e.options.showCursorWhenSelecting)&&yo(e,s.head,r),c||wo(e,s,i)}}return o}function yo(e,t,n){var o=Kn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(N("div","","CodeMirror-cursor"));if(r.style.left=o.left+"px",r.style.top=o.top+"px",r.style.height=Math.max(0,o.bottom-o.top)*e.options.cursorHeight+"px",o.other){var i=n.appendChild(N("div","","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=o.other.left+"px",i.style.top=o.other.top+"px",i.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function _o(e,t){return e.top-t.top||e.left-t.left}function wo(e,t,n){var o=e.display,r=e.doc,i=document.createDocumentFragment(),a=Cn(e.display),s=a.left,c=Math.max(o.sizerWidth,Mn(e)-o.sizer.offsetLeft)-a.right,l="ltr"==r.direction;function u(e,t,n,o){t<0&&(t=0),t=Math.round(t),o=Math.round(o),i.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?c-e:n)+"px;\n                             height: "+(o-t)+"px"))}function f(t,n,o){var i,a,f=qe(r,t),d=f.text.length;function p(n,o){return qn(e,et(t,n),"div",f,o)}function h(t,n,o){var r=Zn(e,f,null,t),i="ltr"==n==("after"==o)?"left":"right";return p("after"==o?r.begin:r.end-(/\s/.test(f.text.charAt(r.end-1))?2:1),i)[i]}var m=le(f,r.direction);return function(e,t,n,o){if(!e)return o(t,n,"ltr",0);for(var r=!1,i=0;i<e.length;++i){var a=e[i];(a.from<n&&a.to>t||t==n&&a.to==t)&&(o(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),r=!0)}r||o(t,n,"ltr")}(m,n||0,null==o?d:o,(function(e,t,r,f){var g="ltr"==r,v=p(e,g?"left":"right"),b=p(t-1,g?"right":"left"),y=null==n&&0==e,_=null==o&&t==d,w=0==f,k=!m||f==m.length-1;if(b.top-v.top<=3){var x=(l?_:y)&&k,I=(l?y:_)&&w?s:(g?v:b).left,C=x?c:(g?b:v).right;u(I,v.top,C-I,v.bottom)}else{var S,M,O,N;g?(S=l&&y&&w?s:v.left,M=l?c:h(e,r,"before"),O=l?s:h(t,r,"after"),N=l&&_&&k?c:b.right):(S=l?h(e,r,"before"):s,M=!l&&y&&w?c:v.right,O=!l&&_&&k?s:b.left,N=l?h(t,r,"after"):c),u(S,v.top,M-S,v.bottom),v.bottom<b.top&&u(s,v.bottom,null,b.top),u(O,b.top,N-O,b.bottom)}(!i||_o(v,i)<0)&&(i=v),_o(b,i)<0&&(i=b),(!a||_o(v,a)<0)&&(a=v),_o(b,a)<0&&(a=b)})),{start:i,end:a}}var d=t.from(),p=t.to();if(d.line==p.line)f(d.line,d.ch,p.ch);else{var h=qe(r,d.line),m=qe(r,p.line),g=Bt(h)==Bt(m),v=f(d.line,d.ch,g?h.text.length+1:null).end,b=f(p.line,g?0:null,p.ch).start;g&&(v.top<b.top-2?(u(v.right,v.top,null,v.bottom),u(s,b.top,b.left,b.bottom)):u(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&u(s,v.bottom,null,b.top)}n.appendChild(i)}function ko(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xo(e){e.state.focused||(e.display.input.focus(),Co(e))}function Io(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,So(e))}),100)}function Co(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,D(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),c&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),ko(e))}function So(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,S(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Mo(e){for(var t=e.display,n=t.lineDiv.offsetTop,o=0;o<t.view.length;o++){var r=t.view[o],i=e.options.lineWrapping,c=void 0,l=0;if(!r.hidden){if(a&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;c=u-n,n=u}else{var f=r.node.getBoundingClientRect();c=f.bottom-f.top,!i&&r.text.firstChild&&(l=r.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=r.line.height-c;if((d>.005||d<-.005)&&(Je(r.line,c),Oo(r.line),r.rest))for(var p=0;p<r.rest.length;p++)Oo(r.rest[p]);if(l>e.display.sizerWidth){var h=Math.ceil(l/ro(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function Oo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],o=n.node.parentNode;o&&(n.height=o.offsetHeight)}}function No(e,t,n){var o=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;o=Math.floor(o-xn(e));var r=n&&null!=n.bottom?n.bottom:o+e.wrapper.clientHeight,i=Ye(t,o),a=Ye(t,r);if(n&&n.ensure){var s=n.ensure.from.line,c=n.ensure.to.line;s<i?(i=s,a=Ye(t,$t(qe(t,s))+e.wrapper.clientHeight)):Math.min(c,t.lastLine())>=a&&(i=Ye(t,$t(qe(t,c))-e.wrapper.clientHeight),a=c)}return{from:i,to:Math.max(a,i+1)}}function To(e,t){var n=e.display,o=oo(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,i=On(e),a={};t.bottom-t.top>i&&(t.bottom=t.top+i);var s=e.doc.height+In(n),c=t.top<o,l=t.bottom>s-o;if(t.top<r)a.scrollTop=c?0:t.top;else if(t.bottom>r+i){var u=Math.min(t.top,(l?s:t.bottom)-i);u!=r&&(a.scrollTop=u)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,d=Mn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>d+f-3&&(a.scrollLeft=t.right+(p?0:10)-d),a}function Eo(e,t){null!=t&&(Lo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Ao(e){Lo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Do(e,t,n){null==t&&null==n||Lo(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Lo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Po(e,Xn(e,t.from),Xn(e,t.to),t.margin))}function Po(e,t,n,o){var r=To(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-o,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+o});Do(e,r.scrollLeft,r.scrollTop)}function Ro(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||lr(e,{top:t}),Fo(e,t,!0),n&&lr(e),rr(e,100))}function Fo(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Bo(e,t,n,o){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!o||(e.doc.scrollLeft=t,dr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function zo(e){var t=e.display,n=t.gutters.offsetWidth,o=Math.round(e.doc.height+In(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:o,scrollHeight:o+Sn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var jo=function(e,t,n){this.cm=n;var o=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=r.tabIndex=-1,e(o),e(r),fe(o,"scroll",(function(){o.clientHeight&&t(o.scrollTop,"vertical")})),fe(r,"scroll",(function(){r.clientWidth&&t(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};jo.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,o=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?o+"px":"0";var r=e.viewHeight-(t?o:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?o+"px":"0",this.horiz.style.left=e.barLeft+"px";var i=e.viewWidth-e.barLeft-(n?o:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==o&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?o:0,bottom:t?o:0}},jo.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},jo.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},jo.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},jo.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function o(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,o)}))},jo.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ho=function(){};function Wo(e,t){t||(t=zo(e));var n=e.display.barWidth,o=e.display.barHeight;$o(e,t);for(var r=0;r<4&&n!=e.display.barWidth||o!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Mo(e),$o(e,zo(e)),n=e.display.barWidth,o=e.display.barHeight}function $o(e,t){var n=e.display,o=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=o.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=o.bottom)+"px",n.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=o.bottom+"px",n.scrollbarFiller.style.width=o.right+"px"):n.scrollbarFiller.style.display="",o.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=o.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Ho.prototype.update=function(){return{bottom:0,right:0}},Ho.prototype.setScrollLeft=function(){},Ho.prototype.setScrollTop=function(){},Ho.prototype.clear=function(){};var Vo={native:jo,null:Ho};function Uo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&S(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Vo[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),fe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Bo(e,t):Ro(e,t)}),e),e.display.scrollbars.addClass&&D(e.display.wrapper,e.display.scrollbars.addClass)}var qo=0;function Ko(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qo},t=e.curOp,an?an.ops.push(t):t.ownsGroup=an={ops:[t],delayedCallbacks:[]}}function Xo(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var o=0;o<e.ops.length;o++){var r=e.ops[o];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{an=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Jo(t[n]);for(var o=0;o<t.length;o++)Go(t[o]);for(var r=0;r<t.length;r++)Yo(t[r]);for(var i=0;i<t.length;i++)Zo(t[i]);for(var a=0;a<t.length;a++)Qo(t[a])}(e)}))}function Jo(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Sn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Sn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ut(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ar(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Go(e){e.updatedDisplay=e.mustUpdate&&sr(e.cm,e.update)}function Yo(e){var t=e.cm,n=t.display;e.updatedDisplay&&Mo(t),e.barMeasure=zo(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Tn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Sn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Mn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Zo(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Bo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==A();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Wo(t,e.barMeasure),e.updatedDisplay&&fr(t,e.barMeasure),e.selectionChanged&&ko(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&xo(e.cm)}function Qo(e){var t=e.cm,n=t.display,o=t.doc;e.updatedDisplay&&cr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Fo(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Bo(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,o=n.sizer.getBoundingClientRect(),r=null;if(t.top+o.top<0?r=!0:t.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!h){var i=N("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-xn(e.display))+"px;\n                         height: "+(t.bottom-t.top+Sn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(i),i.scrollIntoView(r),e.display.lineSpace.removeChild(i)}}}(t,function(e,t,n,o){var r;null==o&&(o=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var i=0;i<5;i++){var a=!1,s=Kn(e,t),c=n&&n!=t?Kn(e,n):s,l=To(e,r={left:Math.min(s.left,c.left),top:Math.min(s.top,c.top)-o,right:Math.max(s.left,c.left),bottom:Math.max(s.bottom,c.bottom)+o}),u=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=l.scrollTop&&(Ro(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=l.scrollLeft&&(Bo(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return r}(t,st(o,e.scrollToPos.from),st(o,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,i=e.maybeUnhiddenMarkers;if(r)for(var a=0;a<r.length;++a)r[a].lines.length||he(r[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&he(i[s],"unhide");n.wrapper.offsetHeight&&(o.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function er(e,t){if(e.curOp)return t();Ko(e);try{return t()}finally{Xo(e)}}function tr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ko(e);try{return t.apply(e,arguments)}finally{Xo(e)}}}function nr(e){return function(){if(this.curOp)return e.apply(this,arguments);Ko(this);try{return e.apply(this,arguments)}finally{Xo(this)}}}function or(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ko(t);try{return e.apply(this,arguments)}finally{Xo(t)}}}function rr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,R(ir,e))}function ir(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,o=pt(e,t.highlightFrontier),r=[];t.iter(o.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(i){if(o.line>=e.display.viewFrom){var a=i.styles,s=i.text.length>e.options.maxHighlightLength?We(t.mode,o.state):null,c=ft(e,i,o,!0);s&&(o.state=s),i.styles=c.styles;var l=i.styleClasses,u=c.classes;u?i.styleClasses=u:l&&(i.styleClasses=null);for(var f=!a||a.length!=i.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=i.styles[d];f&&r.push(o.line),i.stateAfter=o.save(),o.nextLine()}else i.text.length<=e.options.maxHighlightLength&&ht(e,i.text,o),i.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>n)return rr(e,e.options.workDelay),!0})),t.highlightFrontier=o.line,t.modeFrontier=Math.max(t.modeFrontier,o.line),r.length&&er(e,(function(){for(var t=0;t<r.length;t++)po(e,r[t],"text")}))}}var ar=function(e,t,n){var o=e.display;this.viewport=t,this.visible=No(o,e.doc,t),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=Mn(e),this.force=n,this.dims=io(e),this.events=[]};function sr(e,t){var n=e.display,o=e.doc;if(t.editorIsHidden)return ho(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==go(e))return!1;pr(e)&&(ho(e),t.dims=io(e));var r=o.first+o.size,i=Math.max(t.visible.from-e.options.viewportMargin,o.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(o.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),kt&&(i=zt(e.doc,i),a=jt(e.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var o=e.display;0==o.view.length||t>=o.viewTo||n<=o.viewFrom?(o.view=rn(e,t,n),o.viewFrom=t):(o.viewFrom>t?o.view=rn(e,t,o.viewFrom).concat(o.view):o.viewFrom<t&&(o.view=o.view.slice(uo(e,t))),o.viewFrom=t,o.viewTo<n?o.view=o.view.concat(rn(e,o.viewTo,n)):o.viewTo>n&&(o.view=o.view.slice(0,uo(e,n)))),o.viewTo=n}(e,i,a),n.viewOffset=$t(qe(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=go(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=A();if(!t||!E(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&E(e.display.lineDiv,o.anchorNode)&&(n.anchorNode=o.anchorNode,n.anchorOffset=o.anchorOffset,n.focusNode=o.focusNode,n.focusOffset=o.focusOffset)}return n}(e);return l>4&&(n.lineDiv.style.display="none"),function(e,t,n){var o=e.display,r=e.options.lineNumbers,i=o.lineDiv,a=i.firstChild;function s(t){var n=t.nextSibling;return c&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var l=o.view,u=o.viewFrom,f=0;f<l.length;f++){var d=l[f];if(d.hidden);else if(d.node&&d.node.parentNode==i){for(;a!=d.node;)a=s(a);var p=r&&null!=t&&t<=u&&d.lineNumber;d.changes&&(j(d.changes,"gutter")>-1&&(p=!1),un(e,d,u,n)),p&&(M(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Qe(e.options,u)))),a=d.node.nextSibling}else{var h=vn(e,d,u,n);i.insertBefore(h,a)}u+=d.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=A()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),M(n.cursorDiv),M(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,rr(e,400)),n.updateLineNumbers=null,!0}function cr(e,t){for(var n=t.viewport,o=!0;;o=!1){if(o&&e.options.lineWrapping&&t.oldDisplayWidth!=Mn(e))o&&(t.visible=No(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+In(e.display)-On(e),n.top)}),t.visible=No(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!sr(e,t))break;Mo(e);var r=zo(e);vo(e),Wo(e,r),fr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function lr(e,t){var n=new ar(e,t);if(sr(e,n)){Mo(e),cr(e,n);var o=zo(e);vo(e),Wo(e,o),fr(e,o),n.finish()}}function ur(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function fr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Sn(e)+"px"}function dr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var o=ao(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,i=o+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var c=0;c<s.length;c++)s[c].style.left=i}e.options.fixedGutter&&(t.gutters.style.left=o+r+"px")}}function pr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Qe(e.options,t.first+t.size-1),o=e.display;if(n.length!=o.lineNumChars){var r=o.measure.appendChild(N("div",[N("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=r.firstChild.offsetWidth,a=r.offsetWidth-i;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(i,o.lineGutter.offsetWidth-a)+1,o.lineNumWidth=o.lineNumInnerWidth+a,o.lineNumChars=o.lineNumInnerWidth?n.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",ur(e.display),!0}return!1}function hr(e,t){for(var n=[],o=!1,r=0;r<e.length;r++){var i=e[r],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!t)continue;o=!0}n.push({className:i,style:a})}return t&&!o&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function mr(e){var t=e.gutters,n=e.gutterSpecs;M(t),e.lineGutter=null;for(var o=0;o<n.length;++o){var r=n[o],i=r.className,a=r.style,s=t.appendChild(N("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ur(e)}function gr(e){mr(e.display),fo(e),dr(e)}function vr(e,t,o,r){var i=this;this.input=o,i.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=T("div",null,"CodeMirror-code"),i.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=N("div",null,"CodeMirror-cursors"),i.measure=N("div",null,"CodeMirror-measure"),i.lineMeasure=N("div",null,"CodeMirror-measure"),i.lineSpace=T("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var l=T("div",[i.lineSpace],"CodeMirror-lines");i.mover=N("div",[l],null,"position: relative"),i.sizer=N("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=N("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=N("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=N("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=N("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),c||n&&v||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=hr(r.gutters,r.lineNumbers),mr(i),o.init(i)}ar.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ar.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var br=0,yr=null;function _r(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wr(e){var t=_r(e);return t.x*=yr,t.y*=yr,t}function kr(e,t){var o=_r(t),r=o.x,i=o.y,a=e.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&l||i&&u){if(i&&b&&c)e:for(var d=t.target,p=a.view;d!=s;d=d.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==d){e.display.currentWheelTarget=d;break e}if(r&&!n&&!f&&null!=yr)return i&&u&&Ro(e,Math.max(0,s.scrollTop+i*yr)),Bo(e,Math.max(0,s.scrollLeft+r*yr)),(!i||i&&u)&&ye(t),void(a.wheelStartX=null);if(i&&null!=yr){var m=i*yr,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),lr(e,{top:g,bottom:v})}br<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=r,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(yr=(yr*br+n)/(br+1),++br)}}),200)):(a.wheelDX+=r,a.wheelDY+=i))}}a?yr=-.53:n?yr=15:u?yr=-.7:d&&(yr=-1/3);var xr=function(e,t){this.ranges=e,this.primIndex=t};xr.prototype.primary=function(){return this.ranges[this.primIndex]},xr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],o=e.ranges[t];if(!nt(n.anchor,o.anchor)||!nt(n.head,o.head))return!1}return!0},xr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ir(ot(this.ranges[t].anchor),ot(this.ranges[t].head));return new xr(e,this.primIndex)},xr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},xr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var o=this.ranges[n];if(tt(t,o.from())>=0&&tt(e,o.to())<=0)return n}return-1};var Ir=function(e,t){this.anchor=e,this.head=t};function Cr(e,t,n){var o=e&&e.options.selectionsMayTouch,r=t[n];t.sort((function(e,t){return tt(e.from(),t.from())})),n=j(t,r);for(var i=1;i<t.length;i++){var a=t[i],s=t[i-1],c=tt(s.to(),a.from());if(o&&!a.empty()?c>0:c>=0){var l=it(s.from(),a.from()),u=rt(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,t.splice(--i,2,new Ir(f?u:l,f?l:u))}}return new xr(t,n)}function Sr(e,t){return new xr([new Ir(e,t||e)],0)}function Mr(e){return e.text?et(e.from.line+e.text.length-1,X(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Or(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return Mr(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,o=e.ch;return e.line==t.to.line&&(o+=Mr(t).ch-t.to.ch),et(n,o)}function Nr(e,t){for(var n=[],o=0;o<e.sel.ranges.length;o++){var r=e.sel.ranges[o];n.push(new Ir(Or(r.anchor,t),Or(r.head,t)))}return Cr(e.cm,n,e.sel.primIndex)}function Tr(e,t,n){return e.line==t.line?et(n.line,e.ch-t.ch+n.ch):et(n.line+(e.line-t.line),e.ch)}function Er(e){e.doc.mode=ze(e.options,e.doc.modeOption),Ar(e)}function Ar(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,rr(e,100),e.state.modeGen++,e.curOp&&fo(e)}function Dr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==X(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Lr(e,t,n,o){function r(e){return n?n[e]:null}function i(e,n,r){!function(e,t,n,o){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ot(e),Nt(e,n);var r=o?o(e):1;r!=e.height&&Je(e,r)}(e,n,r,o),cn(e,"change",e,t)}function a(e,t){for(var n=[],i=e;i<t;++i)n.push(new qt(l[i],r(i),o));return n}var s=t.from,c=t.to,l=t.text,u=qe(e,s.line),f=qe(e,c.line),d=X(l),p=r(l.length-1),h=c.line-s.line;if(t.full)e.insert(0,a(0,l.length)),e.remove(l.length,e.size-l.length);else if(Dr(e,t)){var m=a(0,l.length-1);i(f,f.text,p),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(u==f)if(1==l.length)i(u,u.text.slice(0,s.ch)+d+u.text.slice(c.ch),p);else{var g=a(1,l.length-1);g.push(new qt(d+u.text.slice(c.ch),p,o)),i(u,u.text.slice(0,s.ch)+l[0],r(0)),e.insert(s.line+1,g)}else if(1==l.length)i(u,u.text.slice(0,s.ch)+l[0]+f.text.slice(c.ch),r(0)),e.remove(s.line+1,h);else{i(u,u.text.slice(0,s.ch)+l[0],r(0)),i(f,d+f.text.slice(c.ch),p);var v=a(1,l.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}cn(e,"change",e,t)}function Pr(e,t,n){!function e(o,r,i){if(o.linked)for(var a=0;a<o.linked.length;++a){var s=o.linked[a];if(s.doc!=r){var c=i&&s.sharedHist;n&&!c||(t(s.doc,c),e(s.doc,o,c))}}}(e,null,!0)}function Rr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,co(e),Er(e),Fr(e),e.options.lineWrapping||Ut(e),e.options.mode=t.modeOption,fo(e)}function Fr(e){("rtl"==e.doc.direction?D:S)(e.display.lineDiv,"CodeMirror-rtl")}function Br(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function zr(e,t){var n={from:ot(t.from),to:Mr(t),text:Ke(e,t.from,t.to)};return Vr(e,n,t.from.line,t.to.line+1),Pr(e,(function(e){return Vr(e,n,t.from.line,t.to.line+1)}),!0),n}function jr(e){for(;e.length&&X(e).ranges;)e.pop()}function Hr(e,t,n,o){var r=e.history;r.undone.length=0;var i,a,s=+new Date;if((r.lastOp==o||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(i=function(e,t){return t?(jr(e.done),X(e.done)):e.done.length&&!X(e.done).ranges?X(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),X(e.done)):void 0}(r,r.lastOp==o)))a=X(i.changes),0==tt(t.from,t.to)&&0==tt(t.from,a.to)?a.to=Mr(t):i.changes.push(zr(e,t));else{var c=X(r.done);for(c&&c.ranges||$r(e.sel,r.done),i={changes:[zr(e,t)],generation:r.generation},r.done.push(i);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=o,r.lastOrigin=r.lastSelOrigin=t.origin,a||he(e,"historyAdded")}function Wr(e,t,n,o){var r=e.history,i=o&&o.origin;n==r.lastSelOp||i&&r.lastSelOrigin==i&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==i||function(e,t,n,o){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==o.ranges.length&&n.somethingSelected()==o.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,i,X(r.done),t))?r.done[r.done.length-1]=t:$r(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=i,r.lastSelOp=n,o&&!1!==o.clearRedo&&jr(r.undone)}function $r(e,t){var n=X(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Vr(e,t,n,o){var r=t["spans_"+e.id],i=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,o),(function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[i]=n.markedSpans),++i}))}function Ur(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function qr(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var o=[],r=0;r<t.text.length;++r)o.push(Ur(n[r]));return o}(e,t),o=St(e,t);if(!n)return o;if(!o)return n;for(var r=0;r<n.length;++r){var i=n[r],a=o[r];if(i&&a)e:for(var s=0;s<a.length;++s){for(var c=a[s],l=0;l<i.length;++l)if(i[l].marker==c.marker)continue e;i.push(c)}else a&&(n[r]=a)}return n}function Kr(e,t,n){for(var o=[],r=0;r<e.length;++r){var i=e[r];if(i.ranges)o.push(n?xr.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];o.push({changes:s});for(var c=0;c<a.length;++c){var l=a[c],u=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),t)for(var f in l)(u=f.match(/^spans_(\d+)$/))&&j(t,Number(u[1]))>-1&&(X(s)[f]=l[f],delete l[f])}}}return o}function Xr(e,t,n,o){if(o){var r=e.anchor;if(n){var i=tt(t,r)<0;i!=tt(n,r)<0?(r=t,t=n):i!=tt(t,n)<0&&(t=n)}return new Ir(r,t)}return new Ir(n||t,t)}function Jr(e,t,n,o,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),ei(e,new xr([Xr(e.sel.primary(),t,n,r)],0),o)}function Gr(e,t,n){for(var o=[],r=e.cm&&(e.cm.display.shift||e.extend),i=0;i<e.sel.ranges.length;i++)o[i]=Xr(e.sel.ranges[i],t[i],null,r);ei(e,Cr(e.cm,o,e.sel.primIndex),n)}function Yr(e,t,n,o){var r=e.sel.ranges.slice(0);r[t]=n,ei(e,Cr(e.cm,r,e.sel.primIndex),o)}function Zr(e,t,n,o){ei(e,Sr(t,n),o)}function Qr(e,t,n){var o=e.history.done,r=X(o);r&&r.ranges?(o[o.length-1]=t,ti(e,t,n)):ei(e,t,n)}function ei(e,t,n){ti(e,t,n),Wr(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function ti(e,t,n){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var o={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new Ir(st(e,t[n].anchor),st(e,t[n].head))},origin:n&&n.origin};return he(e,"beforeSelectionChange",e,o),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,o),o.ranges!=t.ranges?Cr(e.cm,o.ranges,o.ranges.length-1):t}(e,t,n));var o=n&&n.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1);ni(e,ri(e,t,o,!0)),n&&!1===n.scroll||!e.cm||Ao(e.cm)}function ni(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),cn(e,"cursorActivity",e))}function oi(e){ni(e,ri(e,e.sel,null,!1))}function ri(e,t,n,o){for(var r,i=0;i<t.ranges.length;i++){var a=t.ranges[i],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[i],c=ai(e,a.anchor,s&&s.anchor,n,o),l=ai(e,a.head,s&&s.head,n,o);(r||c!=a.anchor||l!=a.head)&&(r||(r=t.ranges.slice(0,i)),r[i]=new Ir(c,l))}return r?Cr(e.cm,r,t.primIndex):t}function ii(e,t,n,o,r){var i=qe(e,t.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],c=s.marker,l="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,u="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==s.from||(l?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(r&&(he(c,"beforeCursorEnter"),c.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!c.atomic)continue;if(n){var f=c.find(o<0?1:-1),d=void 0;if((o<0?u:l)&&(f=si(e,f,-o,f&&f.line==t.line?i:null)),f&&f.line==t.line&&(d=tt(f,n))&&(o<0?d<0:d>0))return ii(e,f,t,o,r)}var p=c.find(o<0?-1:1);return(o<0?l:u)&&(p=si(e,p,o,p.line==t.line?i:null)),p?ii(e,p,t,o,r):null}}return t}function ai(e,t,n,o,r){var i=o||1,a=ii(e,t,n,i,r)||!r&&ii(e,t,n,i,!0)||ii(e,t,n,-i,r)||!r&&ii(e,t,n,-i,!0);return a||(e.cantEdit=!0,et(e.first,0))}function si(e,t,n,o){return n<0&&0==t.ch?t.line>e.first?st(e,et(t.line-1)):null:n>0&&t.ch==(o||qe(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+n)}function ci(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),W)}function li(e,t,n){var o={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return o.canceled=!0}};return n&&(o.update=function(t,n,r,i){t&&(o.from=st(e,t)),n&&(o.to=st(e,n)),r&&(o.text=r),void 0!==i&&(o.origin=i)}),he(e,"beforeChange",e,o),e.cm&&he(e.cm,"beforeChange",e.cm,o),o.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ui(e,t,n){if(e.cm){if(!e.cm.curOp)return tr(e.cm,ui)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=li(e,t,!0))){var o=wt&&!n&&function(e,t,n){var o=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||o&&-1!=j(o,n)||(o||(o=[])).push(n)}})),!o)return null;for(var r=[{from:t,to:n}],i=0;i<o.length;++i)for(var a=o[i],s=a.find(0),c=0;c<r.length;++c){var l=r[c];if(!(tt(l.to,s.from)<0||tt(l.from,s.to)>0)){var u=[c,1],f=tt(l.from,s.from),d=tt(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&u.push({from:l.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&u.push({from:s.to,to:l.to}),r.splice.apply(r,u),c+=u.length-3}}return r}(e,t.from,t.to);if(o)for(var r=o.length-1;r>=0;--r)fi(e,{from:o[r].from,to:o[r].to,text:r?[""]:t.text,origin:t.origin});else fi(e,t)}}function fi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var n=Nr(e,t);Hr(e,t,n,e.cm?e.cm.curOp.id:NaN),hi(e,t,n,St(e,t));var o=[];Pr(e,(function(e,n){n||-1!=j(o,e.history)||(bi(e.history,t),o.push(e.history)),hi(e,t,null,St(e,t))}))}}function di(e,t,n){var o=e.cm&&e.cm.state.suppressEdits;if(!o||n){for(var r,i=e.history,a=e.sel,s="undo"==t?i.done:i.undone,c="undo"==t?i.undone:i.done,l=0;l<s.length&&(r=s[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(o)return void s.push(r);break}if($r(r,c),n&&!r.equals(e.sel))return void ei(e,r,{clearRedo:!1});a=r}var u=[];$r(a,c),c.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var f=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),d=function(n){var o=r.changes[n];if(o.origin=t,f&&!li(e,o,!1))return s.length=0,{};u.push(zr(e,o));var i=n?Nr(e,o):X(s);hi(e,o,i,qr(e,o)),!n&&e.cm&&e.cm.scrollIntoView({from:o.from,to:Mr(o)});var a=[];Pr(e,(function(e,t){t||-1!=j(a,e.history)||(bi(e.history,o),a.push(e.history)),hi(e,o,null,qr(e,o))}))},p=r.changes.length-1;p>=0;--p){var h=d(p);if(h)return h.v}}}}function pi(e,t){if(0!=t&&(e.first+=t,e.sel=new xr(J(e.sel.ranges,(function(e){return new Ir(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){fo(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,o=n.viewFrom;o<n.viewTo;o++)po(e.cm,o,"gutter")}}function hi(e,t,n,o){if(e.cm&&!e.cm.curOp)return tr(e.cm,hi)(e,t,n,o);if(t.to.line<e.first)pi(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);pi(e,r),t={from:et(e.first,0),to:et(t.to.line+r,t.to.ch),text:[X(t.text)],origin:t.origin}}var i=e.lastLine();t.to.line>i&&(t={from:t.from,to:et(i,qe(e,i).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ke(e,t.from,t.to),n||(n=Nr(e,t)),e.cm?function(e,t,n){var o=e.doc,r=e.display,i=t.from,a=t.to,s=!1,c=i.line;e.options.lineWrapping||(c=Ge(Bt(qe(o,i.line))),o.iter(c,a.line+1,(function(e){if(e==r.maxLine)return s=!0,!0}))),o.sel.contains(t.from,t.to)>-1&&ge(e),Lr(o,t,n,so(e)),e.options.lineWrapping||(o.iter(c,i.line+t.text.length,(function(e){var t=Vt(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,o=t-1;o>n;o--){var r=qe(e,o).stateAfter;if(r&&(!(r instanceof lt)||o+r.lookAhead<t)){n=o+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(o,i.line),rr(e,400);var l=t.text.length-(a.line-i.line)-1;t.full?fo(e):i.line!=a.line||1!=t.text.length||Dr(e.doc,t)?fo(e,i.line,a.line+1,l):po(e,i.line,"text");var u=ve(e,"changes"),f=ve(e,"change");if(f||u){var d={from:i,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&cn(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,o):Lr(e,t,o),ti(e,n,W),e.cantEdit&&ai(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function mi(e,t,n,o,r){var i;o||(o=n),tt(o,n)<0&&(n=(i=[o,n])[0],o=i[1]),"string"==typeof t&&(t=e.splitLines(t)),ui(e,{from:n,to:o,text:t,origin:r})}function gi(e,t,n,o){n<e.line?e.line+=o:t<e.line&&(e.line=t,e.ch=0)}function vi(e,t,n,o){for(var r=0;r<e.length;++r){var i=e[r],a=!0;if(i.ranges){i.copied||((i=e[r]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)gi(i.ranges[s].anchor,t,n,o),gi(i.ranges[s].head,t,n,o)}else{for(var c=0;c<i.changes.length;++c){var l=i.changes[c];if(n<l.from.line)l.from=et(l.from.line+o,l.from.ch),l.to=et(l.to.line+o,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function bi(e,t){var n=t.from.line,o=t.to.line,r=t.text.length-(o-n)-1;vi(e.done,n,o,r),vi(e.undone,n,o,r)}function yi(e,t,n,o){var r=t,i=t;return"number"==typeof t?i=qe(e,at(e,t)):r=Ge(t),null==r?null:(o(i,r)&&e.cm&&po(e.cm,r,n),i)}function _i(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function wi(e){this.children=e;for(var t=0,n=0,o=0;o<e.length;++o){var r=e[o];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}Ir.prototype.from=function(){return it(this.anchor,this.head)},Ir.prototype.to=function(){return rt(this.anchor,this.head)},Ir.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},_i.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,o=e+t;n<o;++n){var r=this.lines[n];this.height-=r.height,Kt(r),cn(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var o=0;o<t.length;++o)t[o].parent=this},iterN:function(e,t,n){for(var o=e+t;e<o;++e)if(n(this.lines[e]))return!0}},wi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(e<r){var i=Math.min(t,r-e),a=o.height;if(o.removeInner(e,i),this.height-=a-o.height,r==i&&(this.children.splice(n--,1),o.parent=null),0==(t-=i))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof _i))){var s=[];this.collapse(s),this.children=[new _i(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var o=0;o<this.children.length;++o){var r=this.children[o],i=r.chunkSize();if(e<=i){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var c=new _i(r.lines.slice(s,s+=25));r.height-=c.height,this.children.splice(++o,0,c),c.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new wi(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=j(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var o=new wi(e.children);o.parent=e,e.children=[o,t],e=o}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var o=0;o<this.children.length;++o){var r=this.children[o],i=r.chunkSize();if(e<i){var a=Math.min(t,i-e);if(r.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=i}}};var ki=function(e,t,n){if(n)for(var o in n)n.hasOwnProperty(o)&&(this[o]=n[o]);this.doc=e,this.node=t};function xi(e,t,n){$t(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Eo(e,n)}ki.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,o=Ge(n);if(null!=o&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var i=wn(this);Je(n,Math.max(0,n.height-i)),e&&(er(e,(function(){xi(e,n,-i),po(e,o,"widget")})),cn(e,"lineWidgetCleared",e,this,o))}},ki.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,o=this.line;this.height=null;var r=wn(this)-t;r&&(Ht(this.doc,o)||Je(o,o.height+r),n&&er(n,(function(){n.curOp.forceUpdate=!0,xi(n,o,r),cn(n,"lineWidgetChanged",n,e,Ge(o))})))},be(ki);var Ii=0,Ci=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ii};function Si(e,t,n,o,r){if(o&&o.shared)return function(e,t,n,o,r){(o=F(o)).shared=!1;var i=[Si(e,t,n,o,r)],a=i[0],s=o.widgetNode;return Pr(e,(function(e){s&&(o.widgetNode=s.cloneNode(!0)),i.push(Si(e,st(e,t),st(e,n),o,r));for(var c=0;c<e.linked.length;++c)if(e.linked[c].isParent)return;a=X(i)})),new Mi(i,a)}(e,t,n,o,r);if(e.cm&&!e.cm.curOp)return tr(e.cm,Si)(e,t,n,o,r);var i=new Ci(e,r),a=tt(t,n);if(o&&F(o,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=T("span",[i.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Ft(e,t.line,t,n,i)||t.line!=n.line&&Ft(e,n.line,t,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");kt=!0}i.addToHistory&&Hr(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,c=t.line,l=e.cm;if(e.iter(c,n.line+1,(function(e){l&&i.collapsed&&!l.options.lineWrapping&&Bt(e)==l.display.maxLine&&(s=!0),i.collapsed&&c!=t.line&&Je(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new xt(i,c==t.line?t.ch:null,c==n.line?n.ch:null)),++c})),i.collapsed&&e.iter(t.line,n.line+1,(function(t){Ht(e,t)&&Je(t,0)})),i.clearOnEnter&&fe(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(wt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),i.collapsed&&(i.id=++Ii,i.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),i.collapsed)fo(l,t.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var u=t.line;u<=n.line;u++)po(l,u,"text");i.atomic&&oi(l.doc),cn(l,"markerAdded",l,i)}return i}Ci.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ko(e),ve(this,"clear")){var n=this.find();n&&cn(this,"clear",n.from,n.to)}for(var o=null,r=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=It(a.markedSpans,this);e&&!this.collapsed?po(e,Ge(a),"text"):e&&(null!=s.to&&(r=Ge(a)),null!=s.from&&(o=Ge(a))),a.markedSpans=Ct(a.markedSpans,s),null==s.from&&this.collapsed&&!Ht(this.doc,a)&&e&&Je(a,oo(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var l=Bt(this.lines[c]),u=Vt(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=o&&e&&this.collapsed&&fo(e,o,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&oi(e.doc)),e&&cn(e,"markerCleared",e,this,o,r),t&&Xo(e),this.parent&&this.parent.clear()}},Ci.prototype.find=function(e,t){var n,o;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var i=this.lines[r],a=It(i.markedSpans,this);if(null!=a.from&&(n=et(t?i:Ge(i),a.from),-1==e))return n;if(null!=a.to&&(o=et(t?i:Ge(i),a.to),1==e))return o}return n&&{from:n,to:o}},Ci.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,o=this.doc.cm;t&&o&&er(o,(function(){var r=t.line,i=Ge(t.line),a=En(o,i);if(a&&(Bn(a),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!Ht(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var c=wn(n)-s;c&&Je(r,r.height+c)}cn(o,"markerChanged",o,e)}))},Ci.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=j(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ci.prototype.detachLine=function(e){if(this.lines.splice(j(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},be(Ci);var Mi=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Oi(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),(function(e){return e.parent}))}function Ni(e){for(var t=function(t){var n=e[t],o=[n.primary.doc];Pr(n.primary.doc,(function(e){return o.push(e)}));for(var r=0;r<n.markers.length;r++){var i=n.markers[r];-1==j(o,i.doc)&&(i.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}Mi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();cn(this,"clear")}},Mi.prototype.find=function(e,t){return this.primary.find(e,t)},be(Mi);var Ti=0,Ei=function(e,t,n,o,r){if(!(this instanceof Ei))return new Ei(e,t,n,o,r);null==n&&(n=0),wi.call(this,[new _i([new qt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=et(n,0);this.sel=Sr(i),this.history=new Br(null),this.id=++Ti,this.modeOption=t,this.lineSep=o,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Lr(this,{from:i,to:i,text:e}),ei(this,Sr(i),W)};Ei.prototype=Y(wi.prototype,{constructor:Ei,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,o=0;o<t.length;++o)n+=t[o].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Xe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:or((function(e){var t=et(this.first,0),n=this.first+this.size-1;ui(this,{from:t,to:et(n,qe(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Do(this.cm,0,0),ei(this,Sr(t),W)})),replaceRange:function(e,t,n,o){mi(this,e,t=st(this,t),n=n?st(this,n):t,o)},getRange:function(e,t,n){var o=Ke(this,st(this,e),st(this,t));return!1===n?o:o.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ze(this,e))return qe(this,e)},getLineNumber:function(e){return Ge(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=qe(this,e)),Bt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return st(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:or((function(e,t,n){Zr(this,st(this,"number"==typeof e?et(e,t||0):e),null,n)})),setSelection:or((function(e,t,n){Zr(this,st(this,e),st(this,t||e),n)})),extendSelection:or((function(e,t,n){Jr(this,st(this,e),t&&st(this,t),n)})),extendSelections:or((function(e,t){Gr(this,ct(this,e),t)})),extendSelectionsBy:or((function(e,t){Gr(this,ct(this,J(this.sel.ranges,e)),t)})),setSelections:or((function(e,t,n){if(e.length){for(var o=[],r=0;r<e.length;r++)o[r]=new Ir(st(this,e[r].anchor),st(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ei(this,Cr(this.cm,o,t),n)}})),addSelection:or((function(e,t,n){var o=this.sel.ranges.slice(0);o.push(new Ir(st(this,e),st(this,t||e))),ei(this,Cr(this.cm,o,o.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,o=0;o<n.length;o++){var r=Ke(this,n[o].from(),n[o].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,o=0;o<n.length;o++){var r=Ke(this,n[o].from(),n[o].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[o]=r}return t},replaceSelection:function(e,t,n){for(var o=[],r=0;r<this.sel.ranges.length;r++)o[r]=e;this.replaceSelections(o,t,n||"+input")},replaceSelections:or((function(e,t,n){for(var o=[],r=this.sel,i=0;i<r.ranges.length;i++){var a=r.ranges[i];o[i]={from:a.from(),to:a.to(),text:this.splitLines(e[i]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var o=[],r=et(e.first,0),i=r,a=0;a<t.length;a++){var s=t[a],c=Tr(s.from,r,i),l=Tr(Mr(s),r,i);if(r=s.to,i=l,"around"==n){var u=e.sel.ranges[a],f=tt(u.head,u.anchor)<0;o[a]=new Ir(f?l:c,f?c:l)}else o[a]=new Ir(c,c)}return new xr(o,e.sel.primIndex)}(this,o,t),c=o.length-1;c>=0;c--)ui(this,o[c]);s?Qr(this,s):this.cm&&Ao(this.cm)})),undo:or((function(){di(this,"undo")})),redo:or((function(){di(this,"redo")})),undoSelection:or((function(){di(this,"undo",!0)})),redoSelection:or((function(){di(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,o=0;o<e.done.length;o++)e.done[o].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Br(this.history.maxGeneration),Pr(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Kr(this.history.done),undone:Kr(this.history.undone)}},setHistory:function(e){var t=this.history=new Br(this.history.maxGeneration);t.done=Kr(e.done.slice(0),null,!0),t.undone=Kr(e.undone.slice(0),null,!0)},setGutterMarker:or((function(e,t,n){return yi(this,e,"gutter",(function(e){var o=e.gutterMarkers||(e.gutterMarkers={});return o[t]=n,!n&&te(o)&&(e.gutterMarkers=null),!0}))})),clearGutter:or((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&yi(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ze(this,e))return null;if(t=e,!(e=qe(this,e)))return null}else if(null==(t=Ge(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:or((function(e,t,n){return yi(this,e,"gutter"==t?"gutter":"class",(function(e){var o="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[o]){if(I(n).test(e[o]))return!1;e[o]+=" "+n}else e[o]=n;return!0}))})),removeLineClass:or((function(e,t,n){return yi(this,e,"gutter"==t?"gutter":"class",(function(e){var o="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[o];if(!r)return!1;if(null==n)e[o]=null;else{var i=r.match(I(n));if(!i)return!1;var a=i.index+i[0].length;e[o]=r.slice(0,i.index)+(i.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0}))})),addLineWidget:or((function(e,t,n){return function(e,t,n,o){var r=new ki(e,n,o),i=e.cm;return i&&r.noHScroll&&(i.display.alignWidgets=!0),yi(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,i&&!Ht(e,t)){var o=$t(t)<e.scrollTop;Je(t,t.height+wn(r)),o&&Eo(i,r.height),i.curOp.forceUpdate=!0}return!0})),i&&cn(i,"lineWidgetAdded",i,r,"number"==typeof t?t:Ge(t)),r}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Si(this,st(this,e),st(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Si(this,e=st(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=qe(this,(e=st(this,e)).line).markedSpans;if(n)for(var o=0;o<n.length;++o){var r=n[o];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=st(this,e),t=st(this,t);var o=[],r=e.line;return this.iter(e.line,t.line+1,(function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var c=a[s];null!=c.to&&r==e.line&&e.ch>=c.to||null==c.from&&r!=e.line||null!=c.from&&r==t.line&&c.from>=t.ch||n&&!n(c.marker)||o.push(c.marker.parent||c.marker)}++r})),o},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var o=0;o<n.length;++o)null!=n[o].from&&e.push(n[o].marker)})),e},posFromIndex:function(e){var t,n=this.first,o=this.lineSeparator().length;return this.iter((function(r){var i=r.text.length+o;if(i>e)return t=e,!0;e-=i,++n})),st(this,et(n,t))},indexFromPos:function(e){var t=(e=st(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Ei(Xe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var o=new Ei(Xe(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:e.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o.find(),i=e.clipPos(r.from),a=e.clipPos(r.to);if(tt(i,a)){var s=Si(e,i,a,o.primary,o.primary.type);o.markers.push(s),s.parent=o}}}(o,Oi(this)),o},unlinkDoc:function(e){if(e instanceof Ma&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ni(Oi(this));break}if(e.history==this.history){var n=[e.id];Pr(e,(function(e){return n.push(e.id)}),!0),e.history=new Br(null),e.history.done=Kr(this.history.done,n),e.history.undone=Kr(this.history.undone,n)}},iterLinkedDocs:function(e){Pr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ee(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:or((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&er(t=this.cm,(function(){Fr(t),fo(t)})))}))}),Ei.prototype.eachLine=Ei.prototype.iter;var Ai=0;function Di(e){var t=this;if(Li(t),!me(t,e)&&!kn(t.display,e)){ye(e),a&&(Ai=+new Date);var n=lo(t,e,!0),o=e.dataTransfer.files;if(n&&!t.isReadOnly())if(o&&o.length&&window.FileReader&&window.File)for(var r=o.length,i=Array(r),s=0,c=function(){++s==r&&tr(t,(function(){var e={from:n=st(t.doc,n),to:n,text:t.doc.splitLines(i.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};ui(t.doc,e),Qr(t.doc,Sr(st(t.doc,n),st(t.doc,Mr(e))))}))()},l=function(e,n){if(t.options.allowDropFileTypes&&-1==j(t.options.allowDropFileTypes,e.type))c();else{var o=new FileReader;o.onerror=function(){return c()},o.onload=function(){var e=o.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(i[n]=e),c()},o.readAsText(e)}},u=0;u<o.length;u++)l(o[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),ti(t.doc,Sr(n,n)),d)for(var p=0;p<d.length;++p)mi(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Li(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Pi(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],o=0;o<t.length;o++){var r=t[o].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ri=!1;function Fi(){var e;Ri||(fe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Pi(Bi)}),100))})),fe(window,"blur",(function(){return Pi(So)})),Ri=!0)}function Bi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var zi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ji=0;ji<10;ji++)zi[ji+48]=zi[ji+96]=String(ji);for(var Hi=65;Hi<=90;Hi++)zi[Hi]=String.fromCharCode(Hi);for(var Wi=1;Wi<=12;Wi++)zi[Wi+111]=zi[Wi+63235]="F"+Wi;var $i={};function Vi(e){var t,n,o,r,i=e.split(/-(?!$)/);e=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);o=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function Ui(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==o){delete e[n];continue}for(var r=J(n.split(" "),Vi),i=0;i<r.length;i++){var a=void 0,s=void 0;i==r.length-1?(s=r.join(" "),a=o):(s=r.slice(0,i+1).join(" "),a="...");var c=t[s];if(c){if(c!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var l in t)e[l]=t[l];return e}function qi(e,t,n,o){var r=(t=Gi(t)).call?t.call(e,o):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return qi(e,t.fallthrough,n,o);for(var i=0;i<t.fallthrough.length;i++){var a=qi(e,t.fallthrough[i],n,o);if(a)return a}}}function Ki(e){var t="string"==typeof e?e:zi[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Xi(e,t,n){var o=e;return t.altKey&&"Alt"!=o&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=o&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Cmd"!=o&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=o&&(e="Shift-"+e),e}function Ji(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=zi[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Xi(n,e,t))}function Gi(e){return"string"==typeof e?$i[e]:e}function Yi(e,t){for(var n=e.doc.sel.ranges,o=[],r=0;r<n.length;r++){for(var i=t(n[r]);o.length&&tt(i.from,X(o).to)<=0;){var a=o.pop();if(tt(a.from,i.from)<0){i.from=a.from;break}}o.push(i)}er(e,(function(){for(var t=o.length-1;t>=0;t--)mi(e.doc,"",o[t].from,o[t].to,"+delete");Ao(e)}))}function Zi(e,t,n){var o=re(e.text,t+n,n);return o<0||o>e.text.length?null:o}function Qi(e,t,n){var o=Zi(e,t.ch,n);return null==o?null:new et(t.line,o,n<0?"after":"before")}function ea(e,t,n,o,r){if(e){"rtl"==t.doc.direction&&(r=-r);var i=le(n,t.doc.direction);if(i){var a,s=r<0?X(i):i[0],c=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var l=An(t,n);a=r<0?n.text.length-1:0;var u=Dn(t,l,a).top;a=ie((function(e){return Dn(t,l,e).top==u}),r<0==(1==s.level)?s.from:s.to-1,a),"before"==c&&(a=Zi(n,a,1))}else a=r<0?s.to:s.from;return new et(o,a,c)}}return new et(o,r<0?n.text.length:0,r<0?"before":"after")}$i.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},$i.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},$i.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},$i.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},$i.default=b?$i.macDefault:$i.pcDefault;var ta={selectAll:ci,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Yi(e,(function(t){if(t.empty()){var n=qe(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Yi(e,(function(t){return{from:et(t.from().line,0),to:st(e.doc,et(t.to().line+1,0))}}))},delLineLeft:function(e){return Yi(e,(function(e){return{from:et(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Yi(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Yi(e,(function(t){var n=e.charCoords(t.head,"div").top+5,o=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:o}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return oa(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=qe(e.doc,t),o=function(e){for(var t;t=Pt(e);)e=t.find(1,!0).line;return e}(n);return o!=n&&(t=Ge(o)),ea(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),V)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),V)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,o=e.coordsChar({left:0,top:n},"div");return o.ch<e.getLine(o.line).search(/\S/)?oa(e,t.head):o}),V)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),o=e.options.tabSize,r=0;r<n.length;r++){var i=n[r].from(),a=B(e.getLine(i.line),i.ch,o);t.push(K(o-a%o))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return er(e,(function(){for(var t=e.listSelections(),n=[],o=0;o<t.length;o++)if(t[o].empty()){var r=t[o].head,i=qe(e.doc,r.line).text;if(i)if(r.ch==i.length&&(r=new et(r.line,r.ch-1)),r.ch>0)r=new et(r.line,r.ch+1),e.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),et(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var a=qe(e.doc,r.line-1).text;a&&(r=new et(r.line,1),e.replaceRange(i.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),et(r.line-1,a.length-1),r,"+transpose"))}n.push(new Ir(r,r))}e.setSelections(n)}))},newlineAndIndent:function(e){return er(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var o=0;o<t.length;o++)e.indentLine(t[o].from().line,null,!0);Ao(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function na(e,t){var n=qe(e.doc,t),o=Bt(n);return o!=n&&(t=Ge(o)),ea(!0,e,o,t,1)}function oa(e,t){var n=na(e,t.line),o=qe(e.doc,n.line),r=le(o,e.doc.direction);if(!r||0==r[0].level){var i=Math.max(n.ch,o.text.search(/\S/)),a=t.line==n.line&&t.ch<=i&&t.ch;return et(n.line,a?0:i,n.sticky)}return n}function ra(e,t,n){if("string"==typeof t&&!(t=ta[t]))return!1;e.display.input.ensurePolled();var o=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=H}finally{e.display.shift=o,e.state.suppressEdits=!1}return r}var ia=new z;function aa(e,t,n,o){var r=e.state.keySeq;if(r){if(Ki(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())})),sa(e,r+" "+t,n,o))return!0}return sa(e,t,n,o)}function sa(e,t,n,o){var r=function(e,t,n){for(var o=0;o<e.state.keyMaps.length;o++){var r=qi(t,e.state.keyMaps[o],n,e);if(r)return r}return e.options.extraKeys&&qi(t,e.options.extraKeys,n,e)||qi(t,e.options.keyMap,n,e)}(e,t,o);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&cn(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(ye(n),ko(e)),!!r}function ca(e,t){var n=Ji(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?aa(e,"Shift-"+n,t,(function(t){return ra(e,t,!0)}))||aa(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ra(e,t)})):aa(e,n,t,(function(t){return ra(e,t)})))}var la=null;function ua(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=A(),me(t,e)))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var o=e.keyCode;t.display.shift=16==o||e.shiftKey;var r=ca(t,e);f&&(la=r?o:null,r||88!=o||De||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!b&&!r&&46==o&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=o||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(S(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n))}D(t,"CodeMirror-crosshair"),fe(document,"keyup",n),fe(document,"mouseover",n)}(t)}}function fa(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e)}function da(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||kn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var n=e.keyCode,o=e.charCode;if(f&&n==la)return la=null,void ye(e);if(!f||e.which&&!(e.which<10)||!ca(t,e)){var r=String.fromCharCode(null==o?n:o);"\b"!=r&&(function(e,t,n){return aa(e,"'"+n+"'",t,(function(t){return ra(e,t,!0)}))}(t,e,r)||t.display.input.onKeyPress(e))}}}var pa,ha,ma=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ga(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,kn(n,e))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!ya(t,e)){var o=lo(t,e),r=Ie(e),i=o?function(e,t){var n=+new Date;return ha&&ha.compare(n,e,t)?(pa=ha=null,"triple"):pa&&pa.compare(n,e,t)?(ha=new ma(n,e,t),pa=null,"double"):(pa=new ma(n,e,t),ha=null,"single")}(o,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),o&&function(e,t,n,o,r){var i="Click";return"double"==o?i="Double"+i:"triple"==o&&(i="Triple"+i),aa(e,Xi(i=(1==t?"Left":2==t?"Middle":"Right")+i,r),r,(function(t){if("string"==typeof t&&(t=ta[t]),!t)return!1;var o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),o=t(e,n)!=H}finally{e.state.suppressEdits=!1}return o}))}(t,r,o,i,e)||(1==r?o?function(e,t,n,o){a?setTimeout(R(xo,e),0):e.curOp.focus=A();var r,i=function(e,t,n){var o=e.getOption("configureMouse"),r=o?o(e,t,n):{};if(null==r.unit){var i=y?n.shiftKey&&n.metaKey:n.altKey;r.unit=i?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=b?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(b?n.altKey:n.ctrlKey)),r}(e,n,o),l=e.doc.sel;e.options.dragDrop&&Me&&!e.isReadOnly()&&"single"==n&&(r=l.contains(t))>-1&&(tt((r=l.ranges[r]).from(),t)<0||t.xRel>0)&&(tt(r.to(),t)>0||t.xRel<0)?function(e,t,n,o){var r=e.display,i=!1,l=tr(e,(function(t){c&&(r.scroller.draggable=!1),e.state.draggingText=!1,pe(r.wrapper.ownerDocument,"mouseup",l),pe(r.wrapper.ownerDocument,"mousemove",u),pe(r.scroller,"dragstart",f),pe(r.scroller,"drop",l),i||(ye(t),o.addNew||Jr(e.doc,n,null,null,o.extend),c&&!d||a&&9==s?setTimeout((function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()}),20):r.input.focus())})),u=function(e){i=i||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return i=!0};c&&(r.scroller.draggable=!0),e.state.draggingText=l,l.copy=!o.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),fe(r.wrapper.ownerDocument,"mouseup",l),fe(r.wrapper.ownerDocument,"mousemove",u),fe(r.scroller,"dragstart",f),fe(r.scroller,"drop",l),Io(e),setTimeout((function(){return r.input.focus()}),20)}(e,o,t,i):function(e,t,n,o){var r=e.display,i=e.doc;ye(t);var a,s,c=i.sel,l=c.ranges;if(o.addNew&&!o.extend?(s=i.sel.contains(n),a=s>-1?l[s]:new Ir(n,n)):(a=i.sel.primary(),s=i.sel.primIndex),"rectangle"==o.unit)o.addNew||(a=new Ir(n,n)),n=lo(e,t,!0,!0),s=-1;else{var u=va(e,n,o.unit);a=o.extend?Xr(a,u.anchor,u.head,o.extend):u}o.addNew?-1==s?(s=l.length,ei(i,Cr(e,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==o.unit&&!o.extend?(ei(i,Cr(e,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),c=i.sel):Yr(i,s,a,$):(s=0,ei(i,new xr([a],0),$),c=i.sel);var f=n;function d(t){if(0!=tt(f,t))if(f=t,"rectangle"==o.unit){for(var r=[],l=e.options.tabSize,u=B(qe(i,n.line).text,n.ch,l),d=B(qe(i,t.line).text,t.ch,l),p=Math.min(u,d),h=Math.max(u,d),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=qe(i,m).text,b=U(v,p,l);p==h?r.push(new Ir(et(m,b),et(m,b))):v.length>b&&r.push(new Ir(et(m,b),et(m,U(v,h,l))))}r.length||r.push(new Ir(n,n)),ei(i,Cr(e,c.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,_=a,w=va(e,t,o.unit),k=_.anchor;tt(w.anchor,k)>0?(y=w.head,k=it(_.from(),w.anchor)):(y=w.anchor,k=rt(_.to(),w.head));var x=c.ranges.slice(0);x[s]=function(e,t){var n=t.anchor,o=t.head,r=qe(e.doc,n.line);if(0==tt(n,o)&&n.sticky==o.sticky)return t;var i=le(r);if(!i)return t;var a=se(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var c,l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==i.length)return t;if(o.line!=n.line)c=(o.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=se(i,o.ch,o.sticky),f=u-a||(o.ch-n.ch)*(1==s.level?-1:1);c=u==l-1||u==l?f<0:f>0}var d=i[l+(c?-1:0)],p=c==(1==d.level),h=p?d.from:d.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new Ir(new et(n.line,h,m),o)}(e,new Ir(st(i,k),y)),ei(i,Cr(e,x,s),$)}}var p=r.wrapper.getBoundingClientRect(),h=0;function m(t){e.state.selectingText=!1,h=1/0,t&&(ye(t),r.input.focus()),pe(r.wrapper.ownerDocument,"mousemove",g),pe(r.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var g=tr(e,(function(t){0!==t.buttons&&Ie(t)?function t(n){var a=++h,s=lo(e,n,!0,"rectangle"==o.unit);if(s)if(0!=tt(s,f)){e.curOp.focus=A(),d(s);var c=No(r,i);(s.line>=c.to||s.line<c.from)&&setTimeout(tr(e,(function(){h==a&&t(n)})),150)}else{var l=n.clientY<p.top?-20:n.clientY>p.bottom?20:0;l&&setTimeout(tr(e,(function(){h==a&&(r.scroller.scrollTop+=l,t(n))})),50)}}(t):m(t)})),v=tr(e,m);e.state.selectingText=v,fe(r.wrapper.ownerDocument,"mousemove",g),fe(r.wrapper.ownerDocument,"mouseup",v)}(e,o,t,i)}(t,o,i,e):xe(e)==n.scroller&&ye(e):2==r?(o&&Jr(t.doc,o),setTimeout((function(){return n.input.focus()}),20)):3==r&&(x?t.display.input.onContextMenu(e):Io(t)))}}function va(e,t,n){if("char"==n)return new Ir(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new Ir(et(t.line,0),st(e.doc,et(t.line+1,0)));var o=n(e,t);return new Ir(o.from,o.to)}function ba(e,t,n,o){var r,i;if(t.touches)r=t.touches[0].clientX,i=t.touches[0].clientY;else try{r=t.clientX,i=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;o&&ye(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!ve(e,n))return we(t);i-=s.top-a.viewOffset;for(var c=0;c<e.display.gutterSpecs.length;++c){var l=a.gutters.childNodes[c];if(l&&l.getBoundingClientRect().right>=r)return he(e,n,e,Ye(e.doc,i),e.display.gutterSpecs[c].className,t),we(t)}}function ya(e,t){return ba(e,t,"gutterClick",!0)}function _a(e,t){kn(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&ba(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||x||e.display.input.onContextMenu(t)}function wa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jn(e)}ma.prototype.compare=function(e,t,n){return this.time+400>e&&0==tt(t,this.pos)&&n==this.button};var ka={toString:function(){return"CodeMirror.Init"}},xa={},Ia={};function Ca(e,t,n){if(!t!=!(n&&n!=ka)){var o=e.display.dragFunctions,r=t?fe:pe;r(e.display.scroller,"dragstart",o.start),r(e.display.scroller,"dragenter",o.enter),r(e.display.scroller,"dragover",o.over),r(e.display.scroller,"dragleave",o.leave),r(e.display.scroller,"drop",o.drop)}}function Sa(e){e.options.lineWrapping?(D(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(S(e.display.wrapper,"CodeMirror-wrap"),Ut(e)),co(e),fo(e),jn(e),setTimeout((function(){return Wo(e)}),100)}function Ma(e,t){var n=this;if(!(this instanceof Ma))return new Ma(e,t);this.options=t=t?F(t):{},F(xa,t,!1);var o=t.value;"string"==typeof o?o=new Ei(o,t.mode,null,t.lineSeparator,t.direction):t.mode&&(o.modeOption=t.mode),this.doc=o;var r=new Ma.inputStyles[t.inputStyle](this),i=this.display=new vr(e,o,r,t);for(var l in i.wrapper.CodeMirror=this,wa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Uo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!v&&i.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;fe(t.scroller,"mousedown",tr(e,ga)),fe(t.scroller,"dblclick",a&&s<11?tr(e,(function(t){if(!me(e,t)){var n=lo(e,t);if(n&&!ya(e,t)&&!kn(e.display,t)){ye(t);var o=e.findWordAt(n);Jr(e.doc,o.anchor,o.head)}}})):function(t){return me(e,t)||ye(t)}),fe(t.scroller,"contextmenu",(function(t){return _a(e,t)})),fe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||_a(e,n)}));var n,o={end:0};function r(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(o=t.activeTouch).end=+new Date)}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,o=t.top-e.top;return n*n+o*o>400}fe(t.scroller,"touchstart",(function(r){if(!me(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!ya(e,r)){t.input.ensurePolled(),clearTimeout(n);var i=+new Date;t.activeTouch={start:i,moved:!1,prev:i-o.end<=300?o:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}})),fe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),fe(t.scroller,"touchend",(function(n){var o=t.activeTouch;if(o&&!kn(t,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!o.prev||i(o,o.prev)?new Ir(s,s):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(s):new Ir(et(s.line,0),st(e.doc,et(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ye(n)}r()})),fe(t.scroller,"touchcancel",r),fe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Ro(e,t.scroller.scrollTop),Bo(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),fe(t.scroller,"mousewheel",(function(t){return kr(e,t)})),fe(t.scroller,"DOMMouseScroll",(function(t){return kr(e,t)})),fe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||ke(t)},over:function(t){me(e,t)||(function(e,t){var n=lo(e,t);if(n){var o=document.createDocumentFragment();yo(e,n,o),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),O(e.display.dragCursor,o)}}(e,t),ke(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Ai<100))ke(t);else if(!me(e,t)&&!kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=N("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(e,t)},drop:tr(e,Di),leave:function(t){me(e,t)||Li(e)}};var c=t.input.getField();fe(c,"keyup",(function(t){return fa.call(e,t)})),fe(c,"keydown",tr(e,ua)),fe(c,"keypress",tr(e,da)),fe(c,"focus",(function(t){return Co(e,t)})),fe(c,"blur",(function(t){return So(e,t)}))}(this),Fi(),Ko(this),this.curOp.forceUpdate=!0,Rr(this,o),t.autofocus&&!v||this.hasFocus()?setTimeout(R(Co,this),20):So(this),Ia)Ia.hasOwnProperty(l)&&Ia[l](this,t[l],ka);pr(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Oa.length;++u)Oa[u](this);Xo(this),c&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}Ma.defaults=xa,Ma.optionHandlers=Ia;var Oa=[];function Na(e,t,n,o){var r,i=e.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?r=pt(e,t).state:n="prev");var a=e.options.tabSize,s=qe(i,t),c=B(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,u=s.text.match(/^\s*/)[0];if(o||/\S/.test(s.text)){if("smart"==n&&((l=i.mode.indent(r,s.text.slice(u.length),s.text))==H||l>150)){if(!o)return;n="prev"}}else l=0,n="not";"prev"==n?l=t>i.first?B(qe(i,t-1).text,null,a):0:"add"==n?l=c+e.options.indentUnit:"subtract"==n?l=c-e.options.indentUnit:"number"==typeof n&&(l=c+n),l=Math.max(0,l);var f="",d=0;if(e.options.indentWithTabs)for(var p=Math.floor(l/a);p;--p)d+=a,f+="\t";if(d<l&&(f+=K(l-d)),f!=u)return mi(i,f,et(t,0),et(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<i.sel.ranges.length;h++){var m=i.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var g=et(t,u.length);Yr(i,h,new Ir(g,g));break}}}Ma.defineInitHook=function(e){return Oa.push(e)};var Ta=null;function Ea(e){Ta=e}function Aa(e,t,n,o,r){var i=e.doc;e.display.shift=!1,o||(o=i.sel);var a=+new Date-200,s="paste"==r||e.state.pasteIncoming>a,c=Ee(t),l=null;if(s&&o.ranges.length>1)if(Ta&&Ta.text.join("\n")==t){if(o.ranges.length%Ta.text.length==0){l=[];for(var u=0;u<Ta.text.length;u++)l.push(i.splitLines(Ta.text[u]))}}else c.length==o.ranges.length&&e.options.pasteLinesPerSelection&&(l=J(c,(function(e){return[e]})));for(var f=e.curOp.updateInput,d=o.ranges.length-1;d>=0;d--){var p=o.ranges[d],h=p.from(),m=p.to();p.empty()&&(n&&n>0?h=et(h.line,h.ch-n):e.state.overwrite&&!s?m=et(m.line,Math.min(qe(i,m.line).text.length,m.ch+X(c).length)):s&&Ta&&Ta.lineWise&&Ta.text.join("\n")==t&&(h=m=et(h.line,0)));var g={from:h,to:m,text:l?l[d%l.length]:c,origin:r||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};ui(e.doc,g),cn(e,"inputRead",e,g)}t&&!s&&La(e,t),Ao(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Da(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||er(t,(function(){return Aa(t,n,0,null,"paste")})),!0}function La(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,o=n.ranges.length-1;o>=0;o--){var r=n.ranges[o];if(!(r.head.ch>100||o&&n.ranges[o-1].head.line==r.head.line)){var i=e.getModeAt(r.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(t.indexOf(i.electricChars.charAt(s))>-1){a=Na(e,r.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(qe(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Na(e,r.head.line,"smart"));a&&cn(e,"electricInput",e,r.head.line)}}}function Pa(e){for(var t=[],n=[],o=0;o<e.doc.sel.ranges.length;o++){var r=e.doc.sel.ranges[o].head.line,i={anchor:et(r,0),head:et(r+1,0)};n.push(i),t.push(e.getRange(i.anchor,i.head))}return{text:t,ranges:n}}function Ra(e,t,n,o){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",o?"":"off"),e.setAttribute("spellcheck",!!t)}function Fa(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ra(e),t}function Ba(e,t,n,o,r){var i=t,a=n,s=qe(e,t.line),c=r&&"rtl"==e.direction?-n:n;function l(o){var i,a;if(null==(i=r?function(e,t,n,o){var r=le(t,e.doc.direction);if(!r)return Qi(t,n,o);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=se(r,n.ch,n.sticky),a=r[i];if("ltr"==e.doc.direction&&a.level%2==0&&(o>0?a.to>n.ch:a.from<n.ch))return Qi(t,n,o);var s,c=function(e,n){return Zi(t,e instanceof et?e.ch:e,n)},l=function(n){return e.options.lineWrapping?(s=s||An(e,t),Zn(e,t,s,n)):{begin:0,end:t.text.length}},u=l("before"==n.sticky?c(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var f=1==a.level==o<0,d=c(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=u.end:d>=a.from&&d>=u.begin)){var p=f?"before":"after";return new et(n.line,d,p)}}var h=function(e,t,o){for(var i=function(e,t){return t?new et(n.line,c(e,1),"before"):new et(n.line,e,"after")};e>=0&&e<r.length;e+=t){var a=r[e],s=t>0==(1!=a.level),l=s?o.begin:c(o.end,-1);if(a.from<=l&&l<a.to)return i(l,s);if(l=s?a.from:c(a.to,-1),o.begin<=l&&l<o.end)return i(l,s)}},m=h(i+o,o,u);if(m)return m;var g=o>0?u.end:c(u.begin,-1);return null==g||o>0&&g==t.text.length||!(m=h(o>0?0:r.length-1,o,l(g)))?null:m}(e.cm,s,t,n):Qi(s,t,n))){if(o||(a=t.line+c)<e.first||a>=e.first+e.size||(t=new et(a,t.ch,t.sticky),!(s=qe(e,a))))return!1;t=ea(r,e.cm,s,t.line,c)}else t=i;return!0}if("char"==o)l();else if("column"==o)l(!0);else if("word"==o||"group"==o)for(var u=null,f="group"==o,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||l(!p);p=!1){var h=s.text.charAt(t.ch)||"\n",m=ee(h,d)?"w":f&&"\n"==h?"n":!f||/\s/.test(h)?null:"p";if(!f||p||m||(m="s"),u&&u!=m){n<0&&(n=1,l(),t.sticky="after");break}if(m&&(u=m),n>0&&!l(!p))break}var g=ai(e,t,i,a,!0);return nt(i,g)&&(g.hitSide=!0),g}function za(e,t,n,o){var r,i,a=e.doc,s=t.left;if("page"==o){var c=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(c-.5*oo(e.display),3);r=(n>0?t.bottom:t.top)+n*l}else"line"==o&&(r=n>0?t.bottom+3:t.top-3);for(;(i=Gn(e,s,r)).outside;){if(n<0?r<=0:r>=a.height){i.hitSide=!0;break}r+=5*n}return i}var ja=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ha(e,t){var n=En(e,t.line);if(!n||n.hidden)return null;var o=qe(e.doc,t.line),r=Nn(n,o,t.line),i=le(o,e.doc.direction),a="left";i&&(a=se(i,t.ch)%2?"right":"left");var s=Rn(r.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Wa(e,t){return t&&(e.bad=!0),e}function $a(e,t,n){var o;if(t==e.display.lineDiv){if(!(o=e.display.lineDiv.childNodes[n]))return Wa(e.clipPos(et(e.display.viewTo-1)),!0);t=null,n=0}else for(o=t;;o=o.parentNode){if(!o||o==e.display.lineDiv)return null;if(o.parentNode&&o.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var i=e.display.view[r];if(i.node==o)return Va(i,t,n)}}function Va(e,t,n){var o=e.text.firstChild,r=!1;if(!t||!E(o,t))return Wa(et(Ge(e.line),0),!0);if(t==o&&(r=!0,t=o.childNodes[n],n=0,!t)){var i=e.rest?X(e.rest):e.line;return Wa(et(Ge(i),i.text.length),r)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=o;)s=s.parentNode;var c=e.measure,l=c.maps;function u(t,n,o){for(var r=-1;r<(l?l.length:0);r++)for(var i=r<0?c.map:l[r],a=0;a<i.length;a+=3){var s=i[a+2];if(s==t||s==n){var u=Ge(r<0?e.line:e.rest[r]),f=i[a]+o;return(o<0||s!=t)&&(f=i[a+(o?1:0)]),et(u,f)}}}var f=u(a,s,n);if(f)return Wa(f,r);for(var d=s.nextSibling,p=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=u(d,d.firstChild,0))return Wa(et(f.line,f.ch-p),r);p+=d.textContent.length}for(var h=s.previousSibling,m=n;h;h=h.previousSibling){if(f=u(h,h.firstChild,-1))return Wa(et(f.line,f.ch+m),r);m+=h.textContent.length}}ja.prototype.init=function(e){var t=this,n=this,o=n.cm,r=n.div=e.lineDiv;function i(e){for(var t=e.target;t;t=t.parentNode){if(t==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(i(e)&&!me(o,e)){if(o.somethingSelected())Ea({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var t=Pa(o);Ea({lineWise:!0,text:t.text}),"cut"==e.type&&o.operation((function(){o.setSelections(t.ranges,0,W),o.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Ta.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Fa(),c=s.firstChild;o.display.lineSpace.insertBefore(s,o.display.lineSpace.firstChild),c.value=Ta.text.join("\n");var l=document.activeElement;P(c),setTimeout((function(){o.display.lineSpace.removeChild(s),l.focus(),l==r&&n.showPrimarySelection()}),50)}}Ra(r,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),fe(r,"paste",(function(e){!i(e)||me(o,e)||Da(e,o)||s<=11&&setTimeout(tr(o,(function(){return t.updateFromDOM()})),20)})),fe(r,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),fe(r,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),fe(r,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),fe(r,"touchstart",(function(){return n.forceCompositionEnd()})),fe(r,"input",(function(){t.composing||t.readFromDOMSoon()})),fe(r,"copy",a),fe(r,"cut",a)},ja.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},ja.prototype.prepareSelection=function(){var e=bo(this.cm,!1);return e.focus=document.activeElement==this.div,e},ja.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},ja.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ja.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,o=t.doc.sel.primary(),r=o.from(),i=o.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var a=$a(t,e.anchorNode,e.anchorOffset),s=$a(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=tt(it(a,s),r)||0!=tt(rt(a,s),i)){var c=t.display.view,l=r.line>=t.display.viewFrom&&Ha(t,r)||{node:c[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&Ha(t,i);if(!u){var f=c[c.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(l&&u){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=C(l.node,l.offset,u.offset,u.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(l.node,l.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},ja.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},ja.prototype.showMultipleSelections=function(e){O(this.cm.display.cursorDiv,e.cursors),O(this.cm.display.selectionDiv,e.selection)},ja.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},ja.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},ja.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ja.prototype.blur=function(){this.div.blur()},ja.prototype.getField=function(){return this.div},ja.prototype.supportsTouch=function(){return!0},ja.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():er(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},ja.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},ja.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=$a(t,e.anchorNode,e.anchorOffset),o=$a(t,e.focusNode,e.focusOffset);n&&o&&er(t,(function(){ei(t.doc,Sr(n,o),W),(n.bad||o.bad)&&(t.curOp.selectionChanged=!0)}))}}},ja.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,o=this.cm,r=o.display,i=o.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>o.firstLine()&&(a=et(a.line-1,qe(o.doc,a.line-1).length)),s.ch==qe(o.doc,s.line).text.length&&s.line<o.lastLine()&&(s=et(s.line+1,0)),a.line<r.viewFrom||s.line>r.viewTo-1)return!1;a.line==r.viewFrom||0==(e=uo(o,a.line))?(t=Ge(r.view[0].line),n=r.view[0].node):(t=Ge(r.view[e].line),n=r.view[e-1].node.nextSibling);var c,l,u=uo(o,s.line);if(u==r.view.length-1?(c=r.viewTo-1,l=r.lineDiv.lastChild):(c=Ge(r.view[u+1].line)-1,l=r.view[u+1].node.previousSibling),!n)return!1;for(var f=o.doc.splitLines(function(e,t,n,o,r){var i="",a=!1,s=e.doc.lineSeparator(),c=!1;function l(){a&&(i+=s,c&&(i+=s),a=c=!1)}function u(e){e&&(l(),i+=e)}function f(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var i,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(et(o,0),et(r+1,0),(g=+d,function(e){return e.id==g}));return void(p.length&&(i=p[0].find(0))&&u(Ke(e.doc,i.from,i.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&l();for(var m=0;m<t.childNodes.length;m++)f(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(c=!0),h&&(a=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(t),t!=n;)t=t.nextSibling,c=!1;return i}(o,n,l,t,c)),d=Ke(o.doc,et(t,0),et(c,qe(o.doc,c).text.length));f.length>1&&d.length>1;)if(X(f)==X(d))f.pop(),d.pop(),c--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),t++}for(var p=0,h=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=X(f),y=X(d),_=Math.min(b.length-(1==f.length?p:0),y.length-(1==d.length?p:0));h<_&&b.charCodeAt(b.length-h-1)==y.charCodeAt(y.length-h-1);)++h;if(1==f.length&&1==d.length&&t==a.line)for(;p&&p>a.ch&&b.charCodeAt(b.length-h-1)==y.charCodeAt(y.length-h-1);)p--,h++;f[f.length-1]=b.slice(0,b.length-h).replace(/^\u200b+/,""),f[0]=f[0].slice(p).replace(/\u200b+$/,"");var w=et(t,p),k=et(c,d.length?X(d).length-h:0);return f.length>1||f[0]||tt(w,k)?(mi(o.doc,f,w,k,"+input"),!0):void 0},ja.prototype.ensurePolled=function(){this.forceCompositionEnd()},ja.prototype.reset=function(){this.forceCompositionEnd()},ja.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ja.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},ja.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||er(this.cm,(function(){return fo(e.cm)}))},ja.prototype.setUneditable=function(e){e.contentEditable="false"},ja.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||tr(this.cm,Aa)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ja.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},ja.prototype.onContextMenu=function(){},ja.prototype.resetPosition=function(){},ja.prototype.needsContentAttribute=!0;var Ua=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};Ua.prototype.init=function(e){var t=this,n=this,o=this.cm;this.createField(e);var r=this.textarea;function i(e){if(!me(o,e)){if(o.somethingSelected())Ea({lineWise:!1,text:o.getSelections()});else{if(!o.options.lineWiseCopyCut)return;var t=Pa(o);Ea({lineWise:!0,text:t.text}),"cut"==e.type?o.setSelections(t.ranges,null,W):(n.prevInput="",r.value=t.text.join("\n"),P(r))}"cut"==e.type&&(o.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),fe(r,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),fe(r,"paste",(function(e){me(o,e)||Da(e,o)||(o.state.pasteIncoming=+new Date,n.fastPoll())})),fe(r,"cut",i),fe(r,"copy",i),fe(e.scroller,"paste",(function(t){if(!kn(e,t)&&!me(o,t)){if(!r.dispatchEvent)return o.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=t.clipboardData,r.dispatchEvent(i)}})),fe(e.lineSpace,"selectstart",(function(t){kn(e,t)||ye(t)})),fe(r,"compositionstart",(function(){var e=o.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:o.markText(e,o.getCursor("to"),{className:"CodeMirror-composing"})}})),fe(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Ua.prototype.createField=function(e){this.wrapper=Fa(),this.textarea=this.wrapper.firstChild},Ua.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Ua.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,o=bo(e);if(e.options.moveInputWithCursor){var r=Kn(e,n.sel.primary().head,"div"),i=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-i.top)),o.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-i.left))}return o},Ua.prototype.showSelection=function(e){var t=this.cm.display;O(t.cursorDiv,e.cursors),O(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Ua.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Ua.prototype.getField=function(){return this.textarea},Ua.prototype.supportsTouch=function(){return!1},Ua.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||A()!=this.textarea))try{this.textarea.focus()}catch(e){}},Ua.prototype.blur=function(){this.textarea.blur()},Ua.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Ua.prototype.receivedFocus=function(){this.slowPoll()},Ua.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Ua.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Ua.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,o=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ae(n)&&!o&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==o&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||o||(o=""),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var c=0,l=Math.min(o.length,r.length);c<l&&o.charCodeAt(c)==r.charCodeAt(c);)++c;return er(t,(function(){Aa(t,r.slice(c),o.length-c,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Ua.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Ua.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Ua.prototype.onContextMenu=function(e){var t=this,n=t.cm,o=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var i=lo(n,e),l=o.scroller.scrollTop;if(i&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&tr(n,ei)(n.doc,Sr(i),W);var u,d=r.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(u=window.scrollY),o.input.focus(),c&&window.scrollTo(null,u),o.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=v,o.selForContextMenu=n.doc.sel,clearTimeout(o.detectingSelectAll),a&&s>=9&&g(),x){ke(e);var m=function(){pe(window,"mouseup",m),setTimeout(v,20)};fe(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),i=""+(e?r.value:"");r.value="",r.value=i,t.prevInput=e?"":"",r.selectionStart=1,r.selectionEnd=i.length,o.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,r.style.cssText=d,a&&s<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=r.selectionStart)){(!a||a&&s<9)&&g();var e=0,i=function(){o.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&""==t.prevInput?tr(n,ci)(n):e++<10?o.detectingSelectAll=setTimeout(i,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(i,200)}}},Ua.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Ua.prototype.setUneditable=function(){},Ua.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,o,r,i){e.defaults[n]=o,r&&(t[n]=i?function(e,t,n){n!=ka&&r(e,t,n)}:r)}e.defineOption=n,e.Init=ka,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Er(e)}),!0),n("indentUnit",2,Er,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ar(e),jn(e),fo(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],o=e.doc.first;e.doc.iter((function(e){for(var r=0;;){var i=e.text.indexOf(t,r);if(-1==i)break;r=i+t.length,n.push(et(o,i))}o++}));for(var r=n.length-1;r>=0;r--)mi(e.doc,t,n[r],et(n[r].line,n[r].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ka&&e.refresh()})),n("specialCharPlaceholder",Zt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){wa(e),gr(e)}),!0),n("keyMap","default",(function(e,t,n){var o=Gi(t),r=n!=ka&&Gi(n);r&&r.detach&&r.detach(e,o),o.attach&&o.attach(e,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Sa,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=hr(t,e.options.lineNumbers),gr(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?ao(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Wo(e)}),!0),n("scrollbarStyle","native",(function(e){Uo(e),Wo(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=hr(e.options.gutters,t),gr(e)}),!0),n("firstLineNumber",1,gr,!0),n("lineNumberFormatter",(function(e){return e}),gr,!0),n("showCursorWhenSelecting",!1,vo,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(So(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Ca),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,vo,!0),n("singleCursorHeightPerLine",!0,vo,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ar,!0),n("addModeClass",!1,Ar,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ar,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Ma),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var o=this.options,r=o[e];o[e]==n&&"mode"!=e||(o[e]=n,t.hasOwnProperty(e)&&tr(this,t[e])(this,n,r),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Gi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:nr((function(t,n){var o=t.token?t:e.getMode(this.options,t);if(o.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var o=0,r=n(t);o<e.length&&n(e[o])<=r;)o++;e.splice(o,0,t)}(this.state.overlays,{mode:o,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,fo(this)})),removeOverlay:nr((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var o=t[n].modeSpec;if(o==e||"string"==typeof e&&o.name==e)return t.splice(n,1),this.state.modeGen++,void fo(this)}})),indentLine:nr((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ze(this.doc,e)&&Na(this,e,t,n)})),indentSelection:nr((function(e){for(var t=this.doc.sel.ranges,n=-1,o=0;o<t.length;o++){var r=t[o];if(r.empty())r.head.line>n&&(Na(this,r.head.line,e,!0),n=r.head.line,o==this.doc.sel.primIndex&&Ao(this));else{var i=r.from(),a=r.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var c=s;c<n;++c)Na(this,c,e);var l=this.doc.sel.ranges;0==i.ch&&t.length==l.length&&l[o].from().ch>0&&Yr(this.doc,o,new Ir(i,l[o].to()),W)}}})),getTokenAt:function(e,t){return bt(this,e,t)},getLineTokens:function(e,t){return bt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=st(this.doc,e);var t,n=dt(this,qe(this.doc,e.line)),o=0,r=(n.length-1)/2,i=e.ch;if(0==i)t=n[2];else for(;;){var a=o+r>>1;if((a?n[2*a-1]:0)>=i)r=a;else{if(!(n[2*a+1]<i)){t=n[2*a+2];break}o=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var o=[];if(!n.hasOwnProperty(t))return o;var r=n[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&o.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var s=r[i[t][a]];s&&o.push(s)}else i.helperType&&r[i.helperType]?o.push(r[i.helperType]):r[i.name]&&o.push(r[i.name]);for(var c=0;c<r._global.length;c++){var l=r._global[c];l.pred(i,this)&&-1==j(o,l.val)&&o.push(l.val)}return o},getStateAfter:function(e,t){var n=this.doc;return pt(this,(e=at(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Kn(this,null==e?n.head:"object"==typeof e?st(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return qn(this,st(this.doc,e),t||"page")},coordsChar:function(e,t){return Gn(this,(e=Un(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Un(this,{top:e,left:0},t||"page").top,Ye(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var o,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),o=qe(this.doc,e)}else o=e;return Vn(this,o,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-$t(o):0)},defaultTextHeight:function(){return oo(this.display)},defaultCharWidth:function(){return ro(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,o,r){var i,a,s,c=this.display,l=(e=Kn(this,st(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),c.sizer.appendChild(t),"over"==o)l=e.top;else if("above"==o||"near"==o){var f=Math.max(c.wrapper.clientHeight,this.doc.height),d=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);("above"==o||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(l=e.bottom),u+t.offsetWidth>d&&(u=d-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==r?(u=c.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(c.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(i=this,a={left:u,top:l,right:u+t.offsetWidth,bottom:l+t.offsetHeight},null!=(s=To(i,a)).scrollTop&&Ro(i,s.scrollTop),null!=s.scrollLeft&&Bo(i,s.scrollLeft))},triggerOnKeyDown:nr(ua),triggerOnKeyPress:nr(da),triggerOnKeyUp:fa,triggerOnMouseDown:nr(ga),execCommand:function(e){if(ta.hasOwnProperty(e))return ta[e].call(null,this)},triggerElectric:nr((function(e){La(this,e)})),findPosH:function(e,t,n,o){var r=1;t<0&&(r=-1,t=-t);for(var i=st(this.doc,e),a=0;a<t&&!(i=Ba(this.doc,i,r,n,o)).hitSide;++a);return i},moveH:nr((function(e,t){var n=this;this.extendSelectionsBy((function(o){return n.display.shift||n.doc.extend||o.empty()?Ba(n.doc,o.head,e,t,n.options.rtlMoveVisually):e<0?o.from():o.to()}),V)})),deleteH:nr((function(e,t){var n=this.doc.sel,o=this.doc;n.somethingSelected()?o.replaceSelection("",null,"+delete"):Yi(this,(function(n){var r=Ba(o,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(e,t,n,o){var r=1,i=o;t<0&&(r=-1,t=-t);for(var a=st(this.doc,e),s=0;s<t;++s){var c=Kn(this,a,"div");if(null==i?i=c.left:c.left=i,(a=za(this,c,r,n)).hitSide)break}return a},moveV:nr((function(e,t){var n=this,o=this.doc,r=[],i=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy((function(a){if(i)return e<0?a.from():a.to();var s=Kn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var c=za(n,s,e,t);return"page"==t&&a==o.sel.primary()&&Eo(n,qn(n,c,"div").top-s.top),c}),V),r.length)for(var a=0;a<o.sel.ranges.length;a++)o.sel.ranges[a].goalColumn=r[a]})),findWordAt:function(e){var t=qe(this.doc,e.line).text,n=e.ch,o=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=t.length||!n?++o:--n;for(var i=t.charAt(n),a=ee(i,r)?function(e){return ee(e,r)}:/\s/.test(i)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&a(t.charAt(n-1));)--n;for(;o<t.length&&a(t.charAt(o));)++o}return new Ir(et(e.line,n),et(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):S(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==A()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:nr((function(e,t){Do(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Sn(this)-this.display.barHeight,width:e.scrollWidth-Sn(this)-this.display.barWidth,clientHeight:On(this),clientWidth:Mn(this)}},scrollIntoView:nr((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Lo(e),e.curOp.scrollToPos=t}(this,e):Po(this,e.from,e.to,e.margin)})),setSize:nr((function(e,t){var n=this,o=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=o(e)),null!=t&&(this.display.wrapper.style.height=o(t)),this.options.lineWrapping&&zn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){po(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return er(this,e)},startOperation:function(){return Ko(this)},endOperation:function(){return Xo(this)},refresh:nr((function(){var e=this.display.cachedTextHeight;fo(this),this.curOp.forceUpdate=!0,jn(this),Do(this,this.doc.scrollLeft,this.doc.scrollTop),ur(this.display),(null==e||Math.abs(e-oo(this.display))>.5||this.options.lineWrapping)&&co(this),he(this,"refresh",this)})),swapDoc:nr((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Rr(this,e),jn(this),this.display.input.reset(),Do(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,cn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},be(e),e.registerHelper=function(t,o,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][o]=r},e.registerGlobalHelper=function(t,o,r,i){e.registerHelper(t,o,i),n[t]._global.push({pred:r,val:i})}}(Ma);var qa="iter insert remove copy getEditor constructor".split(" ");for(var Ka in Ei.prototype)Ei.prototype.hasOwnProperty(Ka)&&j(qa,Ka)<0&&(Ma.prototype[Ka]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ei.prototype[Ka]));return be(Ei),Ma.inputStyles={textarea:Ua,contenteditable:ja},Ma.defineMode=function(e){Ma.defaults.mode||"null"==e||(Ma.defaults.mode=e),Fe.apply(this,arguments)},Ma.defineMIME=function(e,t){Re[e]=t},Ma.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ma.defineMIME("text/plain","null"),Ma.defineExtension=function(e,t){Ma.prototype[e]=t},Ma.defineDocExtension=function(e,t){Ei.prototype[e]=t},Ma.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=A();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function o(){e.value=s.getValue()}var r;if(e.form&&(fe(e.form,"submit",o),!t.leaveSubmitMethodAlone)){var i=e.form;r=i.submit;try{var a=i.submit=function(){o(),i.submit=r,i.submit(),i.submit=a}}catch(e){}}t.finishInit=function(n){n.save=o,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,o(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",o),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var s=Ma((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=fe,e.wheelEventPixels=wr,e.Doc=Ei,e.splitLines=Ee,e.countColumn=B,e.findColumn=U,e.isWordChar=Q,e.Pass=H,e.signal=he,e.Line=qt,e.changeEnd=Mr,e.scrollbarModel=Vo,e.Pos=et,e.cmpPos=tt,e.modes=Pe,e.mimeModes=Re,e.resolveMode=Be,e.getMode=ze,e.modeExtensions=je,e.extendMode=He,e.copyState=We,e.startState=Ve,e.innerMode=$e,e.commands=ta,e.keyMap=$i,e.keyName=Ji,e.isModifierKey=Ki,e.lookupKey=qi,e.normalizeKeyMap=Ui,e.StringStream=Ue,e.SharedTextMarker=Mi,e.TextMarker=Ci,e.LineWidget=ki,e.e_preventDefault=ye,e.e_stopPropagation=_e,e.e_stop=ke,e.addClass=D,e.contains=E,e.rmClass=S,e.keyNames=zi}(Ma),Ma.version="5.54.0",Ma}()},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";const o=n(153),r=n(154),i=n(155);function a(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function c(e,t){return t.decode?r(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){a((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return(e,n,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],n):o[e]=[n]:o[e]=n};case"comma":case"separator":return(t,n,o)=>{const r="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map(t=>c(t,e)):null===n?n:c(n,e);o[t]=r};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const r of e.split("&")){let[e,a]=i(t.decode?r.replace(/\+/g," "):r,"=");a=void 0===a?null:["comma","separator"].includes(t.arrayFormat)?a:c(a,t),n(c(e,t),a,o)}for(const e of Object.keys(o)){const n=o[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else o[e]=f(n,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce((e,t)=>{const n=o[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=u,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";a((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],o=function(e){switch(e.arrayFormat){case"index":return t=>(n,o)=>{const r=n.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[s(t,e),"[",r,"]"].join("")]:[...n,[s(t,e),"[",s(r,e),"]=",s(o,e)].join("")]};case"bracket":return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(o,e)].join("")];case"comma":case"separator":return t=>(n,o)=>null==o||0===o.length?n:0===n.length?[[s(t,e),"=",s(o,e)].join("")]:[[n,s(o,e)].join(e.arrayFormatSeparator)];default:return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,s(t,e)]:[...n,[s(t,e),"=",s(o,e)].join("")]}}(t),r={};for(const t of Object.keys(e))n(t)||(r[t]=e[t]);const i=Object.keys(r);return!1!==t.sort&&i.sort(t.sort),i.map(n=>{const r=e[n];return void 0===r?"":null===r?s(n,t):Array.isArray(r)?r.reduce(o(n),[]).join("&"):s(n,t)+"="+s(r,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>({url:l(e).split("?")[0]||"",query:d(u(e),t)}),t.stringifyUrl=(e,n)=>{const o=l(e.url).split("?")[0]||"",r=t.extract(e.url),i=t.parse(r),a=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url),s=Object.assign(i,e.query);let c=t.stringify(s,n);return c&&(c="?"+c),`${o}${c}${a}`}},function(e,t,n){var o=n(29);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.Computed=void 0;var r=o(n(1)),i=o(n(3)),a=o(n(15)),s=o(n(12)),c=o(n(13)),l=n(32),u=n(33),f=n(34),d=n(150),p=function(e){function t(e){var n;(0,r.default)(this,t),(n=(0,a.default)(this,(0,s.default)(t).call(this))).value=void 0,n.calculateValue=void 0,n.dependencies=[],n.calculateValue=e,n.nodesCollector.start();var o=n.calculateValue();return n.setDependencies(n.nodesCollector.stop()),n.value=o,n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"isAtLeastOneDependencyChanged",value:function(){for(var e=0;e<this.dependencies.length;e++){if(this.dependencies[e].updateFlag===l.NodeUpdateFlag.Updated)return!0}return!1}},{key:"recalculateValueAndUpdateIfNeeded",value:function(){if(this.isAtLeastOneDependencyChanged()){this.nodesCollector.start();var e=this.calculateValue();this.setDependencies(this.nodesCollector.stop()),this.value!==e&&(this.value=e,this.updateFlag=l.NodeUpdateFlag.Updated)}}},{key:"setDependencies",value:function(e){this.removeFromDerivedListOfDependencies(),this.dependencies=e,this.addToDerivedListOfDependencies()}},{key:"removeFromDerivedListOfDependencies",value:function(){for(var e=0;e<this.dependencies.length;e++){var t=this.dependencies[e];(0,d.removeItemFromArrayIfExists)(this,t.derivedNodes)}}},{key:"addToDerivedListOfDependencies",value:function(){for(var e=0;e<this.dependencies.length;e++){var t=this.dependencies[e];(0,f.addUniqueItemToArray)(this,t.derivedNodes)}}}]),t}(u.Node);t.Computed=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeUpdateFlag=void 0;t.NodeUpdateFlag={NotUpdated:0,Updated:1,Unknown:2}},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.Node=void 0;var r=o(n(1)),i=o(n(3)),a=n(141),s=n(142),c=n(143),l=n(32),u=n(148),f=function(){function e(){(0,r.default)(this,e),this.value=void 0,this.derivedNodes=[],this.updateFlag=l.NodeUpdateFlag.NotUpdated,this.nodesCollector=void 0,this.nodesCollector=u.NodesCollector.get()}return(0,i.default)(e,[{key:"getValue",value:function(){return this.nodesCollector.collect(this),this.value}},{key:"setValue",value:function(e){this.value!==e&&(this.value=e,this.updateFlag=l.NodeUpdateFlag.Updated,this.recalculateDerived(),this.updateFlag=l.NodeUpdateFlag.NotUpdated)}},{key:"recalculateDerived",value:function(){var e=this.getDerivedDescendents();(0,a.setNodesUpdateFlag)(e,l.NodeUpdateFlag.Unknown),(0,s.recalculateAndUpdatedNodeValuesIfNeeded)(e),(0,a.setNodesUpdateFlag)(e,l.NodeUpdateFlag.NotUpdated)}},{key:"getDerivedDescendents",value:function(){for(var e=[],t=[],n=[],o=0;o<this.derivedNodes.length;o++)(0,c.visitToDeriveDescendents)(this.derivedNodes[o],e,t,n);return e}}]),e}();t.Node=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addUniqueItemToArray=function(e,t){t.indexOf(e)<0&&t.push(e)}},function(e,t,n){e.exports=function(){return new Worker(n.p+"3ae9cb488c080076d600.worker.js")}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(159),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createOutputMethod(o,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,o){return new HmacSha256(n,t,!0).update(o)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var o=OUTPUT_TYPES[n];t[o]=createHmacOutputMethod(o,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var o,r=typeof e;if("string"===r){var i,a=[],s=e.length,c=0;for(o=0;o<s;++o)(i=e.charCodeAt(o))<128?a[c++]=i:i<2048?(a[c++]=192|i>>6,a[c++]=128|63&i):i<55296||i>=57344?(a[c++]=224|i>>12,a[c++]=128|i>>6&63,a[c++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++o)),a[c++]=240|i>>18,a[c++]=128|i>>12&63,a[c++]=128|i>>6&63,a[c++]=128|63&i);e=a}else{if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var l=[],u=[];for(o=0;o<64;++o){var f=e[o]||0;l[o]=92^f,u[o]=54^f}Sha256.call(this,t,n),this.update(u),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var o,r,i=0,a=e.length,s=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(r=this.start;i<a&&r<64;++i)s[r>>2]|=e[i]<<SHIFT[3&r++];else for(r=this.start;i<a&&r<64;++i)(o=e.charCodeAt(i))<128?s[r>>2]|=o<<SHIFT[3&r++]:o<2048?(s[r>>2]|=(192|o>>6)<<SHIFT[3&r++],s[r>>2]|=(128|63&o)<<SHIFT[3&r++]):o<55296||o>=57344?(s[r>>2]|=(224|o>>12)<<SHIFT[3&r++],s[r>>2]|=(128|o>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&o)<<SHIFT[3&r++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),s[r>>2]|=(240|o>>18)<<SHIFT[3&r++],s[r>>2]|=(128|o>>12&63)<<SHIFT[3&r++],s[r>>2]|=(128|o>>6&63)<<SHIFT[3&r++],s[r>>2]|=(128|63&o)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=s[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,o,r,i,a,s,c,l=this.h0,u=this.h1,f=this.h2,d=this.h3,p=this.h4,h=this.h5,m=this.h6,g=this.h7,v=this.blocks;for(e=16;e<64;++e)t=((r=v[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,n=((r=v[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,v[e]=v[e-16]+t+v[e-7]+n<<0;for(c=u&f,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,g=(r=v[0]-1413257819)-150054599<<0,d=r+24177077<<0):(i=704751109,g=(r=v[0]-210244248)-1521486534<<0,d=r+143694565<<0),this.first=!1):(t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),o=(i=l&u)^l&f^c,g=d+(r=g+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&m)+K[e]+v[e])<<0,d=r+(t+o)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),o=(a=d&l)^d&u^i,m=f+(r=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&p^~g&h)+K[e+1]+v[e+1])<<0,t=((f=r+(t+o)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),o=(s=f&d)^f&l^a,h=u+(r=h+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&p)+K[e+2]+v[e+2])<<0,t=((u=r+(t+o)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),o=(c=u&f)^u&d^s,p=l+(r=p+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&m^~h&g)+K[e+3]+v[e+3])<<0,l=r+(t+o)<<0;this.h0=this.h0+l<<0,this.h1=this.h1+u<<0,this.h2=this.h2+f<<0,this.h3=this.h3+d<<0,this.h4=this.h4+p<<0,this.h5=this.h5+h<<0,this.h6=this.h6+m<<0,this.h7=this.h7+g<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,r=this.h4,i=this.h5,a=this.h6,s=this.h7,c=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(c+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,o=this.h3,r=this.h4,i=this.h5,a=this.h6,s=this.h7,c=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,o>>24&255,o>>16&255,o>>8&255,255&o,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||c.push(s>>24&255,s>>16&255,s>>8&255,255&s),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(157),__webpack_require__(158))},function(e,t,n){var o=n(10),r=n(38);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{color:inherit;text-decoration:none}',""]),e.exports=t},function(e,t,n){var o=n(10),r=n(40);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){var o=n(11),r=n(24),i=n(41),a=n(42),s=n(43),c=n(44),l=n(45),u=n(46),f=n(47),d=n(48),p=n(49),h=n(50),m=n(51),g=n(52),v=n(53),b=n(54),y=n(55),_=n(56),w=n(57),k=n(58),x=n(59),I=n(60),C=n(61),S=n(62),M=n(63),O=n(64),N=n(65),T=n(66),E=n(67),A=n(68),D=n(69),L=n(70),P=n(71),R=n(72),F=n(73),B=n(74),z=n(75),j=n(76),H=n(77),W=n(78),$=n(79),V=n(80),U=n(81),q=n(82),K=n(83),X=n(84),J=n(85),G=n(86),Y=n(87),Z=n(88),Q=n(89),ee=n(90);t=o(!1);var te=r(i),ne=r(i,{hash:"?#iefix"}),oe=r(a),re=r(s),ie=r(c),ae=r(l,{hash:"#Montserrat"}),se=r(u),ce=r(u,{hash:"?#iefix"}),le=r(f),ue=r(d),fe=r(p),de=r(h,{hash:"#Montserrat"}),pe=r(m),he=r(m,{hash:"?#iefix"}),me=r(g),ge=r(v),ve=r(b),be=r(y,{hash:"#Montserrat"}),ye=r(_),_e=r(_,{hash:"?#iefix"}),we=r(w),ke=r(k),xe=r(x),Ie=r(I,{hash:"#Montserrat"}),Ce=r(C),Se=r(C,{hash:"?#iefix"}),Me=r(S),Oe=r(M),Ne=r(O),Te=r(N,{hash:"#Montserrat"}),Ee=r(T),Ae=r(T,{hash:"?#iefix"}),De=r(E),Le=r(A),Pe=r(D),Re=r(L,{hash:"#Montserrat"}),Fe=r(P),Be=r(P,{hash:"?#iefix"}),ze=r(R),je=r(F),He=r(B),We=r(z,{hash:"#Montserrat"}),$e=r(j),Ve=r(j,{hash:"?#iefix"}),Ue=r(H),qe=r(W),Ke=r($),Xe=r(V,{hash:"#Montserrat"}),Je=r(U),Ge=r(U,{hash:"?#iefix"}),Ye=r(q),Ze=r(K),Qe=r(X),et=r(J,{hash:"#Srisakdi"}),tt=r(G),nt=r(Y),ot=r(Z),rt=r(Q),it=r(ee);t.push([e.i,'@font-face{font-family:"Montserrat";font-style:normal;font-weight:400;src:url('+te+');src:local("Montserrat Regular"),local("Montserrat-Regular"),url('+ne+') format("embedded-opentype"),url('+oe+') format("woff2"),url('+re+') format("woff"),url('+ie+') format("truetype"),url('+ae+') format("svg")}@font-face{font-family:"Montserrat";font-style:italic;font-weight:400;src:url('+se+');src:local("Montserrat Italic"),local("Montserrat-Italic"),url('+ce+') format("embedded-opentype"),url('+le+') format("woff2"),url('+ue+') format("woff"),url('+fe+') format("truetype"),url('+de+') format("svg")}@font-face{font-family:"Montserrat";font-style:normal;font-weight:500;src:url('+pe+');src:local("Montserrat Medium"),local("Montserrat-Medium"),url('+he+') format("embedded-opentype"),url('+me+') format("woff2"),url('+ge+') format("woff"),url('+ve+') format("truetype"),url('+be+') format("svg")}@font-face{font-family:"Montserrat";font-style:normal;font-weight:600;src:url('+ye+');src:local("Montserrat SemiBold"),local("Montserrat-SemiBold"),url('+_e+') format("embedded-opentype"),url('+we+') format("woff2"),url('+ke+') format("woff"),url('+xe+') format("truetype"),url('+Ie+') format("svg")}@font-face{font-family:"Montserrat";font-style:italic;font-weight:500;src:url('+Ce+');src:local("Montserrat Medium Italic"),local("Montserrat-MediumItalic"),url('+Se+') format("embedded-opentype"),url('+Me+') format("woff2"),url('+Oe+') format("woff"),url('+Ne+') format("truetype"),url('+Te+') format("svg")}@font-face{font-family:"Montserrat";font-style:italic;font-weight:600;src:url('+Ee+');src:local("Montserrat SemiBold Italic"),local("Montserrat-SemiBoldItalic"),url('+Ae+') format("embedded-opentype"),url('+De+') format("woff2"),url('+Le+') format("woff"),url('+Pe+') format("truetype"),url('+Re+') format("svg")}@font-face{font-family:"Montserrat";font-style:normal;font-weight:700;src:url('+Fe+');src:local("Montserrat Bold"),local("Montserrat-Bold"),url('+Be+') format("embedded-opentype"),url('+ze+') format("woff2"),url('+je+') format("woff"),url('+He+') format("truetype"),url('+We+') format("svg")}@font-face{font-family:"Montserrat";font-style:italic;font-weight:700;src:url('+$e+');src:local("Montserrat Bold Italic"),local("Montserrat-BoldItalic"),url('+Ve+') format("embedded-opentype"),url('+Ue+') format("woff2"),url('+qe+') format("woff"),url('+Ke+') format("truetype"),url('+Xe+') format("svg")}@font-face{font-family:"Srisakdi";font-style:normal;font-weight:400;src:url('+Je+');src:local("Srisakdi Regular"),local("Srisakdi-Regular"),url('+Ge+') format("embedded-opentype"),url('+Ye+') format("woff2"),url('+Ze+') format("woff"),url('+Qe+') format("truetype"),url('+et+') format("svg")}@font-face{font-family:"Material Icons";font-style:normal;font-weight:400;src:url('+tt+') format("woff2")}@font-face{font-family:"Material Icons Outlined";font-style:normal;font-weight:400;src:url('+nt+') format("woff2")}@font-face{font-family:"Material Icons Round";font-style:normal;font-weight:400;src:url('+ot+') format("woff2")}@font-face{font-family:"Material Icons Sharp";font-style:normal;font-weight:400;src:url('+rt+') format("woff2")}@font-face{font-family:"Material Icons Two Tone";font-style:normal;font-weight:400;src:url('+it+') format("woff2")}',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"dc9c0830fb34ea831853f6b5c49dd0fa.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f263cfd0a6fa311229a6321b6f901d03.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"c1ba4359982fe0cc48ec8d1ad403fdeb.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4ff99841b08686bda3f7921d91044afb.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"a33247ee19cd20c634b5479ce23b6ca5.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f0c7195566c1471c1f1ad6a2b93fa885.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"a3b327eaeb0a8f1a50cfc1dad8f93f46.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"d9efdead1749a21fae169b359de60941.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ce12d40345c591e9daf12f9bda365078.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"48c0c2b13366a82bc6c9992263078c8b.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"13dd0ad41fb370ace5aaaf70c9b6300e.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"057bc00d3ab1fcfca0683ce3c68e7a12.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"6e1f7d3787594a69ed456275d2debff0.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"7ac059171ee59fbe8b33565ba138d089.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"25e5806ab5b17a0cefcbbe58f4fa1b18.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"22d22edc51b42df22dbc86e486778bde.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"eb4735b30729893f823d0cd355a377f1.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"76f41669c841bc25d1b71f4e34e831fe.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"257ff2ade74c135ac41efff0e99519f5.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4f455386517a32fe092eaa8d8e1ef740.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"efbc521d24ef8587f176dea9c1a739b2.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"80bc319c6160e60aae683b35c7cda2fd.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"6142d22f7172dfea564bbbe4648bcf8e.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"b5809465c6b33b43cd845a728d6629ba.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"a84be085482c0933d2bbe744498532ec.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"23ea7e559b0ec7d22d8809548b4a8c06.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e215f05260116e29601cca05b1612fd8.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"9cb63491641aceaff6c466be81edc1a8.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"67b9f9053ecbe900713de84c98e8abb4.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e62e3c3e2d1a297e9d2fa71690b02db1.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"d7874418aba069eb92e8aa36e97004ad.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"e9dea54ec59e29a6913f2b5829d766b9.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"082762b455a3f227e8ac329c283f8ad6.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"6cbb516e629a7542e7a823790091e885.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"0897cd29b7625f35ad22ff5a765ffeea.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"1647327d098b72586fa2589859e35c9f.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f4b30344db9ebe00bb15ecc8719c11e2.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"2878ac2304b6cba52c5758a55a1d35f6.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"a14ce7f4be1771503fdd77d5025ad49c.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"fff2a365a1138dc231a35bdb3f003dee.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"10ec461473c31f9e89b616c83f716785.eot"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"b2e1d6e202108016b8d93a66347fc1a7.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"5b1a662d1fbff2611860368ae1987cb1.woff"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"87b99b5de65459533b025bea4ee7548b.ttf"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"c7f8fe72418003397b514e440a03126d.svg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"8fe8075a069d77f10f199e776f9299c4.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"f2c95b09856fbe63d019a94434b78e3f.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"cf79d69244055254451ef4c1e8090cfc.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4fc3e31007dd4a647619a1726108f3d6.woff2"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"dbeca081094279aba1060628bc7b8971.woff2"},function(e,t,n){var o=n(10),r=n(92);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'html,body{margin:0}*{box-sizing:border-box}#root{position:absolute;top:0;left:0;right:0;bottom:0;font-family:"Montserrat",sans-serif;letter-spacing:.3px;line-height:1.5;font-size:14px;background:#fbfbfb;color:#2e2e2e}.dark-mode #root{background:#313131;color:#ebebeb}button{cursor:pointer;outline:none;border:none;background:none;font:inherit;padding:0;margin:0;line-height:40px;min-height:40px;min-width:40px;text-align:center;color:currentColor}',""]),e.exports=t},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var o=n(10),r=n(97);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){var o=n(11),r=n(24),i=n(98),a=n(99),s=n(100),c=n(101),l=n(102);t=o(!1);var u=r(i),f=r(a),d=r(s),p=r(c),h=r(l);t.push([e.i,".Welcome{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url("+u+");background-position:50% 50%;background-repeat:no-repeat;background-size:cover;font-size:16px;overflow:hidden}@media(max-width: 2000px)and (max-height: 1426px){.Welcome{background-image:url("+f+");background-position:50% 50%;background-repeat:no-repeat;background-size:cover}}@media(max-width: 1500px)and (max-height: 1070px){.Welcome{background-image:url("+d+");background-position:50% 50%;background-repeat:no-repeat;background-size:cover}}@media(max-width: 1000px)and (max-height: 713px){.Welcome{background-image:url("+p+");background-position:50% 50%;background-repeat:no-repeat;background-size:cover}}@media(max-width: 701px)and (max-height: 500px){.Welcome{background-image:url("+h+');background-position:50% 50%;background-repeat:no-repeat;background-size:cover}}.Welcome__AppName{font-family:"Srisakdi",sans-serif;font-weight:bold}.Welcome__WelcomeCard{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);width:512px;max-width:100%;max-height:100%;background:linear-gradient(to bottom right, rgba(255, 255, 255, 0.8), rgba(224, 204, 204, 0.9));box-shadow:0px 0px 100px 0px #000;border-radius:4px;font-family:"Montserrat",sans-serif;overflow:auto}.Welcome__WelcomeCard>h1,.Welcome__WelcomeCard section{padding:0px 24px 24px 24px}.Welcome__WelcomeCard>h1:first-child,.Welcome__WelcomeCard section:first-child{padding-top:24px}.Welcome__LoginButton{display:inline-block;width:100%;background:#a30316;color:#e6e5d8;padding:24px;text-align:center;font-weight:bold}.Welcome__Header{text-align:center;font-size:40px}.Welcome__How{font-weight:bold}.Welcome__HowListItem{margin-top:.5em}.Welcome ol{list-style:decimal;padding-left:24px}.Welcome strong{font-weight:bold}',""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ee7adf052f8d31c4a3afd877de058e51.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"cc39b19e575e3801b56f9ba9757b3c2c.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"efcb9054ad57c1ceee8ed24d529f3b37.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"0d18a520e0cc35314d56d327ea9f5d49.jpg"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"305d9b2e856fa41f4c1483407c02bc44.jpg"},function(e,t,n){var o=n(10),r=n(104);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'@keyframes mainScreenOverlayAppear{from{opacity:0}to{opacity:1}}.SecureBook{position:absolute;top:0;right:0;bottom:0;left:0}.SecureBook__Sidebar{position:absolute;top:0px;left:0px;bottom:0px;width:80%;max-width:350px;z-index:2;transition:transform 150ms ease-in-out;border-right:3px solid #e6e6e6;background:#fbfbfb}.dark-mode .SecureBook__Sidebar{border-right:3px solid #424242;background:#313131}.SecureBook__Sidebar--hidden{transform:translateX(-101%);pointer-events:none}.SecureBook__SidebarTop{position:absolute;top:0px;left:0px;right:0px;height:80px;display:flex;align-items:center;padding:20px 20px 20px 12px}.SecureBook__Notes{position:absolute;top:80px;bottom:0px;left:0px;right:0px;overflow:auto}.SecureBook__Main{position:absolute;top:0px;left:350px;right:0px;bottom:0px}@media(max-width: 1450px){.SecureBook__Main{left:0px}}.SecureBook__Main--loading::before,.SecureBook__Main--under-sidebar::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;will-change:opacity;animation:mainScreenOverlayAppear 150ms linear}.SecureBook__Main--loading::before{background:rgba(251,251,251,.5)}.dark-mode .SecureBook__Main--loading::before{background:rgba(251,251,251,.5)}.SecureBook__Main--under-sidebar::before{background:rgba(0,0,0,.4)}.dark-mode .SecureBook__Main--under-sidebar::before{background:rgba(0,0,0,.4)}.SecureBook__MainTop{position:absolute;top:0px;left:0px;right:0px;height:80px;border-bottom:2px solid #e6e6e6}.dark-mode .SecureBook__MainTop{border-bottom:2px solid #424242}.SecureBook__OpenMenu{position:absolute;top:0px;left:0px;width:60px;padding:20px 0px 20px 20px;height:80px}.SecureBook__Settings{position:absolute;top:0px;right:0px;width:60px;padding:20px 20px 20px 0px;height:80px}.SecureBook__Menu{position:absolute;top:0px;left:0px;right:60px;padding:20px;overflow-y:hidden;overflow-x:auto;height:80px;white-space:nowrap}@media(max-width: 1450px){.SecureBook__Menu{left:60px;padding:20px 20px 20px 0px}}.SecureBook__DarkModeChk{display:block}.SecureBook__SettingsIcon{display:inline-block;margin-right:10px;vertical-align:middle;width:24px;height:24px;text-align:center}.SecureBook__Editor{position:absolute;top:80px;left:0px;right:0px;bottom:80px}.SecureBook__Loading{padding:20px}.SecureBook__TagSearch{padding-right:20px}.SecureBook__BottomBar{position:absolute;display:flex;align-items:center;padding:20px;height:80px;bottom:0px;left:0px;right:0px;border-top:1px solid #e6e6e6}.dark-mode .SecureBook__BottomBar{border-top:1px solid #424242}.SecureBook__SaveButton{margin-right:20px}.SecureBook__CancelButton{margin-left:20px}.SecureBook__SaveButton,.SecureBook__CancelButton{flex:0 0 auto;text-align:left}.SecureBook__SaveButton i,.SecureBook__CancelButton i{margin-right:5px}.SecureBook__AddTags{flex:1 1 auto}.SecureBook em{font-style:italic}.SecureBook__MainLoading{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);z-index:1}.SecureBook__EmptyNotes{position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);padding:20px;text-align:center}.SecureBook__EditorEmpty{position:absolute;top:50%;left:50%;width:100%;max-width:400px;transform:translateX(-50%) translateY(-50%);padding:20px;text-align:center}',""]),e.exports=t},function(e,t,n){var o=n(10),r=n(106);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'.EditorPresenter{position:absolute;top:0px;left:0px;right:0px;bottom:0px;white-space:pre-wrap}.EditorPresenter--disabled{pointer-events:none}.EditorPresenter__TextLoading{position:absolute;top:20px;left:20px;right:20px}.EditorPresenter__Content{position:absolute;top:0px;left:0px;right:0px;bottom:0px}.EditorPresenter__Content>[contenteditable]{padding:20px;position:absolute;top:0px;left:0px;right:0px;bottom:0px;overflow-y:scroll;font-size:18px}.EditorPresenter__Content>[contenteditable]::after{content:"";display:block}.EditorPresenter strong{font-weight:bold}.EditorPresenter a{text-decoration:underline}.EditorPresenter em{font-style:italic}.EditorPresenter code{font-family:"Courier New",Courier,monospace;background-color:#c9c9c9}.dark-mode .EditorPresenter code{background-color:#777}.EditorPresenter blockquote{padding:20px;border-left:3px solid #a30316;background:#ededed}.dark-mode .EditorPresenter blockquote{border-left:3px solid #a30316;background:#444}.EditorPresenter ol{list-style:decimal}.EditorPresenter ul{list-style:disc}.EditorPresenter ol,.EditorPresenter ul{padding-left:24px}.EditorPresenter h1,.EditorPresenter h2,.EditorPresenter h3,.EditorPresenter h4,.EditorPresenter h5,.EditorPresenter h6{font-weight:bold}.EditorPresenter h1{font-size:28px}.EditorPresenter h2{font-size:26px}.EditorPresenter h3{font-size:24px}.EditorPresenter h4{font-size:22px}.EditorPresenter h5{font-size:20px}.EditorPresenter h6{font-size:18px}.EditorPresenter a{cursor:pointer}.EditorPresenter li{padding-left:5px}.EditorPresenter img[data-position]{margin:0px 20px 0px 20px}.EditorPresenter img[data-position=left]{margin:20px 20px 20px 0px}.EditorPresenter img[data-position=right]{margin:20px 0px 20px 20px}',""]),e.exports=t},function(e,t,n){var o=n(10),r=n(108);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,"@keyframes textLoadingGradient{from{transform:translateX(-100%)}to{transform:translateX(130%)}}.TextLoading__Line{position:relative;border-radius:.3em;overflow:hidden;height:1.5em;margin-bottom:.5em;background:rgba(0,0,0,.05)}.dark-mode .TextLoading__Line{background:rgba(255,255,255,.05)}.TextLoading__Line-1{width:90%}.TextLoading__Line-2{width:95%}.TextLoading__Line-3{width:85%}.TextLoading__Gradient{position:absolute;top:0px;left:0px;right:0px;bottom:0px;will-change:transition;animation:textLoadingGradient 2.5s infinite;background:linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0))}.dark-mode .TextLoading__Gradient{background:linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0))}",""]),e.exports=t},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}},function(e,t,n){var o=n(10),r=n(111);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){var o=n(11),r=n(24),i=n(112);t=o(!1);var a=r(i);t.push([e.i,'.Icon{font-family:"Material Icons";font-weight:normal;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;vertical-align:middle;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.Icon--font-outlined{font-family:"Material Icons Outlined"}.Icon--font-round{font-family:"Material Icons Round"}.Icon--font-sharp{font-family:"Material Icons Sharp"}.Icon--font-two-tone{font-family:"Material Icons Two Tone"}.Icon--360::before{content:""}.Icon--1k_plus::before{content:""}.Icon--19mp::before{content:""}.Icon--18mp::before{content:""}.Icon--17mp::before{content:""}.Icon--16mp::before{content:""}.Icon--15mp::before{content:""}.Icon--14mp::before{content:""}.Icon--13mp::before{content:""}.Icon--12mp::before{content:""}.Icon--11mp::before{content:""}.Icon--10mp::before{content:""}.Icon--10k::before{content:""}.Icon--1k::before{content:""}.Icon--2k_plus::before{content:""}.Icon--24mp::before{content:""}.Icon--23mp::before{content:""}.Icon--22mp::before{content:""}.Icon--21mp::before{content:""}.Icon--20mp::before{content:""}.Icon--2mp::before{content:""}.Icon--2k::before{content:""}.Icon--3d_rotation::before{content:""}.Icon--3k_plus::before{content:""}.Icon--3mp::before{content:""}.Icon--3k::before{content:""}.Icon--4k_plus::before{content:""}.Icon--4mp::before{content:""}.Icon--4k::before{content:""}.Icon--5mp::before{content:""}.Icon--5k_plus::before{content:""}.Icon--5k::before{content:""}.Icon--5g::before{content:""}.Icon--6k_plus::before{content:""}.Icon--6mp::before{content:""}.Icon--6k::before{content:""}.Icon--7k_plus::before{content:""}.Icon--7mp::before{content:""}.Icon--7k::before{content:""}.Icon--8k_plus::before{content:""}.Icon--8mp::before{content:""}.Icon--8k::before{content:""}.Icon--9k_plus::before{content:""}.Icon--9mp::before{content:""}.Icon--9k::before{content:""}.Icon--av_timer::before{content:""}.Icon--autorenew::before{content:""}.Icon--auto_stories::before{content:""}.Icon--auto_fix_off::before{content:""}.Icon--auto_fix_normal::before{content:""}.Icon--auto_fix_high::before{content:""}.Icon--auto_delete::before{content:""}.Icon--auto_awesome_motion::before{content:""}.Icon--auto_awesome_mosaic::before{content:""}.Icon--auto_awesome::before{content:""}.Icon--audiotrack::before{content:""}.Icon--attractions::before{content:""}.Icon--attachment::before{content:""}.Icon--attach_money::before{content:""}.Icon--attach_file::before{content:""}.Icon--attach_email::before{content:""}.Icon--atm::before{content:""}.Icon--assistant_photo::before{content:""}.Icon--assistant_navigation::before{content:""}.Icon--assistant_direction::before{content:""}.Icon--assistant::before{content:""}.Icon--assignment_turned_in::before{content:""}.Icon--assignment_returned::before{content:""}.Icon--assignment_return::before{content:""}.Icon--assignment_late::before{content:""}.Icon--assignment_ind::before{content:""}.Icon--assignment::before{content:""}.Icon--assessment::before{content:""}.Icon--aspect_ratio::before{content:""}.Icon--article::before{content:""}.Icon--art_track::before{content:""}.Icon--arrow_upward::before{content:""}.Icon--arrow_right_alt::before{content:""}.Icon--arrow_right::before{content:""}.Icon--arrow_left::before{content:""}.Icon--arrow_forward_ios::before{content:""}.Icon--arrow_forward::before{content:""}.Icon--arrow_drop_up::before{content:""}.Icon--arrow_drop_down_circle::before{content:""}.Icon--arrow_drop_down::before{content:""}.Icon--arrow_downward::before{content:""}.Icon--arrow_circle_up::before{content:""}.Icon--arrow_circle_down::before{content:""}.Icon--arrow_back_ios::before{content:""}.Icon--arrow_back::before{content:""}.Icon--archive::before{content:""}.Icon--architecture::before{content:""}.Icon--apps::before{content:""}.Icon--approval::before{content:""}.Icon--app_settings_alt::before{content:""}.Icon--app_registration::before{content:""}.Icon--app_blocking::before{content:""}.Icon--api::before{content:""}.Icon--apartment::before{content:""}.Icon--announcement::before{content:""}.Icon--animation::before{content:""}.Icon--android::before{content:""}.Icon--anchor::before{content:""}.Icon--analytics::before{content:""}.Icon--amp_stories::before{content:""}.Icon--alternate_email::before{content:""}.Icon--alt_route::before{content:""}.Icon--all_out::before{content:""}.Icon--all_inclusive::before{content:""}.Icon--all_inbox::before{content:""}.Icon--album::before{content:""}.Icon--alarm_on::before{content:""}.Icon--alarm_off::before{content:""}.Icon--alarm_add::before{content:""}.Icon--alarm::before{content:""}.Icon--airport_shuttle::before{content:""}.Icon--airplay::before{content:""}.Icon--airplanemode_on::before{content:""}.Icon--airplanemode_off::before{content:""}.Icon--airplanemode_inactive::before{content:""}.Icon--airplanemode_active::before{content:""}.Icon--airline_seat_recline_normal::before{content:""}.Icon--airline_seat_recline_extra::before{content:""}.Icon--airline_seat_legroom_reduced::before{content:""}.Icon--airline_seat_legroom_normal::before{content:""}.Icon--airline_seat_legroom_extra::before{content:""}.Icon--airline_seat_individual_suite::before{content:""}.Icon--airline_seat_flat_angled::before{content:""}.Icon--airline_seat_flat::before{content:""}.Icon--agriculture::before{content:""}.Icon--admin_panel_settings::before{content:""}.Icon--adjust::before{content:""}.Icon--addchart::before{content:""}.Icon--add_to_queue::before{content:""}.Icon--add_to_photos::before{content:""}.Icon--add_to_home_screen::before{content:""}.Icon--add_to_drive::before{content:""}.Icon--add_shopping_cart::before{content:""}.Icon--add_road::before{content:""}.Icon--add_photo_alternate::before{content:""}.Icon--add_moderator::before{content:""}.Icon--add_location_alt::before{content:""}.Icon--add_location::before{content:""}.Icon--add_link::before{content:""}.Icon--add_ic_call::before{content:""}.Icon--add_comment::before{content:""}.Icon--add_circle_outline::before{content:""}.Icon--add_circle::before{content:""}.Icon--add_chart::before{content:""}.Icon--add_call::before{content:""}.Icon--add_business::before{content:""}.Icon--add_box::before{content:""}.Icon--add_alert::before{content:""}.Icon--add_alarm::before{content:""}.Icon--add_a_photo::before{content:""}.Icon--add::before{content:""}.Icon--adb::before{content:""}.Icon--ad_units::before{content:""}.Icon--account_tree::before{content:""}.Icon--account_circle::before{content:""}.Icon--account_box::before{content:""}.Icon--account_balance_wallet::before{content:""}.Icon--account_balance::before{content:""}.Icon--accessible_forward::before{content:""}.Icon--accessible::before{content:""}.Icon--accessibility_new::before{content:""}.Icon--accessibility::before{content:""}.Icon--access_time::before{content:""}.Icon--access_alarms::before{content:""}.Icon--access_alarm::before{content:""}.Icon--ac_unit::before{content:""}.Icon--business_center::before{content:""}.Icon--business::before{content:""}.Icon--bus_alert::before{content:""}.Icon--burst_mode::before{content:""}.Icon--build_circle::before{content:""}.Icon--build::before{content:""}.Icon--bug_report::before{content:""}.Icon--bubble_chart::before{content:""}.Icon--brush::before{content:""}.Icon--brunch_dining::before{content:""}.Icon--browser_not_supported::before{content:""}.Icon--broken_image::before{content:""}.Icon--brightness_medium::before{content:""}.Icon--brightness_low::before{content:""}.Icon--brightness_high::before{content:""}.Icon--brightness_auto::before{content:""}.Icon--brightness_7::before{content:""}.Icon--brightness_6::before{content:""}.Icon--brightness_5::before{content:""}.Icon--brightness_4::before{content:""}.Icon--brightness_3::before{content:""}.Icon--brightness_2::before{content:""}.Icon--brightness_1::before{content:""}.Icon--breakfast_dining::before{content:""}.Icon--branding_watermark::before{content:""}.Icon--border_vertical::before{content:""}.Icon--border_top::before{content:""}.Icon--border_style::before{content:""}.Icon--border_right::before{content:""}.Icon--border_outer::before{content:""}.Icon--border_left::before{content:""}.Icon--border_inner::before{content:""}.Icon--border_horizontal::before{content:""}.Icon--border_color::before{content:""}.Icon--border_clear::before{content:""}.Icon--border_bottom::before{content:""}.Icon--border_all::before{content:""}.Icon--bookmarks::before{content:""}.Icon--bookmark_outline::before{content:""}.Icon--bookmark_border::before{content:""}.Icon--bookmark::before{content:""}.Icon--book::before{content:""}.Icon--bolt::before{content:""}.Icon--blur_on::before{content:""}.Icon--blur_off::before{content:""}.Icon--blur_linear::before{content:""}.Icon--blur_circular::before{content:""}.Icon--bluetooth_searching::before{content:""}.Icon--bluetooth_disabled::before{content:""}.Icon--bluetooth_connected::before{content:""}.Icon--bluetooth_audio::before{content:""}.Icon--bluetooth::before{content:""}.Icon--block_flipped::before{content:""}.Icon--block::before{content:""}.Icon--biotech::before{content:""}.Icon--bike_scooter::before{content:""}.Icon--bento::before{content:""}.Icon--beenhere::before{content:""}.Icon--bedtime::before{content:""}.Icon--beach_access::before{content:""}.Icon--battery_unknown::before{content:""}.Icon--battery_std::before{content:""}.Icon--battery_full::before{content:""}.Icon--battery_charging_full::before{content:""}.Icon--battery_alert::before{content:""}.Icon--bathtub::before{content:""}.Icon--batch_prediction::before{content:""}.Icon--bar_chart::before{content:""}.Icon--ballot::before{content:""}.Icon--bakery_dining::before{content:""}.Icon--badge::before{content:""}.Icon--backup_table::before{content:""}.Icon--backup::before{content:""}.Icon--backspace::before{content:""}.Icon--backpack::before{content:""}.Icon--baby_changing_station::before{content:""}.Icon--crop_square::before{content:""}.Icon--crop_rotate::before{content:""}.Icon--crop_portrait::before{content:""}.Icon--crop_original::before{content:""}.Icon--crop_landscape::before{content:""}.Icon--crop_free::before{content:""}.Icon--crop_din::before{content:""}.Icon--crop_7_5::before{content:""}.Icon--crop_5_4::before{content:""}.Icon--crop_3_2::before{content:""}.Icon--crop_16_9::before{content:""}.Icon--crop::before{content:""}.Icon--credit_card::before{content:""}.Icon--create_new_folder::before{content:""}.Icon--create::before{content:""}.Icon--countertops::before{content:""}.Icon--corporate_fare::before{content:""}.Icon--copyright::before{content:""}.Icon--control_point_duplicate::before{content:""}.Icon--control_point::before{content:""}.Icon--control_camera::before{content:""}.Icon--content_paste::before{content:""}.Icon--content_cut::before{content:""}.Icon--content_copy::before{content:""}.Icon--contacts::before{content:""}.Icon--contactless::before{content:""}.Icon--contact_support::before{content:""}.Icon--contact_phone::before{content:""}.Icon--contact_mail::before{content:""}.Icon--construction::before{content:""}.Icon--connected_tv::before{content:""}.Icon--confirmation_number::before{content:""}.Icon--confirmation_num::before{content:""}.Icon--computer::before{content:""}.Icon--compress::before{content:""}.Icon--compass_calibration::before{content:""}.Icon--compare_arrows::before{content:""}.Icon--compare::before{content:""}.Icon--commute::before{content:""}.Icon--comment_bank::before{content:""}.Icon--comment::before{content:""}.Icon--colorize::before{content:""}.Icon--color_lens::before{content:""}.Icon--collections_bookmark::before{content:""}.Icon--collections::before{content:""}.Icon--code::before{content:""}.Icon--cloud_upload::before{content:""}.Icon--cloud_queue::before{content:""}.Icon--cloud_off::before{content:""}.Icon--cloud_download::before{content:""}.Icon--cloud_done::before{content:""}.Icon--cloud_circle::before{content:""}.Icon--cloud::before{content:""}.Icon--closed_caption_off::before{content:""}.Icon--closed_caption_disabled::before{content:""}.Icon--closed_caption::before{content:""}.Icon--close_fullscreen::before{content:""}.Icon--close::before{content:""}.Icon--clear_all::before{content:""}.Icon--clear::before{content:""}.Icon--cleaning_services::before{content:""}.Icon--class::before{content:""}.Icon--circle_notifications::before{content:""}.Icon--circle::before{content:""}.Icon--chrome_reader_mode::before{content:""}.Icon--child_friendly::before{content:""}.Icon--child_care::before{content:""}.Icon--chevron_right::before{content:""}.Icon--chevron_left::before{content:""}.Icon--checkroom::before{content:""}.Icon--check_circle_outline::before{content:""}.Icon--check_circle::before{content:""}.Icon--check_box_outline_blank::before{content:""}.Icon--check_box::before{content:""}.Icon--check::before{content:""}.Icon--chat_bubble_outline::before{content:""}.Icon--chat_bubble::before{content:""}.Icon--chat::before{content:""}.Icon--charging_station::before{content:""}.Icon--change_history::before{content:""}.Icon--center_focus_weak::before{content:""}.Icon--center_focus_strong::before{content:""}.Icon--cell_wifi::before{content:""}.Icon--celebration::before{content:""}.Icon--category::before{content:""}.Icon--cast_for_education::before{content:""}.Icon--cast_connected::before{content:""}.Icon--cast::before{content:""}.Icon--casino::before{content:""}.Icon--cases::before{content:""}.Icon--carpenter::before{content:""}.Icon--card_travel::before{content:""}.Icon--card_membership::before{content:""}.Icon--card_giftcard::before{content:""}.Icon--car_repair::before{content:""}.Icon--car_rental::before{content:""}.Icon--cancel_schedule_send::before{content:""}.Icon--cancel_presentation::before{content:""}.Icon--cancel::before{content:""}.Icon--campaign::before{content:""}.Icon--camera_roll::before{content:""}.Icon--camera_rear::before{content:""}.Icon--camera_front::before{content:""}.Icon--camera_enhance::before{content:""}.Icon--camera_alt::before{content:""}.Icon--camera::before{content:""}.Icon--call_to_action::before{content:""}.Icon--call_split::before{content:""}.Icon--call_received::before{content:""}.Icon--call_missed_outgoing::before{content:""}.Icon--call_missed::before{content:""}.Icon--call_merge::before{content:""}.Icon--call_made::before{content:""}.Icon--call_end::before{content:""}.Icon--call::before{content:""}.Icon--calendar_view_day::before{content:""}.Icon--calendar_today::before{content:""}.Icon--calculate::before{content:""}.Icon--cake::before{content:""}.Icon--cached::before{content:""}.Icon--dynamic_form::before{content:""}.Icon--dynamic_feed::before{content:""}.Icon--dvr::before{content:""}.Icon--duo::before{content:""}.Icon--dry_cleaning::before{content:""}.Icon--dry::before{content:""}.Icon--drive_folder_upload::before{content:""}.Icon--drive_file_rename_outline::before{content:""}.Icon--drive_file_move_outline::before{content:""}.Icon--drive_file_move::before{content:""}.Icon--drive_eta::before{content:""}.Icon--drag_indicator::before{content:""}.Icon--drag_handle::before{content:""}.Icon--drafts::before{content:""}.Icon--double_arrow::before{content:""}.Icon--donut_small::before{content:""}.Icon--donut_large::before{content:""}.Icon--done_outline::before{content:""}.Icon--done_all::before{content:""}.Icon--done::before{content:""}.Icon--domain_verification::before{content:""}.Icon--domain_disabled::before{content:""}.Icon--domain::before{content:""}.Icon--dock::before{content:""}.Icon--do_not_touch::before{content:""}.Icon--do_not_step::before{content:""}.Icon--do_not_disturb_on::before{content:""}.Icon--do_not_disturb_off::before{content:""}.Icon--do_not_disturb_alt::before{content:""}.Icon--do_not_disturb::before{content:""}.Icon--dns::before{content:""}.Icon--dnd_forwardslash::before{content:""}.Icon--disc_full::before{content:""}.Icon--dirty_lens::before{content:""}.Icon--directions_walk::before{content:""}.Icon--directions_transit::before{content:""}.Icon--directions_train::before{content:""}.Icon--directions_subway::before{content:""}.Icon--directions_run::before{content:""}.Icon--directions_railway::before{content:""}.Icon--directions_off::before{content:""}.Icon--directions_ferry::before{content:""}.Icon--directions_car::before{content:""}.Icon--directions_bus::before{content:""}.Icon--directions_boat::before{content:""}.Icon--directions_bike::before{content:""}.Icon--directions::before{content:""}.Icon--dinner_dining::before{content:""}.Icon--dialpad::before{content:""}.Icon--dialer_sip::before{content:""}.Icon--devices_other::before{content:""}.Icon--devices::before{content:""}.Icon--device_unknown::before{content:""}.Icon--device_thermostat::before{content:""}.Icon--device_hub::before{content:""}.Icon--developer_mode::before{content:""}.Icon--developer_board::before{content:""}.Icon--details::before{content:""}.Icon--desktop_windows::before{content:""}.Icon--desktop_mac::before{content:""}.Icon--desktop_access_disabled::before{content:""}.Icon--design_services::before{content:""}.Icon--description::before{content:""}.Icon--departure_board::before{content:""}.Icon--delivery_dining::before{content:""}.Icon--delete_sweep::before{content:""}.Icon--delete_outline::before{content:""}.Icon--delete_forever::before{content:""}.Icon--delete::before{content:""}.Icon--dehaze::before{content:""}.Icon--deck::before{content:""}.Icon--date_range::before{content:""}.Icon--data_usage::before{content:""}.Icon--dashboard_customize::before{content:""}.Icon--dashboard::before{content:""}.Icon--dangerous::before{content:""}.Icon--extension::before{content:""}.Icon--exposure_zero::before{content:""}.Icon--exposure_plus_2::before{content:""}.Icon--exposure_plus_1::before{content:""}.Icon--exposure_neg_2::before{content:""}.Icon--exposure_neg_1::before{content:""}.Icon--exposure_minus_2::before{content:""}.Icon--exposure_minus_1::before{content:""}.Icon--exposure::before{content:""}.Icon--explore_off::before{content:""}.Icon--explore::before{content:""}.Icon--explicit::before{content:""}.Icon--expand_more::before{content:""}.Icon--expand_less::before{content:""}.Icon--expand::before{content:""}.Icon--exit_to_app::before{content:""}.Icon--event_seat::before{content:""}.Icon--event_note::before{content:""}.Icon--event_busy::before{content:""}.Icon--event_available::before{content:""}.Icon--event::before{content:""}.Icon--ev_station::before{content:""}.Icon--euro_symbol::before{content:""}.Icon--euro::before{content:""}.Icon--escalator_warning::before{content:""}.Icon--escalator::before{content:""}.Icon--error_outline::before{content:""}.Icon--error::before{content:""}.Icon--equalizer::before{content:""}.Icon--enhanced_encryption::before{content:""}.Icon--enhance_photo_translate::before{content:""}.Icon--engineering::before{content:""}.Icon--emoji_transportation::before{content:""}.Icon--emoji_symbols::before{content:""}.Icon--emoji_people::before{content:""}.Icon--emoji_objects::before{content:""}.Icon--emoji_nature::before{content:""}.Icon--emoji_food_beverage::before{content:""}.Icon--emoji_flags::before{content:""}.Icon--emoji_events::before{content:""}.Icon--emoji_emotions::before{content:""}.Icon--email::before{content:""}.Icon--elevator::before{content:""}.Icon--electrical_services::before{content:""}.Icon--electric_scooter::before{content:""}.Icon--electric_rickshaw::before{content:""}.Icon--electric_moped::before{content:""}.Icon--electric_car::before{content:""}.Icon--electric_bike::before{content:""}.Icon--eject::before{content:""}.Icon--edit_road::before{content:""}.Icon--edit_off::before{content:""}.Icon--edit_location::before{content:""}.Icon--edit_attributes::before{content:""}.Icon--edit::before{content:""}.Icon--eco::before{content:""}.Icon--east::before{content:""}.Icon--functions::before{content:""}.Icon--fullscreen_exit::before{content:""}.Icon--fullscreen::before{content:""}.Icon--free_breakfast::before{content:""}.Icon--foundation::before{content:""}.Icon--forward_to_inbox::before{content:""}.Icon--forward_5::before{content:""}.Icon--forward_30::before{content:""}.Icon--forward_10::before{content:""}.Icon--forward::before{content:""}.Icon--forum::before{content:""}.Icon--format_underlined::before{content:""}.Icon--format_underline::before{content:""}.Icon--format_textdirection_r_to_l::before{content:""}.Icon--format_textdirection_l_to_r::before{content:""}.Icon--format_strikethrough::before{content:""}.Icon--format_size::before{content:""}.Icon--format_shapes::before{content:""}.Icon--format_quote::before{content:""}.Icon--format_paint::before{content:""}.Icon--format_list_numbered_rtl::before{content:""}.Icon--format_list_numbered::before{content:""}.Icon--format_list_bulleted::before{content:""}.Icon--format_line_spacing::before{content:""}.Icon--format_italic::before{content:""}.Icon--format_indent_increase::before{content:""}.Icon--format_indent_decrease::before{content:""}.Icon--format_color_text::before{content:""}.Icon--format_color_reset::before{content:""}.Icon--format_color_fill::before{content:""}.Icon--format_clear::before{content:""}.Icon--format_bold::before{content:""}.Icon--format_align_right::before{content:""}.Icon--format_align_left::before{content:""}.Icon--format_align_justify::before{content:""}.Icon--format_align_center::before{content:""}.Icon--food_bank::before{content:""}.Icon--font_download::before{content:""}.Icon--folder_special::before{content:""}.Icon--folder_shared::before{content:""}.Icon--folder_open::before{content:""}.Icon--folder::before{content:""}.Icon--flip_to_front::before{content:""}.Icon--flip_to_back::before{content:""}.Icon--flip_camera_ios::before{content:""}.Icon--flip_camera_android::before{content:""}.Icon--flip::before{content:""}.Icon--flight_takeoff::before{content:""}.Icon--flight_land::before{content:""}.Icon--flight::before{content:""}.Icon--flash_on::before{content:""}.Icon--flash_off::before{content:""}.Icon--flash_auto::before{content:""}.Icon--flare::before{content:""}.Icon--flaky::before{content:""}.Icon--flag::before{content:""}.Icon--fitness_center::before{content:""}.Icon--fit_screen::before{content:""}.Icon--first_page::before{content:""}.Icon--fireplace::before{content:""}.Icon--fire_hydrant::before{content:""}.Icon--fire_extinguisher::before{content:""}.Icon--fingerprint::before{content:""}.Icon--find_replace::before{content:""}.Icon--find_in_page::before{content:""}.Icon--filter_vintage::before{content:""}.Icon--filter_tilt_shift::before{content:""}.Icon--filter_none::before{content:""}.Icon--filter_list_alt::before{content:""}.Icon--filter_list::before{content:""}.Icon--filter_hdr::before{content:""}.Icon--filter_frames::before{content:""}.Icon--filter_drama::before{content:""}.Icon--filter_center_focus::before{content:""}.Icon--filter_b_and_w::before{content:""}.Icon--filter_alt::before{content:""}.Icon--filter_9_plus::before{content:""}.Icon--filter_9::before{content:""}.Icon--filter_8::before{content:""}.Icon--filter_7::before{content:""}.Icon--filter_6::before{content:""}.Icon--filter_5::before{content:""}.Icon--filter_4::before{content:""}.Icon--filter_3::before{content:""}.Icon--filter_2::before{content:""}.Icon--filter_1::before{content:""}.Icon--filter::before{content:""}.Icon--file_upload::before{content:""}.Icon--file_present::before{content:""}.Icon--file_download_done::before{content:""}.Icon--file_download::before{content:""}.Icon--file_copy::before{content:""}.Icon--fiber_smart_record::before{content:""}.Icon--fiber_pin::before{content:""}.Icon--fiber_new::before{content:""}.Icon--fiber_manual_record::before{content:""}.Icon--fiber_dvr::before{content:""}.Icon--festival::before{content:""}.Icon--fence::before{content:""}.Icon--feedback::before{content:""}.Icon--featured_video::before{content:""}.Icon--featured_play_list::before{content:""}.Icon--favorite_outline::before{content:""}.Icon--favorite_border::before{content:""}.Icon--favorite::before{content:""}.Icon--fastfood::before{content:""}.Icon--fast_rewind::before{content:""}.Icon--fast_forward::before{content:""}.Icon--family_restroom::before{content:""}.Icon--fact_check::before{content:""}.Icon--face_retouching_natural::before{content:""}.Icon--face::before{content:""}.Icon--group_work::before{content:""}.Icon--group_add::before{content:""}.Icon--group::before{content:""}.Icon--grid_view::before{content:""}.Icon--grid_on::before{content:""}.Icon--grid_off::before{content:""}.Icon--grass::before{content:""}.Icon--graphic_eq::before{content:""}.Icon--grain::before{content:""}.Icon--grading::before{content:""}.Icon--gradient::before{content:""}.Icon--grade::before{content:""}.Icon--gps_off::before{content:""}.Icon--gps_not_fixed::before{content:""}.Icon--gps_fixed::before{content:""}.Icon--golf_course::before{content:""}.Icon--goat::before{content:""}.Icon--gif::before{content:""}.Icon--get_app::before{content:""}.Icon--gesture::before{content:""}.Icon--gavel::before{content:""}.Icon--games::before{content:""}.Icon--gamepad::before{content:""}.Icon--g_translate::before{content:""}.Icon--hvac::before{content:""}.Icon--https::before{content:""}.Icon--http::before{content:""}.Icon--how_to_vote::before{content:""}.Icon--how_to_reg::before{content:""}.Icon--house_siding::before{content:""}.Icon--house::before{content:""}.Icon--hourglass_top::before{content:""}.Icon--hourglass_full::before{content:""}.Icon--hourglass_empty::before{content:""}.Icon--hourglass_disabled::before{content:""}.Icon--hourglass_bottom::before{content:""}.Icon--hotel::before{content:""}.Icon--hot_tub::before{content:""}.Icon--horizontal_split::before{content:""}.Icon--horizontal_rule::before{content:""}.Icon--home_work::before{content:""}.Icon--home_repair_service::before{content:""}.Icon--home_filled::before{content:""}.Icon--home::before{content:""}.Icon--history_toggle_off::before{content:""}.Icon--history_edu::before{content:""}.Icon--history::before{content:""}.Icon--highlight_remove::before{content:""}.Icon--highlight_off::before{content:""}.Icon--highlight_alt::before{content:""}.Icon--highlight::before{content:""}.Icon--high_quality::before{content:""}.Icon--help_outline::before{content:""}.Icon--help_center::before{content:""}.Icon--help::before{content:""}.Icon--height::before{content:""}.Icon--hearing_disabled::before{content:""}.Icon--hearing::before{content:""}.Icon--healing::before{content:""}.Icon--headset_off::before{content:""}.Icon--headset_mic::before{content:""}.Icon--headset::before{content:""}.Icon--hdr_weak::before{content:""}.Icon--hdr_strong::before{content:""}.Icon--hdr_on::before{content:""}.Icon--hdr_off::before{content:""}.Icon--hdr_enhanced_select::before{content:""}.Icon--hd::before{content:""}.Icon--hardware::before{content:""}.Icon--handyman::before{content:""}.Icon--hail::before{content:""}.Icon--iso::before{content:""}.Icon--ios_share::before{content:""}.Icon--invert_colors_on::before{content:""}.Icon--invert_colors_off::before{content:""}.Icon--invert_colors::before{content:""}.Icon--inventory::before{content:""}.Icon--integration_instructions::before{content:""}.Icon--insights::before{content:""}.Icon--insert_photo::before{content:""}.Icon--insert_link::before{content:""}.Icon--insert_invitation::before{content:""}.Icon--insert_emoticon::before{content:""}.Icon--insert_drive_file::before{content:""}.Icon--insert_comment::before{content:""}.Icon--insert_chart_outlined::before{content:""}.Icon--insert_chart::before{content:""}.Icon--input::before{content:""}.Icon--info_outline::before{content:""}.Icon--info::before{content:""}.Icon--indeterminate_check_box::before{content:""}.Icon--inbox::before{content:""}.Icon--important_devices::before{content:""}.Icon--import_export::before{content:""}.Icon--import_contacts::before{content:""}.Icon--imagesearch_roller::before{content:""}.Icon--image_search::before{content:""}.Icon--image_not_supported::before{content:""}.Icon--image_aspect_ratio::before{content:""}.Icon--image::before{content:""}.Icon--icecream::before{content:""}.Icon--keyboard_arrow_right::before{content:""}.Icon--keyboard_arrow_left::before{content:""}.Icon--keyboard_arrow_down::before{content:""}.Icon--keyboard_backspace::before{content:""}.Icon--keyboard_arrow_up::before{content:""}.Icon--keyboard_capslock::before{content:""}.Icon--keyboard_control::before{content:""}.Icon--keyboard_return::before{content:""}.Icon--keyboard_voice::before{content:""}.Icon--keyboard_hide::before{content:""}.Icon--keyboard_tab::before{content:""}.Icon--king_bed::before{content:""}.Icon--keyboard::before{content:""}.Icon--kitchen::before{content:""}.Icon--lunch_dining::before{content:""}.Icon--loyalty::before{content:""}.Icon--low_priority::before{content:""}.Icon--loupe::before{content:""}.Icon--loop::before{content:""}.Icon--looks_two::before{content:""}.Icon--looks_one::before{content:""}.Icon--looks_6::before{content:""}.Icon--looks_5::before{content:""}.Icon--looks_4::before{content:""}.Icon--looks_3::before{content:""}.Icon--looks::before{content:""}.Icon--logout::before{content:""}.Icon--login::before{content:""}.Icon--lock_outline::before{content:""}.Icon--lock_open::before{content:""}.Icon--lock_clock::before{content:""}.Icon--lock::before{content:""}.Icon--location_searching::before{content:""}.Icon--location_pin::before{content:""}.Icon--location_on::before{content:""}.Icon--location_off::before{content:""}.Icon--location_history::before{content:""}.Icon--location_disabled::before{content:""}.Icon--location_city::before{content:""}.Icon--local_taxi::before{content:""}.Icon--local_shipping::before{content:""}.Icon--local_see::before{content:""}.Icon--local_restaurant::before{content:""}.Icon--local_printshop::before{content:""}.Icon--local_print_shop::before{content:""}.Icon--local_post_office::before{content:""}.Icon--local_police::before{content:""}.Icon--local_play::before{content:""}.Icon--local_pizza::before{content:""}.Icon--local_phone::before{content:""}.Icon--local_pharmacy::before{content:""}.Icon--local_parking::before{content:""}.Icon--local_offer::before{content:""}.Icon--local_movies::before{content:""}.Icon--local_mall::before{content:""}.Icon--local_library::before{content:""}.Icon--local_laundry_service::before{content:""}.Icon--local_hotel::before{content:""}.Icon--local_hospital::before{content:""}.Icon--local_grocery_store::before{content:""}.Icon--local_gas_station::before{content:""}.Icon--local_florist::before{content:""}.Icon--local_fire_department::before{content:""}.Icon--local_drink::before{content:""}.Icon--local_dining::before{content:""}.Icon--local_convenience_store::before{content:""}.Icon--local_car_wash::before{content:""}.Icon--local_cafe::before{content:""}.Icon--local_bar::before{content:""}.Icon--local_attraction::before{content:""}.Icon--local_atm::before{content:""}.Icon--local_airport::before{content:""}.Icon--local_activity::before{content:""}.Icon--live_tv::before{content:""}.Icon--live_help::before{content:""}.Icon--list_alt::before{content:""}.Icon--list::before{content:""}.Icon--liquor::before{content:""}.Icon--linked_camera::before{content:""}.Icon--link_off::before{content:""}.Icon--link::before{content:""}.Icon--linear_scale::before{content:""}.Icon--line_weight::before{content:""}.Icon--line_style::before{content:""}.Icon--lightbulb_outline::before{content:""}.Icon--lightbulb::before{content:""}.Icon--library_music::before{content:""}.Icon--library_books::before{content:""}.Icon--library_add_check::before{content:""}.Icon--library_add::before{content:""}.Icon--lens::before{content:""}.Icon--legend_toggle::before{content:""}.Icon--leak_remove::before{content:""}.Icon--leak_add::before{content:""}.Icon--layers_clear::before{content:""}.Icon--layers::before{content:""}.Icon--launch::before{content:""}.Icon--last_page::before{content:""}.Icon--laptop_windows::before{content:""}.Icon--laptop_mac::before{content:""}.Icon--laptop_chromebook::before{content:""}.Icon--laptop::before{content:""}.Icon--language::before{content:""}.Icon--landscape::before{content:""}.Icon--label_outline::before{content:""}.Icon--label_off::before{content:""}.Icon--label_important_outline::before{content:""}.Icon--label_important::before{content:""}.Icon--label::before{content:""}.Icon--my_location::before{content:""}.Icon--my_library_music::before{content:""}.Icon--my_library_books::before{content:""}.Icon--my_library_add::before{content:""}.Icon--music_video::before{content:""}.Icon--music_off::before{content:""}.Icon--music_note::before{content:""}.Icon--museum::before{content:""}.Icon--multitrack_audio::before{content:""}.Icon--multiple_stop::before{content:""}.Icon--multiline_chart::before{content:""}.Icon--mp::before{content:""}.Icon--movie_filter::before{content:""}.Icon--movie_creation::before{content:""}.Icon--movie::before{content:""}.Icon--move_to_inbox::before{content:""}.Icon--mouse::before{content:""}.Icon--motorcycle::before{content:""}.Icon--motion_photos_paused::before{content:""}.Icon--motion_photos_on::before{content:""}.Icon--motion_photos_off::before{content:""}.Icon--more_vert::before{content:""}.Icon--more_time::before{content:""}.Icon--more_horiz::before{content:""}.Icon--more::before{content:""}.Icon--moped::before{content:""}.Icon--mood_bad::before{content:""}.Icon--mood::before{content:""}.Icon--monochrome_photos::before{content:""}.Icon--monitor::before{content:""}.Icon--money_off::before{content:""}.Icon--money::before{content:""}.Icon--monetization_on::before{content:""}.Icon--model_training::before{content:""}.Icon--mode_edit::before{content:""}.Icon--mode_comment::before{content:""}.Icon--mobile_screen_share::before{content:""}.Icon--mobile_off::before{content:""}.Icon--mobile_friendly::before{content:""}.Icon--mms::before{content:""}.Icon--missed_video_call::before{content:""}.Icon--miscellaneous_services::before{content:""}.Icon--minimize::before{content:""}.Icon--military_tech::before{content:""}.Icon--microwave::before{content:""}.Icon--mic_off::before{content:""}.Icon--mic_none::before{content:""}.Icon--mic_external_on::before{content:""}.Icon--mic_external_off::before{content:""}.Icon--mic::before{content:""}.Icon--messenger_outline::before{content:""}.Icon--messenger::before{content:""}.Icon--message::before{content:""}.Icon--merge_type::before{content:""}.Icon--menu_open::before{content:""}.Icon--menu_book::before{content:""}.Icon--menu::before{content:""}.Icon--memory::before{content:""}.Icon--meeting_room::before{content:""}.Icon--medical_services::before{content:""}.Icon--mediation::before{content:""}.Icon--maximize::before{content:""}.Icon--markunread_mailbox::before{content:""}.Icon--markunread::before{content:""}.Icon--mark_email_unread::before{content:""}.Icon--mark_email_read::before{content:""}.Icon--mark_chat_unread::before{content:""}.Icon--mark_chat_read::before{content:""}.Icon--mark_as_unread::before{content:""}.Icon--margin::before{content:""}.Icon--maps_ugc::before{content:""}.Icon--map::before{content:""}.Icon--mail_outline::before{content:""}.Icon--mail::before{content:""}.Icon--now_widgets::before{content:""}.Icon--now_wallpaper::before{content:""}.Icon--notifications_paused::before{content:""}.Icon--notifications_on::before{content:""}.Icon--notifications_off::before{content:""}.Icon--notifications_none::before{content:""}.Icon--notifications_active::before{content:""}.Icon--notifications::before{content:""}.Icon--notification_important::before{content:""}.Icon--notes::before{content:""}.Icon--note_add::before{content:""}.Icon--note::before{content:""}.Icon--not_started::before{content:""}.Icon--not_listed_location::before{content:""}.Icon--not_interested::before{content:""}.Icon--not_accessible::before{content:""}.Icon--north_west::before{content:""}.Icon--north_east::before{content:""}.Icon--north::before{content:""}.Icon--no_transfer::before{content:""}.Icon--no_stroller::before{content:""}.Icon--no_sim::before{content:""}.Icon--no_photography::before{content:""}.Icon--no_meeting_room::before{content:""}.Icon--no_meals::before{content:""}.Icon--no_food::before{content:""}.Icon--no_flash::before{content:""}.Icon--no_encryption::before{content:""}.Icon--no_drinks::before{content:""}.Icon--no_cell::before{content:""}.Icon--nights_stay::before{content:""}.Icon--nightlight_round::before{content:""}.Icon--nightlife::before{content:""}.Icon--night_shelter::before{content:""}.Icon--nfc::before{content:""}.Icon--next_week::before{content:""}.Icon--next_plan::before{content:""}.Icon--new_releases::before{content:""}.Icon--network_wifi::before{content:""}.Icon--network_locked::before{content:""}.Icon--network_check::before{content:""}.Icon--network_cell::before{content:""}.Icon--near_me_disabled::before{content:""}.Icon--near_me::before{content:""}.Icon--navigation::before{content:""}.Icon--navigate_next::before{content:""}.Icon--navigate_before::before{content:""}.Icon--nature_people::before{content:""}.Icon--nature::before{content:""}.Icon--nat::before{content:""}.Icon--outlined_flag::before{content:""}.Icon--outlet::before{content:""}.Icon--outgoing_mail::before{content:""}.Icon--outdoor_grill::before{content:""}.Icon--outbox::before{content:""}.Icon--open_with::before{content:""}.Icon--open_in_new::before{content:""}.Icon--open_in_full::before{content:""}.Icon--open_in_browser::before{content:""}.Icon--opacity::before{content:""}.Icon--online_prediction::before{content:""}.Icon--ondemand_video::before{content:""}.Icon--offline_share::before{content:""}.Icon--offline_pin::before{content:""}.Icon--offline_bolt::before{content:""}.Icon--push_pin::before{content:""}.Icon--publish::before{content:""}.Icon--public_off::before{content:""}.Icon--public::before{content:""}.Icon--psychology::before{content:""}.Icon--privacy_tip::before{content:""}.Icon--priority_high::before{content:""}.Icon--print_disabled::before{content:""}.Icon--print::before{content:""}.Icon--preview::before{content:""}.Icon--present_to_all::before{content:""}.Icon--pregnant_woman::before{content:""}.Icon--power_settings_new::before{content:""}.Icon--power_off::before{content:""}.Icon--power_input::before{content:""}.Icon--power::before{content:""}.Icon--post_add::before{content:""}.Icon--portrait::before{content:""}.Icon--portable_wifi_off::before{content:""}.Icon--pool::before{content:""}.Icon--polymer::before{content:""}.Icon--poll::before{content:""}.Icon--policy::before{content:""}.Icon--point_of_sale::before{content:""}.Icon--plus_one::before{content:""}.Icon--plumbing::before{content:""}.Icon--playlist_play::before{content:""}.Icon--playlist_add_check::before{content:""}.Icon--playlist_add::before{content:""}.Icon--play_for_work::before{content:""}.Icon--play_disabled::before{content:""}.Icon--play_circle_outline::before{content:""}.Icon--play_circle_filled::before{content:""}.Icon--play_circle_fill::before{content:""}.Icon--play_arrow::before{content:""}.Icon--plagiarism::before{content:""}.Icon--place::before{content:""}.Icon--pivot_table_chart::before{content:""}.Icon--pin_drop::before{content:""}.Icon--pie_chart_outlined::before{content:""}.Icon--pie_chart::before{content:""}.Icon--picture_in_picture_alt::before{content:""}.Icon--picture_in_picture::before{content:""}.Icon--picture_as_pdf::before{content:""}.Icon--photo_size_select_small::before{content:""}.Icon--photo_size_select_large::before{content:""}.Icon--photo_size_select_actual::before{content:""}.Icon--photo_library::before{content:""}.Icon--photo_filter::before{content:""}.Icon--photo_camera_front::before{content:""}.Icon--photo_camera_back::before{content:""}.Icon--photo_camera::before{content:""}.Icon--photo_album::before{content:""}.Icon--photo::before{content:""}.Icon--phonelink_setup::before{content:""}.Icon--phonelink_ring::before{content:""}.Icon--phonelink_off::before{content:""}.Icon--phonelink_lock::before{content:""}.Icon--phonelink_erase::before{content:""}.Icon--phonelink::before{content:""}.Icon--phone_paused::before{content:""}.Icon--phone_missed::before{content:""}.Icon--phone_locked::before{content:""}.Icon--phone_iphone::before{content:""}.Icon--phone_in_talk::before{content:""}.Icon--phone_forwarded::before{content:""}.Icon--phone_enabled::before{content:""}.Icon--phone_disabled::before{content:""}.Icon--phone_callback::before{content:""}.Icon--phone_bluetooth_speaker::before{content:""}.Icon--phone_android::before{content:""}.Icon--phone::before{content:""}.Icon--pets::before{content:""}.Icon--pest_control_rodent::before{content:""}.Icon--pest_control::before{content:""}.Icon--personal_video::before{content:""}.Icon--person_search::before{content:""}.Icon--person_remove_alt_1::before{content:""}.Icon--person_remove::before{content:""}.Icon--person_pin_circle::before{content:""}.Icon--person_pin::before{content:""}.Icon--person_outline::before{content:""}.Icon--person_add_disabled::before{content:""}.Icon--person_add_alt_1::before{content:""}.Icon--person_add_alt::before{content:""}.Icon--person_add::before{content:""}.Icon--person::before{content:""}.Icon--perm_scan_wifi::before{content:""}.Icon--perm_phone_msg::before{content:""}.Icon--perm_media::before{content:""}.Icon--perm_identity::before{content:""}.Icon--perm_device_information::before{content:""}.Icon--perm_device_info::before{content:""}.Icon--perm_data_setting::before{content:""}.Icon--perm_contact_calendar::before{content:""}.Icon--perm_contact_cal::before{content:""}.Icon--perm_camera_mic::before{content:""}.Icon--people_outline::before{content:""}.Icon--people_alt::before{content:""}.Icon--people::before{content:""}.Icon--pending_actions::before{content:""}.Icon--pending::before{content:""}.Icon--pedal_bike::before{content:""}.Icon--payments::before{content:""}.Icon--payment::before{content:""}.Icon--pause_presentation::before{content:""}.Icon--pause_circle_outline::before{content:""}.Icon--pause_circle_filled::before{content:""}.Icon--pause::before{content:""}.Icon--party_mode::before{content:""}.Icon--park::before{content:""}.Icon--panorama_wide_angle_select::before{content:""}.Icon--panorama_wide_angle::before{content:""}.Icon--panorama_vertical_select::before{content:""}.Icon--panorama_vertical::before{content:""}.Icon--panorama_photosphere_select::before{content:""}.Icon--panorama_photosphere::before{content:""}.Icon--panorama_horizontal_select::before{content:""}.Icon--panorama_horizontal::before{content:""}.Icon--panorama_fisheye::before{content:""}.Icon--panorama_fish_eye::before{content:""}.Icon--panorama::before{content:""}.Icon--pan_tool::before{content:""}.Icon--palette::before{content:""}.Icon--pageview::before{content:""}.Icon--pages::before{content:""}.Icon--padding::before{content:""}.Icon--quickreply::before{content:""}.Icon--quick_contacts_mail::before{content:""}.Icon--quick_contacts_dialer::before{content:""}.Icon--queue_play_next::before{content:""}.Icon--queue_music::before{content:""}.Icon--queue::before{content:""}.Icon--question_answer::before{content:""}.Icon--query_builder::before{content:""}.Icon--qr_code_scanner::before{content:""}.Icon--qr_code::before{content:""}.Icon--rv_hookup::before{content:""}.Icon--run_circle::before{content:""}.Icon--rule_folder::before{content:""}.Icon--rule::before{content:""}.Icon--rtt::before{content:""}.Icon--rss_feed::before{content:""}.Icon--rowing::before{content:""}.Icon--router::before{content:""}.Icon--rounded_corner::before{content:""}.Icon--rotate_right::before{content:""}.Icon--rotate_left::before{content:""}.Icon--rotate_90_degrees_ccw::before{content:""}.Icon--room_service::before{content:""}.Icon--room_preferences::before{content:""}.Icon--room::before{content:""}.Icon--roofing::before{content:""}.Icon--ring_volume::before{content:""}.Icon--rice_bowl::before{content:""}.Icon--restore_page::before{content:""}.Icon--restore_from_trash::before{content:""}.Icon--restore::before{content:""}.Icon--restaurant_menu::before{content:""}.Icon--restaurant::before{content:""}.Icon--reset_tv::before{content:""}.Icon--request_quote::before{content:""}.Icon--report_problem::before{content:""}.Icon--report_off::before{content:""}.Icon--report::before{content:""}.Icon--reply_all::before{content:""}.Icon--reply::before{content:""}.Icon--replay_circle_filled::before{content:""}.Icon--replay_5::before{content:""}.Icon--replay_30::before{content:""}.Icon--replay_10::before{content:""}.Icon--replay::before{content:""}.Icon--repeat_one_on::before{content:""}.Icon--repeat_one::before{content:""}.Icon--repeat_on::before{content:""}.Icon--repeat::before{content:""}.Icon--reorder::before{content:""}.Icon--remove_shopping_cart::before{content:""}.Icon--remove_red_eye::before{content:""}.Icon--remove_moderator::before{content:""}.Icon--remove_from_queue::before{content:""}.Icon--remove_done::before{content:""}.Icon--remove_circle_outline::before{content:""}.Icon--remove_circle::before{content:""}.Icon--remove::before{content:""}.Icon--refresh::before{content:""}.Icon--redo::before{content:""}.Icon--redeem::before{content:""}.Icon--record_voice_over::before{content:""}.Icon--recommend::before{content:""}.Icon--recent_actors::before{content:""}.Icon--receipt_long::before{content:""}.Icon--receipt::before{content:""}.Icon--read_more::before{content:""}.Icon--rate_review::before{content:""}.Icon--ramen_dining::before{content:""}.Icon--railway_alert::before{content:""}.Icon--radio_button_unchecked::before{content:""}.Icon--radio_button_on::before{content:""}.Icon--radio_button_off::before{content:""}.Icon--radio_button_checked::before{content:""}.Icon--radio::before{content:""}.Icon--system_update_tv::before{content:""}.Icon--system_update_alt::before{content:""}.Icon--system_update::before{content:""}.Icon--sync_problem::before{content:""}.Icon--sync_disabled::before{content:""}.Icon--sync_alt::before{content:""}.Icon--sync::before{content:""}.Icon--switch_video::before{content:""}.Icon--switch_right::before{content:""}.Icon--switch_left::before{content:""}.Icon--switch_camera::before{content:""}.Icon--switch_account::before{content:""}.Icon--swipe::before{content:""}.Icon--swap_vertical_circle::before{content:""}.Icon--swap_vert_circle::before{content:""}.Icon--swap_vert::before{content:""}.Icon--swap_horizontal_circle::before{content:""}.Icon--swap_horiz::before{content:""}.Icon--swap_calls::before{content:""}.Icon--surround_sound::before{content:""}.Icon--support_agent::before{content:""}.Icon--support::before{content:""}.Icon--supervisor_account::before{content:""}.Icon--supervised_user_circle::before{content:""}.Icon--superscript::before{content:""}.Icon--subway::before{content:""}.Icon--subtitles_off::before{content:""}.Icon--subtitles::before{content:""}.Icon--subscriptions::before{content:""}.Icon--subscript::before{content:""}.Icon--subject::before{content:""}.Icon--subdirectory_arrow_right::before{content:""}.Icon--subdirectory_arrow_left::before{content:""}.Icon--style::before{content:""}.Icon--stroller::before{content:""}.Icon--strikethrough_s::before{content:""}.Icon--streetview::before{content:""}.Icon--stream::before{content:""}.Icon--straighten::before{content:""}.Icon--storefront::before{content:""}.Icon--store_mall_directory::before{content:""}.Icon--store::before{content:""}.Icon--storage::before{content:""}.Icon--stop_screen_share::before{content:""}.Icon--stop_circle::before{content:""}.Icon--stop::before{content:""}.Icon--sticky_note_2::before{content:""}.Icon--stay_primary_portrait::before{content:""}.Icon--stay_primary_landscape::before{content:""}.Icon--stay_current_portrait::before{content:""}.Icon--stay_current_landscape::before{content:""}.Icon--stars::before{content:""}.Icon--star_rate::before{content:""}.Icon--star_outline::before{content:""}.Icon--star_half::before{content:""}.Icon--star_border::before{content:""}.Icon--star::before{content:""}.Icon--stairs::before{content:""}.Icon--stacked_bar_chart::before{content:""}.Icon--square_foot::before{content:""}.Icon--sports_volleyball::before{content:""}.Icon--sports_tennis::before{content:""}.Icon--sports_soccer::before{content:""}.Icon--sports_rugby::before{content:""}.Icon--sports_motorsports::before{content:""}.Icon--sports_mma::before{content:""}.Icon--sports_kabaddi::before{content:""}.Icon--sports_hockey::before{content:""}.Icon--sports_handball::before{content:""}.Icon--sports_golf::before{content:""}.Icon--sports_football::before{content:""}.Icon--sports_esports::before{content:""}.Icon--sports_cricket::before{content:""}.Icon--sports_basketball::before{content:""}.Icon--sports_baseball::before{content:""}.Icon--sports_bar::before{content:""}.Icon--sports::before{content:""}.Icon--spellcheck::before{content:""}.Icon--speed::before{content:""}.Icon--speaker_phone::before{content:""}.Icon--speaker_notes_off::before{content:""}.Icon--speaker_notes::before{content:""}.Icon--speaker_group::before{content:""}.Icon--speaker::before{content:""}.Icon--space_bar::before{content:""}.Icon--spa::before{content:""}.Icon--south_west::before{content:""}.Icon--south_east::before{content:""}.Icon--south::before{content:""}.Icon--source::before{content:""}.Icon--sort_by_alpha::before{content:""}.Icon--sort::before{content:""}.Icon--soap::before{content:""}.Icon--snooze::before{content:""}.Icon--snippet_folder::before{content:""}.Icon--sms_failed::before{content:""}.Icon--sms::before{content:""}.Icon--smoking_rooms::before{content:""}.Icon--smoke_free::before{content:""}.Icon--smartphone::before{content:""}.Icon--smart_button::before{content:""}.Icon--slow_motion_video::before{content:""}.Icon--slideshow::before{content:""}.Icon--skip_previous::before{content:""}.Icon--skip_next::before{content:""}.Icon--single_bed::before{content:""}.Icon--sim_card_alert::before{content:""}.Icon--sim_card::before{content:""}.Icon--signal_wifi_off::before{content:""}.Icon--signal_wifi_4_bar_lock::before{content:""}.Icon--signal_wifi_4_bar::before{content:""}.Icon--signal_wifi_0_bar::before{content:""}.Icon--signal_cellular_off::before{content:""}.Icon--signal_cellular_null::before{content:""}.Icon--signal_cellular_no_sim::before{content:""}.Icon--signal_cellular_connected_no_internet_4_bar::before{content:""}.Icon--signal_cellular_alt::before{content:""}.Icon--signal_cellular_4_bar::before{content:""}.Icon--signal_cellular_0_bar::before{content:""}.Icon--shutter_speed::before{content:""}.Icon--shuffle_on::before{content:""}.Icon--shuffle::before{content:""}.Icon--show_chart::before{content:""}.Icon--short_text::before{content:""}.Icon--shopping_cart::before{content:""}.Icon--shopping_basket::before{content:""}.Icon--shopping_bag::before{content:""}.Icon--shop_two::before{content:""}.Icon--shop::before{content:""}.Icon--shield::before{content:""}.Icon--share::before{content:""}.Icon--settings_voice::before{content:""}.Icon--settings_system_daydream::before{content:""}.Icon--settings_remote::before{content:""}.Icon--settings_power::before{content:""}.Icon--settings_phone::before{content:""}.Icon--settings_overscan::before{content:""}.Icon--settings_input_svideo::before{content:""}.Icon--settings_input_hdmi::before{content:""}.Icon--settings_input_composite::before{content:""}.Icon--settings_input_component::before{content:""}.Icon--settings_input_antenna::before{content:""}.Icon--settings_ethernet::before{content:""}.Icon--settings_display::before{content:""}.Icon--settings_cell::before{content:""}.Icon--settings_brightness::before{content:""}.Icon--settings_bluetooth::before{content:""}.Icon--settings_backup_restore::before{content:""}.Icon--settings_applications::before{content:""}.Icon--settings::before{content:""}.Icon--set_meal::before{content:""}.Icon--sentiment_very_satisfied::before{content:""}.Icon--sentiment_very_dissatisfied::before{content:""}.Icon--sentiment_satisfied_alt::before{content:""}.Icon--sentiment_satisfied::before{content:""}.Icon--sentiment_neutral::before{content:""}.Icon--sentiment_dissatisfied::before{content:""}.Icon--sensor_window::before{content:""}.Icon--sensor_door::before{content:""}.Icon--send_and_archive::before{content:""}.Icon--send::before{content:""}.Icon--self_improvement::before{content:""}.Icon--select_all::before{content:""}.Icon--segment::before{content:""}.Icon--security::before{content:""}.Icon--search_off::before{content:""}.Icon--search::before{content:""}.Icon--sd_storage::before{content:""}.Icon--sd_card::before{content:""}.Icon--sd::before{content:""}.Icon--screen_share::before{content:""}.Icon--screen_search_desktop::before{content:""}.Icon--screen_rotation::before{content:""}.Icon--screen_lock_rotation::before{content:""}.Icon--screen_lock_portrait::before{content:""}.Icon--screen_lock_landscape::before{content:""}.Icon--score::before{content:""}.Icon--science::before{content:""}.Icon--school::before{content:""}.Icon--schedule_send::before{content:""}.Icon--schedule::before{content:""}.Icon--scatter_plot::before{content:""}.Icon--scanner::before{content:""}.Icon--saved_search::before{content:""}.Icon--save_alt::before{content:""}.Icon--save::before{content:""}.Icon--satellite::before{content:""}.Icon--two_wheeler::before{content:""}.Icon--tv_off::before{content:""}.Icon--tv::before{content:""}.Icon--turned_in_not::before{content:""}.Icon--turned_in::before{content:""}.Icon--tune::before{content:""}.Icon--tty::before{content:""}.Icon--trip_origin::before{content:""}.Icon--trending_up::before{content:""}.Icon--trending_neutral::before{content:""}.Icon--trending_flat::before{content:""}.Icon--trending_down::before{content:""}.Icon--translate::before{content:""}.Icon--transit_enterexit::before{content:""}.Icon--transform::before{content:""}.Icon--transfer_within_a_station::before{content:""}.Icon--tram::before{content:""}.Icon--train::before{content:""}.Icon--traffic::before{content:""}.Icon--track_changes::before{content:""}.Icon--toys::before{content:""}.Icon--tour::before{content:""}.Icon--touch_app::before{content:""}.Icon--topic::before{content:""}.Icon--tonality::before{content:""}.Icon--toll::before{content:""}.Icon--toggle_on::before{content:""}.Icon--toggle_off::before{content:""}.Icon--today::before{content:""}.Icon--toc::before{content:""}.Icon--title::before{content:""}.Icon--timer_off::before{content:""}.Icon--timer_3::before{content:""}.Icon--timer_10::before{content:""}.Icon--timer::before{content:""}.Icon--timeline::before{content:""}.Icon--timelapse::before{content:""}.Icon--time_to_leave::before{content:""}.Icon--thumbs_up_down::before{content:""}.Icon--thumb_up_off_alt::before{content:""}.Icon--thumb_up_alt::before{content:""}.Icon--thumb_up::before{content:""}.Icon--thumb_down_off_alt::before{content:""}.Icon--thumb_down_alt::before{content:""}.Icon--thumb_down::before{content:""}.Icon--theaters::before{content:""}.Icon--theater_comedy::before{content:""}.Icon--texture::before{content:""}.Icon--textsms::before{content:""}.Icon--text_snippet::before{content:""}.Icon--text_rotation_none::before{content:""}.Icon--text_rotation_down::before{content:""}.Icon--text_rotation_angleup::before{content:""}.Icon--text_rotation_angledown::before{content:""}.Icon--text_rotate_vertical::before{content:""}.Icon--text_rotate_up::before{content:""}.Icon--text_format::before{content:""}.Icon--text_fields::before{content:""}.Icon--terrain::before{content:""}.Icon--taxi_alert::before{content:""}.Icon--tapas::before{content:""}.Icon--tap_and_play::before{content:""}.Icon--takeout_dining::before{content:""}.Icon--tag_faces::before{content:""}.Icon--tag::before{content:""}.Icon--tablet_mac::before{content:""}.Icon--tablet_android::before{content:""}.Icon--tablet::before{content:""}.Icon--table_view::before{content:""}.Icon--table_rows::before{content:""}.Icon--table_chart::before{content:""}.Icon--tab_unselected::before{content:""}.Icon--tab::before{content:""}.Icon--usb::before{content:""}.Icon--upload_file::before{content:""}.Icon--upgrade::before{content:""}.Icon--update::before{content:""}.Icon--unsubscribe::before{content:""}.Icon--unfold_more::before{content:""}.Icon--unfold_less::before{content:""}.Icon--undo::before{content:""}.Icon--unarchive::before{content:""}.Icon--umbrella::before{content:""}.Icon--vpn_lock::before{content:""}.Icon--vpn_key::before{content:""}.Icon--volunteer_activism::before{content:""}.Icon--volume_up::before{content:""}.Icon--volume_off::before{content:""}.Icon--volume_mute::before{content:""}.Icon--volume_down::before{content:""}.Icon--voicemail::before{content:""}.Icon--voice_over_off::before{content:""}.Icon--voice_chat::before{content:""}.Icon--visibility_off::before{content:""}.Icon--visibility::before{content:""}.Icon--vignette::before{content:""}.Icon--view_week::before{content:""}.Icon--view_stream::before{content:""}.Icon--view_sidebar::before{content:""}.Icon--view_quilt::before{content:""}.Icon--view_module::before{content:""}.Icon--view_list::before{content:""}.Icon--view_in_ar::before{content:""}.Icon--view_headline::before{content:""}.Icon--view_day::before{content:""}.Icon--view_compact::before{content:""}.Icon--view_comfy::before{content:""}.Icon--view_comfortable::before{content:""}.Icon--view_column::before{content:""}.Icon--view_carousel::before{content:""}.Icon--view_array::before{content:""}.Icon--view_agenda::before{content:""}.Icon--videogame_asset::before{content:""}.Icon--videocam_off::before{content:""}.Icon--videocam::before{content:""}.Icon--video_settings::before{content:""}.Icon--video_library::before{content:""}.Icon--video_label::before{content:""}.Icon--video_collection::before{content:""}.Icon--video_call::before{content:""}.Icon--vibration::before{content:""}.Icon--vertical_split::before{content:""}.Icon--vertical_align_top::before{content:""}.Icon--vertical_align_center::before{content:""}.Icon--vertical_align_bottom::before{content:""}.Icon--verified_user::before{content:""}.Icon--verified::before{content:""}.Icon--wysiwyg::before{content:""}.Icon--wrong_location::before{content:""}.Icon--wrap_text::before{content:""}.Icon--workspaces_outline::before{content:""}.Icon--workspaces_filled::before{content:""}.Icon--work_outline::before{content:""}.Icon--work_off::before{content:""}.Icon--work::before{content:""}.Icon--wine_bar::before{content:""}.Icon--wifi_tethering::before{content:""}.Icon--wifi_protected_setup::before{content:""}.Icon--wifi_off::before{content:""}.Icon--wifi_lock::before{content:""}.Icon--wifi_calling::before{content:""}.Icon--wifi::before{content:""}.Icon--widgets::before{content:""}.Icon--where_to_vote::before{content:""}.Icon--wheelchair_pickup::before{content:""}.Icon--whatshot::before{content:""}.Icon--west::before{content:""}.Icon--weekend::before{content:""}.Icon--web_asset::before{content:""}.Icon--web::before{content:""}.Icon--wc::before{content:""}.Icon--wb_twighlight::before{content:""}.Icon--wb_sunny::before{content:""}.Icon--wb_shade::before{content:""}.Icon--wb_iridescent::before{content:""}.Icon--wb_incandescent::before{content:""}.Icon--wb_cloudy::before{content:""}.Icon--wb_auto::before{content:""}.Icon--waves::before{content:""}.Icon--waterfall_chart::before{content:""}.Icon--water_damage::before{content:""}.Icon--watch_later::before{content:""}.Icon--watch::before{content:""}.Icon--wash::before{content:""}.Icon--warning::before{content:""}.Icon--wallpaper::before{content:""}.Icon--wallet_travel::before{content:""}.Icon--wallet_membership::before{content:""}.Icon--wallet_giftcard::before{content:""}.Icon--youtube_searched_for::before{content:""}.Icon--zoom_out_map::before{content:""}.Icon--zoom_out::before{content:""}.Icon--zoom_in::before{content:""}.Icon--github{background-image:url('+a+");background-repeat:no-repeat;background-size:contain;background-position:center center;width:24px;height:24px}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),t.default=n.p+"4a941169b75b0c035ea3fdc85afb4d8c.png"},function(e,t,n){var o=n(10),r=n(114);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,"@keyframes contextOpen{from{opacity:0}to{opacity:1}}.ContextMenu{position:fixed;z-index:100}.ContextMenu--sizing{visibility:hidden;pointer-events:none}.ContextMenu--visible{animation:contextOpen 100ms linear}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(116);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".DropDown{position:relative;max-width:250px;box-shadow:3px 3px 9px -5px rgba(0,0,0,.75);background:#ededed;border:1px solid #e6e6e6}.dark-mode .DropDown{background:#3d3d3d;border:1px solid #424242}.DropDown__Item{display:block;padding:10px;position:relative;width:250px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:2px solid #e6e6e6}.dark-mode .DropDown__Item{border-bottom:2px solid #424242}.DropDown__Item:last-child{border-bottom:none}.DropDown__Item--with-click{cursor:pointer}.DropDown__Item--with-click:hover{background:#e4e4e4}.dark-mode .DropDown__Item--with-click:hover{background:#4b4b4b}.DropDown__Item--selected{background:#dbdbdb}.dark-mode .DropDown__Item--selected{background:#5a5a5a}.DropDown__Item--selected:hover{background:#d2d2d2}.dark-mode .DropDown__Item--selected:hover{background:#646464}.DropDown__Icon{display:inline-block;text-align:center;margin-right:10px}.DropDown__Label{vertical-align:middle}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(118);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,"@keyframes inputBorderAppear{from{opacity:0}to{opacity:1}}.Input{display:inline-block;width:100%;position:relative}.Input__Icon{pointer-events:none;position:absolute;top:50%;left:0px;transform:translateY(-50%);width:34px;text-align:center}.Input__Basic{width:100%;height:100%;border:none;outline:none;background:transparent;font-family:inherit;line-height:inherit;font-size:inherit;letter-spacing:inherit;padding-top:5px;padding-bottom:5px;border-bottom:1px solid #e6e6e6;color:#2e2e2e}.dark-mode .Input__Basic{border-bottom:1px solid #424242;color:#ebebeb}.Input__Basic--with-icon{padding-left:34px}.Input__Basic::placeholder{font-weight:600;color:#646464}.dark-mode .Input__Basic::placeholder{color:#a8a8a8}.Input__ThemeBorder{animation:inputBorderAppear 100ms linear}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(120);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".ThemeBorder__BorderRight,.ThemeBorder__BorderBottom,.ThemeBorder__BorderTop,.ThemeBorder__BorderLeft{position:absolute;pointer-events:none}.ThemeBorder__BorderLeft{left:0px;top:15%;bottom:15%}.ThemeBorder__BorderRight{right:0px;top:15%;bottom:15%}.ThemeBorder__BorderTop{top:0px;left:15%;right:15%}.ThemeBorder__BorderBottom{bottom:0px;left:15%;right:15%}.ThemeBorder__BorderTop,.ThemeBorder__BorderBottom{background:linear-gradient(to right, rgba(163, 3, 22, 0), #a30316, #a30316, rgba(163, 3, 22, 0))}.dark-mode .ThemeBorder__BorderTop,.dark-mode .ThemeBorder__BorderBottom{background:linear-gradient(to right, rgba(163, 3, 22, 0), #a30316, #a30316, rgba(163, 3, 22, 0))}.ThemeBorder__BorderRight,.ThemeBorder__BorderLeft{background:linear-gradient(to bottom, rgba(163, 3, 22, 0), #a30316, #a30316, rgba(163, 3, 22, 0))}.dark-mode .ThemeBorder__BorderRight,.dark-mode .ThemeBorder__BorderLeft{background:linear-gradient(to bottom, rgba(163, 3, 22, 0), #a30316, #a30316, rgba(163, 3, 22, 0))}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(122);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,"@keyframes dialogAppear{from{opacity:0}to{opacity:1}}.Dialog{position:fixed;top:0;left:0;bottom:0;right:0;animation:dialogAppear 100ms linear;z-index:3}.Dialog__Overlay{position:absolute;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,.4)}.dark-mode .Dialog__Overlay{background:rgba(0,0,0,.4)}.Dialog__Main{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);width:600px;max-width:100%;max-height:100%;border-radius:4px;box-shadow:0px 0px 100px 0px #000;overflow:auto;background:#fbfbfb}.dark-mode .Dialog__Main{background:#313131}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(124);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".PasswordDialog{padding:30px}.PasswordDialog>h1{font-size:20px}.PasswordDialog>h2{font-size:18px}.PasswordDialog>h1,.PasswordDialog>h2{font-weight:600}.PasswordDialog>h1,.PasswordDialog>h2,.PasswordDialog>p,.PasswordDialog>button{margin-bottom:20px}.PasswordDialog__Warn{color:#c2591d}.dark-mode .PasswordDialog__Warn{color:#dd966d}.PasswordDialog__Incorrect{font-weight:bold;color:#e6112a}.dark-mode .PasswordDialog__Incorrect{color:#ff5064}.PasswordDialog__RememberPassword{display:block;text-align:left;min-height:auto;min-width:auto;line-height:normal;width:100%}.PasswordDialog__PasswordField{display:flex;align-items:center}.PasswordDialog__RememberPasswordCheckbox{margin-right:5px}.PasswordDialog__RememberPasswordCheckbox,.PasswordDialog__RememberPasswordLabel{vertical-align:middle}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(126);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".Checkbox{position:relative;width:24px;height:24px;min-width:24px;min-height:24px}.Checkbox__Icon{position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);transition:opacity 100ms linear}.Checkbox__Icon--visible{opacity:1}.Checkbox__Icon--invisible{opacity:0}",""]),e.exports=t},function(e,t,n){var o=n(29);e.exports=function(e){if(Array.isArray(e))return o(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var o=n(10),r=n(131);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'.EditorMenu__Button{display:inline-block;border-radius:3px}.EditorMenu__Button:hover{background:#f6f6f6}.dark-mode .EditorMenu__Button:hover{background:#3d3d3d}.EditorMenu__Button--active{background:#ededed}.dark-mode .EditorMenu__Button--active{background:#474747}.EditorMenu__Button--active:hover{background:#e4e4e4}.dark-mode .EditorMenu__Button--active:hover{background:#585858}.EditorMenu__Button[disabled]{pointer-events:none;background:transparent;color:#8a8a8a}.dark-mode .EditorMenu__Button[disabled]{color:#8a8a8a}.EditorMenu__CodeBlock{position:relative}.EditorMenu__CodeBlock-Code{position:absolute;font-size:12px;top:50%;left:50%;transform:translateX(-50%) translateY(-50%) translateX(6px) translateY(6px)}.EditorMenu__FontEditor{max-width:300px}.EditorMenu__FontFamilies,.EditorMenu__FontEditorItem{width:300px}.EditorMenu__FontSearch,.EditorMenu__DropDownFieldWithUnit{display:flex;align-items:center}.EditorMenu__FontSizeInput{flex:1 1 auto}.EditorMenu__FieldWithUnit{-moz-appearance:textfield;text-align:right}.EditorMenu__FieldWithUnit::placeholder{text-align:left}.EditorMenu__FieldWithUnit::-webkit-outer-spin-button,.EditorMenu__FieldWithUnit::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.EditorMenu__FieldUnit,.EditorMenu__FontSizeDefault{flex:0 0 auto}.EditorMenu__FieldUnit{padding-left:5px}.EditorMenu__FontFamilies{max-height:340px;overflow-x:hidden;overflow-y:auto;position:relative}.EditorMenu__FontFamily{line-height:1;width:100%}.EditorMenu__FontFamilyContainer{display:block}.EditorMenu__FontFamilyLabel{font-weight:bold}.EditorMenu__FontFamilyExample{font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.EditorMenu__HeadingEditor h1,.EditorMenu__HeadingEditor h2,.EditorMenu__HeadingEditor h3,.EditorMenu__HeadingEditor h4,.EditorMenu__HeadingEditor h5,.EditorMenu__HeadingEditor h6{font-weight:bold}.EditorMenu__HeadingEditor h1{font-size:28px}.EditorMenu__HeadingEditor h2{font-size:26px}.EditorMenu__HeadingEditor h3{font-size:24px}.EditorMenu__HeadingEditor h4{font-size:22px}.EditorMenu__HeadingEditor h5{font-size:20px}.EditorMenu__HeadingEditor h6{font-size:18px}.EditorMenu__ImagePositionLabel{font-weight:600}.EditorMenu__ImagePositions{display:flex;align-items:center;justify-content:space-around}.EditorMenu__ImagePositions>*{flex:0 0 auto}.EditorMenu__ImageCentralPositions{display:flex;flex-direction:column}.EditorMenu__ImageButton:hover{background:#e4e4e4}.dark-mode .EditorMenu__ImageButton:hover{background:#4b4b4b}.EditorMenu__ImageButton--active{background:#dbdbdb;color:#a30316}.dark-mode .EditorMenu__ImageButton--active{background:#5a5a5a;color:#a30316}.EditorMenu__ImageButton--active:hover{background:#d2d2d2}.dark-mode .EditorMenu__ImageButton--active:hover{background:#646464}.EditorMenu__ImageFileBrowse{display:none}.EditorMenu__ImageLoading{display:block;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);z-index:1}.EditorMenu__ImageSizeWarning{color:#c2591d}.dark-mode .EditorMenu__ImageSizeWarning{color:#dd966d}.EditorMenu__ImageEditor--loading{pointer-events:none}.EditorMenu__ImageEditor--loading::after{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(251,251,251,.5)}.dark-mode .EditorMenu__ImageEditor--loading::after{background:rgba(251,251,251,.5)}',""]),e.exports=t},function(e,t,n){var o=n(10),r=n(133);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".ColorPicker__SaturationPicker{background:linear-gradient(to right, #fff, rgba(204, 154, 129, 0))}.ColorPicker__LightnessPicker{background:linear-gradient(to top, #000, rgba(204, 154, 129, 0))}.ColorPicker__HuePicker{background:linear-gradient(to bottom, red, yellow, lime, aqua, blue, fuchsia, red)}.ColorPicker__InputItem{display:flex;align-items:center}.ColorPicker__InputBox,.ColorPicker__Hash,.ColorPicker__Reset{flex:0 0 auto}.ColorPicker__Input{flex:1 1 auto}.ColorPicker__Pickers{display:flex;height:250px;border-bottom:2px solid #e6e6e6}.dark-mode .ColorPicker__Pickers{border-bottom:2px solid #424242}.ColorPicker__MainPicker{flex:1 1 auto;position:relative;margin-right:6px}.ColorPicker__SaturationPicker,.ColorPicker__LightnessPicker{position:absolute;top:0;left:0;width:100%;height:100%}.ColorPicker__HuePicker{flex:0 0 auto;width:40px;position:relative}.ColorPicker__HuePosition{position:absolute;left:0px;right:0px;height:6px;border-radius:2px;transform:translateY(-50%);border:2px solid #5e5e5e}.dark-mode .ColorPicker__HuePosition{border:2px solid #303030}.ColorPicker__MainPosition{position:absolute;width:6px;height:6px;border-radius:50%;transform:translateX(-50%) translateY(-50%);border:2px solid #5e5e5e}.dark-mode .ColorPicker__MainPosition{border:2px solid #303030}.ColorPicker__DefaultColors{white-space:normal}.ColorPicker__ColorBox{display:inline-block;height:28px;width:30px;min-height:auto;min-width:auto;margin-right:5px;border-radius:3px;border:2px solid #5e5e5e}.dark-mode .ColorPicker__ColorBox{border:2px solid #303030}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"CellSelection",(function(){return L})),n.d(t,"TableMap",(function(){return h})),n.d(t,"TableView",(function(){return Se})),n.d(t,"__clipCells",(function(){return z})),n.d(t,"__insertCells",(function(){return W})),n.d(t,"__pastedCells",(function(){return F})),n.d(t,"addColSpan",(function(){return A})),n.d(t,"addColumn",(function(){return oe})),n.d(t,"addColumnAfter",(function(){return ie})),n.d(t,"addColumnBefore",(function(){return re})),n.d(t,"addRow",(function(){return le})),n.d(t,"addRowAfter",(function(){return fe})),n.d(t,"addRowBefore",(function(){return ue})),n.d(t,"cellAround",(function(){return w})),n.d(t,"colCount",(function(){return O})),n.d(t,"columnIsHeader",(function(){return D})),n.d(t,"columnResizing",(function(){return Ne})),n.d(t,"columnResizingPluginKey",(function(){return Oe})),n.d(t,"deleteColumn",(function(){return se})),n.d(t,"deleteRow",(function(){return pe})),n.d(t,"deleteTable",(function(){return Ce})),n.d(t,"findCell",(function(){return M})),n.d(t,"fixTables",(function(){return te})),n.d(t,"fixTablesKey",(function(){return ee})),n.d(t,"goToNextCell",(function(){return Ie})),n.d(t,"handlePaste",(function(){return J})),n.d(t,"inSameTable",(function(){return S})),n.d(t,"isInTable",(function(){return k})),n.d(t,"mergeCells",(function(){return me})),n.d(t,"moveCellForward",(function(){return C})),n.d(t,"nextCell",(function(){return N})),n.d(t,"pointsAtCell",(function(){return I})),n.d(t,"removeColSpan",(function(){return E})),n.d(t,"removeColumn",(function(){return ae})),n.d(t,"removeRow",(function(){return de})),n.d(t,"rowIsHeader",(function(){return ce})),n.d(t,"selectedRect",(function(){return ne})),n.d(t,"selectionCell",(function(){return x})),n.d(t,"setAttr",(function(){return T})),n.d(t,"setCellAttr",(function(){return be})),n.d(t,"splitCell",(function(){return ge})),n.d(t,"splitCellWithType",(function(){return ve})),n.d(t,"tableEditing",(function(){return Pe})),n.d(t,"tableEditingKey",(function(){return _})),n.d(t,"tableNodeTypes",(function(){return y})),n.d(t,"tableNodes",(function(){return b})),n.d(t,"toggleHeader",(function(){return _e})),n.d(t,"toggleHeaderCell",(function(){return xe})),n.d(t,"toggleHeaderColumn",(function(){return ke})),n.d(t,"toggleHeaderRow",(function(){return we})),n.d(t,"updateColumnsOnResize",(function(){return Me}));var o,r,i=n(2),a=n(0),s=n(21),c=n(17),l=n(6);if("undefined"!=typeof WeakMap){var u=new WeakMap;o=function(e){return u.get(e)},r=function(e,t){return u.set(e,t),t}}else{var f=[],d=0;o=function(e){for(var t=0;t<f.length;t+=2)if(f[t]==e)return f[t+1]},r=function(e,t){return 10==d&&(d=0),f[d++]=e,f[d++]=t}}var p=function(e,t,n,o){this.left=e,this.top=t,this.right=n,this.bottom=o},h=function(e,t,n,o){this.width=e,this.height=t,this.map=n,this.problems=o};function m(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function g(e,t){var n=e.getAttribute("data-colwidth"),o=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,r=Number(e.getAttribute("colspan")||1),i={colspan:r,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:o&&o.length==r?o:null};for(var a in t){var s=t[a].getFromDOM,c=s&&s(e);null!=c&&(i[a]=c)}return i}function v(e,t){var n={};for(var o in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var r=t[o].setDOMAttr;r&&r(e.attrs[o],n)}return n}function b(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var o in t)n[o]={default:t[o].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return g(e,t)}}],toDOM:function(e){return["td",v(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return g(e,t)}}],toDOM:function(e){return["th",v(e,t),0]}}}}function y(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var o=e.nodes[n],r=o.spec.tableRole;r&&(t[r]=o)}return t}h.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var o=t%this.width,r=t/this.width|0,i=o+1,a=r+1,s=1;i<this.width&&this.map[t+s]==n;s++)i++;for(var c=1;a<this.height&&this.map[t+this.width*c]==n;c++)a++;return new p(o,r,i,a)}}throw new RangeError("No cell with offset "+e+" found")},h.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},h.prototype.nextCell=function(e,t,n){var o=this.findCell(e),r=o.left,i=o.right,a=o.top,s=o.bottom;return"horiz"==t?(n<0?0==r:i==this.width)?null:this.map[a*this.width+(n<0?r-1:i)]:(n<0?0==a:s==this.height)?null:this.map[r+this.width*(n<0?a-1:s)]},h.prototype.rectBetween=function(e,t){var n=this.findCell(e),o=n.left,r=n.right,i=n.top,a=n.bottom,s=this.findCell(t),c=s.left,l=s.right,u=s.top,f=s.bottom;return new p(Math.min(o,c),Math.min(i,u),Math.max(r,l),Math.max(a,f))},h.prototype.cellsInRect=function(e){for(var t=[],n={},o=e.top;o<e.bottom;o++)for(var r=e.left;r<e.right;r++){var i=o*this.width+r,a=this.map[i];n[a]||(n[a]=!0,r==e.left&&r&&this.map[i-1]==a||o==e.top&&o&&this.map[i-this.width]==a||t.push(a))}return t},h.prototype.positionAt=function(e,t,n){for(var o=0,r=0;;o++){var i=r+n.child(o).nodeSize;if(o==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<r;)a++;return a==s?i-1:this.map[a]}r=i}},h.get=function(e){return o(e)||r(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,o=0;o<e.childCount;o++){var r=e.child(o),i=0;if(n)for(var a=0;a<o;a++)for(var s=e.child(a),c=0;c<s.childCount;c++){var l=s.child(c);a+l.attrs.rowspan>o&&(i+=l.attrs.colspan)}for(var u=0;u<r.childCount;u++){var f=r.child(u);i+=f.attrs.colspan,f.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,o=[],r=0,i=null,a=[],s=0,c=t*n;s<c;s++)o[s]=0;for(var l=0,u=0;l<n;l++){var f=e.child(l);u++;for(var d=0;;d++){for(;r<o.length&&0!=o[r];)r++;if(d==f.childCount)break;for(var p=f.child(d),g=p.attrs,v=g.colspan,b=g.rowspan,y=g.colwidth,_=0;_<b;_++){if(_+l>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:b-_});break}for(var w=r+_*t,k=0;k<v;k++){0==o[w+k]?o[w+k]=u:(i||(i=[])).push({type:"collision",row:l,pos:u,n:v-k});var x=y&&y[k];if(x){var I=(w+k)%t*2,C=a[I];null==C||C!=x&&1==a[I+1]?(a[I]=x,a[I+1]=1):C==x&&a[I+1]++}}}r+=v,u+=p.nodeSize}for(var S=(l+1)*t,M=0;r<S;)0==o[r++]&&M++;M&&(i||(i=[])).push({type:"missing",row:l,n:M}),u++}for(var O=new h(t,n,o,i),N=!1,T=0;!N&&T<a.length;T+=2)null!=a[T]&&a[T+1]<n&&(N=!0);N&&function(e,t,n){e.problems||(e.problems=[]);for(var o=0,r={};o<e.map.length;o++){var i=e.map[o];if(!r[i]){r[i]=!0;for(var a=n.nodeAt(i),s=null,c=0;c<a.attrs.colspan;c++){var l=(o+c)%e.width,u=t[2*l];null==u||a.attrs.colwidth&&a.attrs.colwidth[c]==u||((s||(s=m(a.attrs)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}}(O,a,e);return O}(e))};var _=new i.PluginKey("selectingCells");function w(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function k(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function x(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:w(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var o=t.type.spec.tableRole;if("cell"==o||"header_cell"==o)return e.doc.resolve(n)}for(var r=e.nodeBefore,i=e.pos;r;r=r.lastChild,i--){var a=r.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(i-r.nodeSize)}}(t.$head)}function I(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function C(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function S(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function M(e){return h.get(e.node(-1)).findCell(e.pos-e.start(-1))}function O(e){return h.get(e.node(-1)).colCount(e.pos-e.start(-1))}function N(e,t,n){var o=e.start(-1),r=h.get(e.node(-1)).nextCell(e.pos-o,t,n);return null==r?null:e.node(0).resolve(o+r)}function T(e,t,n){var o={};for(var r in e)o[r]=e[r];return o[t]=n,o}function E(e,t,n){void 0===n&&(n=1);var o=T(e,"colspan",e.colspan-n);return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(t,n),o.colwidth.some((function(e){return e>0}))||(o.colwidth=null)),o}function A(e,t,n){void 0===n&&(n=1);var o=T(e,"colspan",e.colspan+n);if(o.colwidth){o.colwidth=o.colwidth.slice();for(var r=0;r<n;r++)o.colwidth.splice(t,0,0)}return o}function D(e,t,n){for(var o=y(t.type.schema).header_cell,r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=o)return!1;return!0}var L=function(e){function t(t,n){void 0===n&&(n=t);var o=t.node(-1),r=h.get(o),a=t.start(-1),s=r.rectBetween(t.pos-a,n.pos-a),c=t.node(0),l=r.cellsInRect(s).filter((function(e){return e!=n.pos-a}));l.unshift(n.pos-a);var u=l.map((function(e){var t=o.nodeAt(e),n=e+a+1;return new i.SelectionRange(c.resolve(n),c.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var o=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(I(o)&&I(r)&&S(o,r)){var a=this.$anchorCell.node(-1)!=o.node(-1);return a&&this.isRowSelection()?t.rowSelection(o,r):a&&this.isColSelection()?t.colSelection(o,r):new t(o,r)}return i.TextSelection.between(o,r)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),o=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},i=[],s=o.top;s<o.bottom;s++){for(var c=[],l=s*t.width+o.left,u=o.left;u<o.right;u++,l++){var f=t.map[l];if(!r[f]){r[f]=!0;var d=t.findCell(f),p=e.nodeAt(f),m=o.left-d.left,g=d.right-o.right;if(m>0||g>0){var v=p.attrs;m>0&&(v=E(v,0,m)),g>0&&(v=E(v,v.colspan-g,g)),p=d.left<o.left?p.type.createAndFill(v):p.type.create(v,p.content)}if(d.top<o.top||d.bottom>o.bottom){var b=T(p.attrs,"rowspan",Math.min(d.bottom,o.bottom)-Math.max(d.top,o.top));p=d.top<o.top?p.type.createAndFill(b):p.type.create(b,p.content)}c.push(p)}}i.push(e.child(s).copy(a.Fragment.from(c)))}var y=this.isColSelection()&&this.isRowSelection()?e:i;return new a.Slice(a.Fragment.from(y),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=a.Slice.empty);for(var o=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var s=r[i],c=s.$from,l=s.$to,u=t.mapping.slice(o);t.replace(u.map(c.pos),u.map(l.pos),i?a.Slice.empty:n)}var f=e.findFrom(t.doc.resolve(t.mapping.slice(o).map(this.to)),-1);f&&t.setSelection(f)},t.prototype.replaceWith=function(e,t){this.replace(e,new a.Slice(a.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=h.get(t),o=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o)),i=0;i<r.length;i++)e(t.nodeAt(r[i]),o+r[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,o)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var o=h.get(e.node(-1)),r=e.start(-1),i=o.findCell(e.pos-r),a=o.findCell(n.pos-r),s=e.node(0);return i.top<=a.top?(i.top>0&&(e=s.resolve(r+o.map[i.left])),a.bottom<o.height&&(n=s.resolve(r+o.map[o.width*(o.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(r+o.map[a.left])),i.bottom<o.height&&(e=s.resolve(r+o.map[o.width*(o.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=h.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),o=e.colCount(this.$headCell.pos-t);if(Math.min(n,o)>0)return!1;var r=n+this.$anchorCell.nodeAfter.attrs.colspan,i=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var o=h.get(e.node(-1)),r=e.start(-1),i=o.findCell(e.pos-r),a=o.findCell(n.pos-r),s=e.node(0);return i.left<=a.left?(i.left>0&&(e=s.resolve(r+o.map[i.top*o.width])),a.right<o.width&&(n=s.resolve(r+o.map[o.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(r+o.map[a.top*o.width])),i.right<o.width&&(e=s.resolve(r+o.map[o.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,o){return void 0===o&&(o=n),new t(e.resolve(n),e.resolve(o))},t.prototype.getBookmark=function(){return new P(this.$anchorCell.pos,this.$headCell.pos)},t}(i.Selection);L.prototype.visible=!1,i.Selection.jsonID("cell",L);var P=function(e,t){this.anchor=e,this.head=t};function R(e){if(!(e.selection instanceof L))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(c.a.node(n,n+e.nodeSize,{class:"selectedCell"}))})),c.b.create(e.doc,t)}function F(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,o=e.openEnd;1==t.childCount&&(n>0&&o>0||"table"==t.firstChild.type.spec.tableRole);)n--,o--,t=t.firstChild.content;var r=t.firstChild,i=r.type.spec.tableRole,s=r.type.schema,c=[];if("row"==i)for(var l=0;l<t.childCount;l++){var u=t.child(l).content,f=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,o-1);(f||d)&&(u=B(y(s).row,new a.Slice(u,f,d)).content),c.push(u)}else{if("cell"!=i&&"header_cell"!=i)return null;c.push(n||o?B(y(s).row,new a.Slice(t,n,o)).content:t)}return function(e,t){for(var n=[],o=0;o<t.length;o++)for(var r=t[o],i=r.childCount-1;i>=0;i--)for(var s=r.child(i).attrs,c=s.rowspan,l=s.colspan,u=o;u<o+c;u++)n[u]=(n[u]||0)+l;for(var f=0,d=0;d<n.length;d++)f=Math.max(f,n[d]);for(var p=0;p<n.length;p++)if(p>=t.length&&t.push(a.Fragment.empty),n[p]<f){for(var h=y(e).cell.createAndFill(),m=[],g=n[p];g<f;g++)m.push(h);t[p]=t[p].append(a.Fragment.from(m))}return{height:t.length,width:f,rows:t}}(s,c)}function B(e,t){var n=e.createAndFill();return new l.d(n).replace(0,n.content.size,t).doc}function z(e,t,n){var o=e.width,r=e.height,i=e.rows;if(o!=t){for(var s=[],c=[],l=0;l<i.length;l++){for(var u=i[l],f=[],d=s[l]||0,p=0;d<t;p++){var h=u.child(p%u.childCount);d+h.attrs.colspan>t&&(h=h.type.create(E(h.attrs,h.attrs.colspan,d+h.attrs.colspan-t),h.content)),f.push(h),d+=h.attrs.colspan;for(var m=1;m<h.attrs.rowspan;m++)s[l+m]=(s[l+m]||0)+h.attrs.colspan}c.push(a.Fragment.from(f))}i=c,o=t}if(r!=n){for(var g=[],v=0,b=0;v<n;v++,b++){for(var y=[],_=i[b%r],w=0;w<_.childCount;w++){var k=_.child(w);v+k.attrs.rowspan>n&&(k=k.type.create(T(k.attrs,"rowspan",n-k.attrs.rowspan),k.content)),y.push(k)}g.push(a.Fragment.from(y))}i=g,r=n}return{width:o,height:r,rows:i}}function j(e,t,n,o,r,i,a,s){if(0==a||a==t.height)return!1;for(var c=!1,l=r;l<i;l++){var u=a*t.width+l,f=t.map[u];if(t.map[u-t.width]==f){c=!0;var d=n.nodeAt(f),p=t.findCell(f),h=p.top,m=p.left;e.setNodeMarkup(e.mapping.slice(s).map(f+o),null,T(d.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),d.type.createAndFill(T(d.attrs,"rowspan",h+d.attrs.rowspan-a))),l+=d.attrs.colspan-1}}return c}function H(e,t,n,o,r,i,a,s){if(0==a||a==t.width)return!1;for(var c=!1,l=r;l<i;l++){var u=l*t.width+a,f=t.map[u];if(t.map[u-1]==f){c=!0;var d=n.nodeAt(f),p=t.colCount(f),h=e.mapping.slice(s).map(f+o);e.setNodeMarkup(h,null,E(d.attrs,a-p,d.attrs.colspan-(a-p))),e.insert(h+d.nodeSize,d.type.createAndFill(E(d.attrs,0,a-p))),l+=d.attrs.rowspan-1}}return c}function W(e,t,n,o,r){var i=n?e.doc.nodeAt(n-1):e.doc,s=h.get(i),c=o.top,l=o.left,u=l+r.width,f=c+r.height,d=e.tr,p=0;function m(){i=n?d.doc.nodeAt(n-1):d.doc,s=h.get(i),p=d.mapping.maps.length}(function(e,t,n,o,r,i,s){var c,l,u=y(e.doc.type.schema);if(r>t.width)for(var f=0,d=0;f<t.height;f++){var p=n.child(f);d+=p.nodeSize;var h=[],m=void 0;m=null==p.lastChild||p.lastChild.type==u.cell?c||(c=u.cell.createAndFill()):l||(l=u.header_cell.createAndFill());for(var g=t.width;g<r;g++)h.push(m);e.insert(e.mapping.slice(s).map(d-1+o),h)}if(i>t.height){for(var v=[],b=0,_=(t.height-1)*t.width;b<Math.max(t.width,r);b++){var w=!(b>=t.width)&&n.nodeAt(t.map[_+b]).type==u.header_cell;v.push(w?l||(l=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var k=u.row.create(null,a.Fragment.from(v)),x=[],I=t.height;I<i;I++)x.push(k);e.insert(e.mapping.slice(s).map(o+n.nodeSize-2),x)}return!(!c&&!l)})(d,s,i,n,u,f,p)&&m(),j(d,s,i,n,l,u,c,p)&&m(),j(d,s,i,n,l,u,f,p)&&m(),H(d,s,i,n,c,f,l,p)&&m(),H(d,s,i,n,c,f,u,p)&&m();for(var g=c;g<f;g++){var v=s.positionAt(g,l,i),b=s.positionAt(g,u,i);d.replace(d.mapping.slice(p).map(v+n),d.mapping.slice(p).map(b+n),new a.Slice(r.rows[g-c],0,0))}m(),d.setSelection(new L(d.doc.resolve(n+s.positionAt(c,l,i)),d.doc.resolve(n+s.positionAt(f-1,u-1,i)))),t(d)}P.prototype.map=function(e){return new P(e.map(this.anchor),e.map(this.head))},P.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&S(t,n)?new L(t,n):i.Selection.near(n,1)};var $=Object(s.a)({ArrowLeft:U("horiz",-1),ArrowRight:U("horiz",1),ArrowUp:U("vert",-1),ArrowDown:U("vert",1),"Shift-ArrowLeft":q("horiz",-1),"Shift-ArrowRight":q("horiz",1),"Shift-ArrowUp":q("vert",-1),"Shift-ArrowDown":q("vert",1),Backspace:K,"Mod-Backspace":K,Delete:K,"Mod-Delete":K});function V(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function U(e,t){return function(n,o,r){var a=n.selection;if(a instanceof L)return V(n,o,i.Selection.near(a.$headCell,t));if("horiz"!=e&&!a.empty)return!1;var s=Y(r,e,t);if(null==s)return!1;if("horiz"==e)return V(n,o,i.Selection.near(n.doc.resolve(a.head+t),t));var c,l=n.doc.resolve(s),u=N(l,e,t);return c=u?i.Selection.near(u,1):t<0?i.Selection.near(n.doc.resolve(l.before(-1)),-1):i.Selection.near(n.doc.resolve(l.after(-1)),1),V(n,o,c)}}function q(e,t){return function(n,o,r){var i=n.selection;if(!(i instanceof L)){var a=Y(r,e,t);if(null==a)return!1;i=new L(n.doc.resolve(a))}var s=N(i.$headCell,e,t);return!!s&&V(n,o,new L(i.$anchorCell,s))}}function K(e,t){var n=e.selection;if(!(n instanceof L))return!1;if(t){var o=e.tr,r=y(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(r)||o.replace(o.mapping.map(t+1),o.mapping.map(t+e.nodeSize-1),new a.Slice(r,0,0))})),o.docChanged&&t(o)}return!0}function X(e,t){var n=w(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new L(n))),!0)}function J(e,t,n){if(!k(e.state))return!1;var o=F(n),r=e.state.selection;if(r instanceof L){o||(o={width:1,height:1,rows:[a.Fragment.from(B(y(e.state.schema).cell,n))]});var i=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),c=h.get(i).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return o=z(o,c.right-c.left,c.bottom-c.top),W(e.state,e.dispatch,s,c,o),!0}if(o){var l=x(e.state),u=l.start(-1);return W(e.state,e.dispatch,u,h.get(l.node(-1)).findCell(l.pos-u),o),!0}return!1}function G(e,t){if(!t.ctrlKey&&!t.metaKey){var n,o=Z(e,t.target);if(t.shiftKey&&e.state.selection instanceof L)r(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&o&&null!=(n=w(e.state.selection.$anchor))&&Q(e,t).pos!=n.pos)r(n,t),t.preventDefault();else if(!o)return;e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",a)}function r(t,n){var o=Q(e,n),r=null==_.getState(e.state);if(!o||!S(t,o)){if(!r)return;o=t}var i=new L(t,o);if(r||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);r&&a.setMeta(_,t.pos),e.dispatch(a)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",a),null!=_.getState(e.state)&&e.dispatch(e.state.tr.setMeta(_,-1))}function a(n){var a,s=_.getState(e.state);if(null!=s)a=e.state.doc.resolve(s);else if(Z(e,n.target)!=o&&!(a=Q(e,t)))return i();a&&r(a,n)}}function Y(e,t,n){if(!(e.state.selection instanceof i.TextSelection))return null;for(var o=e.state.selection.$head,r=o.depth-1;r>=0;r--){var a=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=o.before(r),c="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?s:null}}return null}function Z(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function Q(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?w(e.state.doc.resolve(n.pos)):null}var ee=new i.PluginKey("fix-tables");function te(e,t){var n,o=function(t,o){"table"==t.type.spec.tableRole&&(n=function(e,t,n,o){var r=h.get(t);if(!r.problems)return o;o||(o=e.tr);for(var i,a,s=[],c=0;c<r.height;c++)s.push(0);for(var l=0;l<r.problems.length;l++){var u=r.problems[l];if("collision"==u.type){for(var f=t.nodeAt(u.pos),d=0;d<f.attrs.rowspan;d++)s[u.row+d]+=u.n;o.setNodeMarkup(o.mapping.map(n+1+u.pos),null,E(f.attrs,f.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var p=t.nodeAt(u.pos);o.setNodeMarkup(o.mapping.map(n+1+u.pos),null,T(p.attrs,"rowspan",p.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var m=t.nodeAt(u.pos);o.setNodeMarkup(o.mapping.map(n+1+u.pos),null,T(m.attrs,"colwidth",u.colwidth))}}for(var g=0;g<s.length;g++)s[g]&&(null==i&&(i=g),a=g);for(var v=0,b=n+1;v<r.height;v++){var _=t.child(v),w=b+_.nodeSize,k=s[v];if(k>0){var x="cell";_.firstChild&&(x=_.firstChild.type.spec.tableRole);for(var I=[],C=0;C<k;C++)I.push(y(e.schema)[x].createAndFill());var S=0!=v&&i!=v-1||a!=v?w-1:b+1;o.insert(o.mapping.map(S),I)}b=w}return o.setMeta(ee,{fixTables:!0})}(e,t,o,n))};return t?t.doc!=e.doc&&function e(t,n,o,r){var i=t.childCount,a=n.childCount;e:for(var s=0,c=0;s<a;s++){for(var l=n.child(s),u=c,f=Math.min(i,s+3);u<f;u++)if(t.child(u)==l){c=u+1,o+=l.nodeSize;continue e}r(l,o),c<i&&t.child(c).sameMarkup(l)?e(t.child(c),l,o+1,r):l.nodesBetween(0,l.content.size,r,o+1),o+=l.nodeSize}}(t.doc,e.doc,0,o):e.doc.descendants(o),n}function ne(e){var t,n=e.selection,o=x(e),r=o.node(-1),i=o.start(-1),a=h.get(r);return(t=n instanceof L?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(o.pos-i)).tableStart=i,t.map=a,t.table=r,t}function oe(e,t,n){var o=t.map,r=t.tableStart,i=t.table,a=n>0?-1:0;D(o,i,n+a)&&(a=0==n||n==o.width?null:0);for(var s=0;s<o.height;s++){var c=s*o.width+n;if(n>0&&n<o.width&&o.map[c-1]==o.map[c]){var l=o.map[c],u=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(r+l),null,A(u.attrs,n-o.colCount(l))),s+=u.attrs.rowspan-1}else{var f=null==a?y(i.type.schema).cell:i.nodeAt(o.map[c+a]).type,d=o.positionAt(s,n,i);e.insert(e.mapping.map(r+d),f.createAndFill())}}return e}function re(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(oe(e.tr,n,n.left))}return!0}function ie(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(oe(e.tr,n,n.right))}return!0}function ae(e,t,n){for(var o=t.map,r=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<o.height;){var c=s*o.width+n,l=o.map[c],u=r.nodeAt(l);if(n>0&&o.map[c-1]==l||n<o.width-1&&o.map[c+1]==l)e.setNodeMarkup(e.mapping.slice(a).map(i+l),null,E(u.attrs,n-o.colCount(l)));else{var f=e.mapping.slice(a).map(i+l);e.delete(f,f+u.nodeSize)}s+=u.attrs.rowspan}}function se(e,t){if(!k(e))return!1;if(t){var n=ne(e),o=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var r=n.right-1;ae(o,n,r),r!=n.left;r--)n.table=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc,n.map=h.get(n.table);t(o)}return!0}function ce(e,t,n){for(var o=y(t.type.schema).header_cell,r=0;r<e.width;r++)if(t.nodeAt(e.map[r+n*e.width]).type!=o)return!1;return!0}function le(e,t,n){for(var o=t.map,r=t.tableStart,i=t.table,a=r,s=0;s<n;s++)a+=i.child(s).nodeSize;var c=[],l=n>0?-1:0;ce(o,i,n+l)&&(l=0==n||n==o.height?null:0);for(var u=0,f=o.width*n;u<o.width;u++,f++)if(n>0&&n<o.height&&o.map[f]==o.map[f-o.width]){var d=o.map[f],p=i.nodeAt(d).attrs;e.setNodeMarkup(r+d,null,T(p,"rowspan",p.rowspan+1)),u+=p.colspan-1}else{var h=null==l?y(i.type.schema).cell:i.nodeAt(o.map[f+l*o.width]).type;c.push(h.createAndFill())}return e.insert(a,y(i.type.schema).row.create(null,c)),e}function ue(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(le(e.tr,n,n.top))}return!0}function fe(e,t){if(!k(e))return!1;if(t){var n=ne(e);t(le(e.tr,n,n.bottom))}return!0}function de(e,t,n){for(var o=t.map,r=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=r.child(s).nodeSize;var c=a+r.child(n).nodeSize,l=e.mapping.maps.length;e.delete(a+i,c+i);for(var u=0,f=n*o.width;u<o.width;u++,f++){var d=o.map[f];if(n>0&&d==o.map[f-o.width]){var p=r.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(l).map(d+i),null,T(p,"rowspan",p.rowspan-1)),u+=p.colspan-1}else if(n<o.width&&d==o.map[f+o.width]){var h=r.nodeAt(d),m=h.type.create(T(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),g=o.positionAt(n+1,u,r);e.insert(e.mapping.slice(l).map(i+g),m),u+=h.attrs.colspan-1}}}function pe(e,t){if(!k(e))return!1;if(t){var n=ne(e),o=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var r=n.bottom-1;de(o,n,r),r!=n.top;r--)n.table=n.tableStart?o.doc.nodeAt(n.tableStart-1):o.doc,n.map=h.get(n.table);t(o)}return!0}function he(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function me(e,t){var n=e.selection;if(!(n instanceof L)||n.$anchorCell.pos==n.$headCell.pos)return!1;var o=ne(e),r=o.map;if(function(e,t){for(var n=e.width,o=e.height,r=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&r[a]==r[a-1]||t.right<n&&r[c]==r[c+1])return!0;a+=n,c+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&r[i]==r[i-n]||t.bottom<o&&r[s]==r[s+n])return!0;i++,s++}return!1}(r,o))return!1;if(t){for(var i,s,c=e.tr,l={},u=a.Fragment.empty,f=o.top;f<o.bottom;f++)for(var d=o.left;d<o.right;d++){var p=r.map[f*r.width+d],h=o.table.nodeAt(p);if(!l[p])if(l[p]=!0,null==i)i=p,s=h;else{he(h)||(u=u.append(h.content));var m=c.mapping.map(p+o.tableStart);c.delete(m,m+h.nodeSize)}}if(c.setNodeMarkup(i+o.tableStart,null,T(A(s.attrs,s.attrs.colspan,o.right-o.left-s.attrs.colspan),"rowspan",o.bottom-o.top)),u.size){var g=i+1+s.content.size,v=he(s)?i+1:g;c.replaceWith(v+o.tableStart,g+o.tableStart,u)}c.setSelection(new L(c.doc.resolve(i+o.tableStart))),t(c)}return!0}function ge(e,t){var n=y(e.schema);return ve((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}function ve(e){return function(t,n){var o,r,i=t.selection;if(i instanceof L){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,r=i.$anchorCell.pos}else{if(!(o=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;r=w(i.$from).pos}if(1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(n){var a=o.attrs,s=[],c=a.colwidth;a.rowspan>1&&(a=T(a,"rowspan",1)),a.colspan>1&&(a=T(a,"colspan",1));for(var l,u=ne(t),f=t.tr,d=0;d<u.right-u.left;d++)s.push(c?T(a,"colwidth",c&&c[d]?[c[d]]:null):a);for(var p=u.top;p<u.bottom;p++){var h=u.map.positionAt(p,u.left,u.table);p==u.top&&(h+=o.nodeSize);for(var m=u.left,g=0;m<u.right;m++,g++)m==u.left&&p==u.top||f.insert(l=f.mapping.map(h+u.tableStart,1),e({node:o,row:p,col:m}).createAndFill(s[g]))}f.setNodeMarkup(r,e({node:o,row:u.top,col:u.left}),s[0]),i instanceof L&&f.setSelection(new L(f.doc.resolve(i.$anchorCell.pos),l&&f.doc.resolve(l))),n(f)}return!0}}function be(e,t){return function(n,o){if(!k(n))return!1;var r=x(n);if(r.nodeAfter.attrs[e]===t)return!1;if(o){var i=n.tr;n.selection instanceof L?n.selection.forEachCell((function(n,o){n.attrs[e]!==t&&i.setNodeMarkup(o,null,T(n.attrs,e,t))})):i.setNodeMarkup(r.pos,null,T(r.nodeAfter.attrs,e,t)),o(i)}return!0}}function ye(e,t,n){for(var o=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),r=0;r<o.length;r++){var i=t.table.nodeAt(o[r]);if(i&&i.type!==n.header_cell)return!1}return!0}function _e(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!k(t))return!1;if(n){for(var o=y(t.schema),r=ne(t),i=t.tr,a=r.map.cellsInRect("column"==e?new p(r.left,0,r.right,r.map.height):"row"==e?new p(0,r.top,r.map.width,r.bottom):r),s=a.map((function(e){return r.table.nodeAt(e)})),c=0;c<a.length;c++)s[c].type==o.header_cell&&i.setNodeMarkup(r.tableStart+a[c],o.cell,s[c].attrs);if(0==i.steps.length)for(var l=0;l<a.length;l++)i.setNodeMarkup(r.tableStart+a[l],o.header_cell,s[l].attrs);n(i)}return!0}}(e):function(t,n){if(!k(t))return!1;if(n){var o=y(t.schema),r=ne(t),i=t.tr,a=ye("row",r,o),s=ye("column",r,o),c=("column"===e?a:"row"===e&&s)?1:0,l="column"==e?new p(0,c,1,r.map.height):"row"==e?new p(c,0,r.map.width,1):r,u="column"==e?s?o.cell:o.header_cell:"row"==e?a?o.cell:o.header_cell:o.cell;r.map.cellsInRect(l).forEach((function(e){var t=e+r.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}var we=_e("row",{useDeprecatedLogic:!0}),ke=_e("column",{useDeprecatedLogic:!0}),xe=_e("cell",{useDeprecatedLogic:!0});function Ie(e){return function(t,n){if(!k(t))return!1;var o=function(e,t){if(t<0){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var o=e.index(-1)-1,r=e.before();o>=0;o--){var i=e.node(-1).child(o);if(i.childCount)return r-1-i.lastChild.nodeSize;r-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),c=e.after();s<a.childCount;s++){var l=a.child(s);if(l.childCount)return c+1;c+=l.nodeSize}}}(x(t),e);if(null!=o){if(n){var r=t.doc.resolve(o);n(t.tr.setSelection(i.TextSelection.between(r,C(r))).scrollIntoView())}return!0}}}function Ce(e,t){for(var n=e.selection.$anchor,o=n.depth;o>0;o--){if("table"==n.node(o).type.spec.tableRole)return t&&t(e.tr.delete(n.before(o),n.after(o)).scrollIntoView()),!0}return!1}var Se=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Me(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Me(e,t,n,o,r,i){for(var a=0,s=!0,c=t.firstChild,l=e.firstChild,u=0,f=0;u<l.childCount;u++)for(var d=l.child(u).attrs,p=d.colspan,h=d.colwidth,m=0;m<p;m++,f++){var g=r==f?i:h&&h[m],v=g?g+"px":"";a+=g||o,g||(s=!1),c?(c.style.width!=v&&(c.style.width=v),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=v}for(;c;){var b=c.nextSibling;c.parentNode.removeChild(c),c=b}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Se.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,Me(e,this.colgroup,this.table,this.cellMinWidth),!0)},Se.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var Oe=new i.PluginKey("tableColumnResizing");function Ne(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var o=e.View;void 0===o&&(o=Se);var r=e.lastColumnResizable;return void 0===r&&(r=!0),new i.Plugin({key:Oe,state:{init:function(e,t){return this.spec.props.nodeViews[y(t.schema).table.name]=function(e,t){return new o(e,n,t)},new Te(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){return Oe.getState(e).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,n){!function(e,t,n,o,r){var i=Oe.getState(e.state);if(!i.dragging){var a=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),s=-1;if(a){var c=a.getBoundingClientRect(),l=c.left,u=c.right;t.clientX-l<=n?s=Ee(e,t,"left"):u-t.clientX<=n&&(s=Ee(e,t,"right"))}if(s!=i.activeHandle){if(!r&&-1!==s){var f=e.state.doc.resolve(s),d=f.node(-1),p=h.get(d),m=f.start(-1);if(p.colCount(f.pos-m)+f.nodeAfter.attrs.colspan-1==p.width-1)return}De(e,s)}}}(e,n,t,0,r)},mouseleave:function(e){!function(e){var t=Oe.getState(e.state);t.activeHandle>-1&&!t.dragging&&De(e,-1)}(e)},mousedown:function(e,t){!function(e,t,n){var o=Oe.getState(e.state);if(-1==o.activeHandle||o.dragging)return!1;var r=e.state.doc.nodeAt(o.activeHandle),i=function(e,t,n){var o=n.colspan,r=n.colwidth,i=r&&r[r.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset].offsetWidth,c=o;if(r)for(var l=0;l<o;l++)r[l]&&(s-=r[l],c--);return s/c}(e,o.activeHandle,r.attrs);function a(t){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var o=Oe.getState(e.state);o.dragging&&(!function(e,t,n){for(var o=e.state.doc.resolve(t),r=o.node(-1),i=h.get(r),a=o.start(-1),s=i.colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=e.state.tr,l=0;l<i.height;l++){var u=l*i.width+s;if(!l||i.map[u]!=i.map[u-i.width]){var f=i.map[u],d=r.nodeAt(f).attrs,p=1==d.colspan?0:s-i.colCount(f);if(!d.colwidth||d.colwidth[p]!=n){var m=d.colwidth?d.colwidth.slice():Le(d.colspan);m[p]=n,c.setNodeMarkup(a+f,null,T(d,"colwidth",m))}}}c.docChanged&&e.dispatch(c)}(e,o.activeHandle,Ae(o.dragging,t,n)),e.dispatch(e.state.tr.setMeta(Oe,{setDragging:null})))}function s(t){if(!t.which)return a(t);var o=Oe.getState(e.state),r=Ae(o.dragging,t,n);!function(e,t,n,o){var r=e.state.doc.resolve(t),i=r.node(-1),a=r.start(-1),s=h.get(i).colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,c=e.domAtPos(r.start(-1)).node;for(;"TABLE"!=c.nodeName;)c=c.parentNode;Me(i,c.firstChild,c,o,s,n)}(e,o.activeHandle,r,n)}e.dispatch(e.state.tr.setMeta(Oe,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),t.preventDefault()}(e,t,n)}},decorations:function(e){var t=Oe.getState(e);if(t.activeHandle>-1)return function(e,t){for(var n=[],o=e.doc.resolve(t),r=o.node(-1),i=h.get(r),a=o.start(-1),s=i.colCount(o.pos-a)+o.nodeAfter.attrs.colspan,l=0;l<i.height;l++){var u=s+l*i.width-1;if(!(s!=i.width&&i.map[u]==i.map[u+1]||0!=l&&i.map[u-1]==i.map[u-1-i.width])){var f=i.map[u],d=a+f+r.nodeAt(f).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",n.push(c.a.widget(d,p))}}return c.b.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}})}var Te=function(e,t){this.activeHandle=e,this.dragging=t};function Ee(e,t,n){var o=e.posAtCoords({left:t.clientX,top:t.clientY}).pos,r=w(e.state.doc.resolve(o));if(!r)return-1;if("right"==n)return r.pos;var i=h.get(r.node(-1)),a=r.start(-1),s=i.map.indexOf(r.pos-a);return s%i.width==0?-1:a+i.map[s-1]}function Ae(e,t,n){var o=t.clientX-e.startX;return Math.max(n,e.startWidth+o)}function De(e,t){e.dispatch(e.state.tr.setMeta(Oe,{setHandle:t}))}function Le(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Pe(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new i.Plugin({key:_,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(_);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var o=e.mapping.mapResult(t),r=o.deleted,i=o.pos;return r?null:i}},props:{decorations:R,handleDOMEvents:{mousedown:G},createSelectionBetween:function(e){if(null!=_.getState(e.state))return e.state.selection},handleTripleClick:X,handleKeyDown:$,handlePaste:J},appendTransaction:function(e,n,o){return function(e,t,n){var o,r,a=(t||e).selection,s=(t||e).doc;if(a instanceof i.NodeSelection&&(r=a.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)o=L.create(s,a.from);else if("row"==r){var c=s.resolve(a.from+1);o=L.rowSelection(c,c)}else if(!n){var l=h.get(a.node),u=a.from+1,f=u+l.map[l.width*l.height-1];o=L.create(s,u+1,f)}}else a instanceof i.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var o=t.pos,r=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,o++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,r--);return o==r&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?o=i.TextSelection.create(s,a.from):a instanceof i.TextSelection&&function(e){for(var t,n,o=e.$from,r=e.$to,i=o.depth;i>0;i--){var a=o.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=r.depth;s>0;s--){var c=r.node(s);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return t!==n&&0===r.parentOffset}(a)&&(o=i.TextSelection.create(s,a.$from.start(),a.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}(o,te(o,n),t)}})}Te.prototype.apply=function(e){var t=this,n=e.getMeta(Oe);if(n&&null!=n.setHandle)return new Te(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Te(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){var o=e.mapping.map(t.activeHandle,-1);I(e.doc.resolve(o))||(o=null),t=new Te(o,t.dragging)}return t}},function(e,t,n){var o=n(10),r=n(136);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,"@keyframes loadingSpinner{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.LoadingSpinner{display:inline-block}.LoadingSpinner__Icon{animation:loadingSpinner 1s linear infinite;transform-origin:center center;font-size:48px;color:#a30316}.dark-mode .LoadingSpinner__Icon{color:#a30316}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(138);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".Tags__DropDown{max-height:300px;overflow-x:hidden;overflow-y:auto}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(140);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".NoteItem{display:block;width:100%;line-height:inherit;text-align:inherit;position:relative;padding:20px;cursor:pointer;border-bottom:1px solid #e6e6e6}.dark-mode .NoteItem{border-bottom:1px solid #424242}.NoteItem--dirty{color:#c2591d}.dark-mode .NoteItem--dirty{color:#dd966d}.NoteItem:hover{background:#f6f6f6}.dark-mode .NoteItem:hover{background:#3d3d3d}.NoteItem--selected{background:#ededed}.dark-mode .NoteItem--selected{background:#474747}.NoteItem--selected:hover{background:#e4e4e4}.dark-mode .NoteItem--selected:hover{background:#585858}.NoteItem__NoteName{position:relative;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-weight:600;overflow:hidden;max-height:3em;font-size:18px}.NoteItem__Tags,.NoteItem__DateTime{position:relative;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setNodesUpdateFlag=function(e,t){for(var n=0;n<e.length;n++){e[n].updateFlag=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recalculateAndUpdatedNodeValuesIfNeeded=function(e){for(var t=0;t<e.length;t++){e[t].recalculateValueAndUpdateIfNeeded()}}},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.visitToDeriveDescendents=function e(t,n,o,a){if(a.indexOf(t)>=0)return;var s=o.indexOf(t);if(s>=0)throw new i.CyclicError([].concat((0,r.default)(o.slice(s)),[t]));for(var c=o.push(t)-1,l=0;l<t.derivedNodes.length;l++)e(t.derivedNodes[l],n,o,a);o.splice(c,1),a.push(t),n.unshift(t)};var r=o(n(16)),i=n(144)},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.CyclicError=void 0;var r=o(n(1)),i=o(n(15)),a=o(n(12)),s=o(n(13)),c=function(e){function t(e){var n;return(0,r.default)(this,t),(n=(0,i.default)(this,(0,a.default)(t).call(this,'Dependency path is cyclic. See this error\'s "path" property for the path details.'))).path=void 0,n.path=e,n}return(0,s.default)(t,e),t}((0,o(n(19)).default)(Error));t.CyclicError=c},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var o=n(25),r=n(147);function i(t,n,a){return r()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.NodesCollector=void 0;var r=o(n(1)),i=o(n(3)),a=n(149),s=n(34),c=function(){function e(){(0,r.default)(this,e),this.collectedStack=[]}return(0,i.default)(e,[{key:"start",value:function(){this.collectedStack.push([])}},{key:"collect",value:function(e){if(this.collectedStack.length){var t=(0,a.lastArrayItem)(this.collectedStack);(0,s.addUniqueItemToArray)(e,t)}}},{key:"stop",value:function(){var e=this.collectedStack.pop();return e||[]}}],[{key:"get",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();t.NodesCollector=c,c.instance=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastArrayItem=function(e){return e[e.length-1]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeItemFromArrayIfExists=function(e,t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.Observed=void 0;var r=o(n(1)),i=o(n(15)),a=o(n(12)),s=o(n(13)),c=function(e){function t(e){var n;return(0,r.default)(this,t),(n=(0,i.default)(this,(0,a.default)(t).call(this))).value=void 0,n.value=e,n}return(0,s.default)(t,e),t}(n(33).Node);t.Observed=c},function(e,t,n){"use strict";var o=n(20);Object.defineProperty(t,"__esModule",{value:!0}),t.configureConnect=function(e){e.addPropertyNamesToNodes&&(f.addPropertyNamesToNodes=e.addPropertyNamesToNodes);e.addNodeLookupToClass&&(f.addNodeLookupToClass=e.addNodeLookupToClass)},t.connect=function(e){return function(e){function t(){var e,n;(0,r.default)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=(0,i.default)(this,(e=(0,a.default)(t)).call.apply(e,[this].concat(c))),d((0,s.default)(n)),n}return(0,c.default)(t,e),t}(e)},t.connectFactory=function(e){return function(){var t=e.apply(void 0,arguments);return d(t),t}},t.connectObject=d;var r=o(n(1)),i=o(n(15)),a=o(n(12)),s=o(n(30)),c=o(n(13)),l=n(31),u=n(14),f={addPropertyNamesToNodes:!1,addNodeLookupToClass:!1};function d(e){var t={},n=function(e){var t={};p(e,t);for(;e=Object.getPrototypeOf(e);)p(e,t);return t}(e);return function(e){for(var t=Object.getOwnPropertyNames(e),n=0;n<t.length;n++){var o=t[n];delete t[o]}}(e),function(e,t,n){var o=[];for(var r in t){var i=t[r],a=h(e,r,i,n),s=a.descriptor,c=a.initializer;o.push(c),Object.defineProperty(e,r,s)}!function(e,t){for(var n=0;n<t.length;n++){(0,t[n])()}}(0,o)}(e,n,t),f.addNodeLookupToClass&&function(e,t){Object.defineProperty(e,"_nodeLookup",{configurable:!0,enumerable:!0,writable:!0,value:t})}(e,t),e}function p(e,t){for(var n=Object.getOwnPropertyNames(e),o=0;o<n.length;o++){var r=n[o],i=Object.getOwnPropertyDescriptor(e,r);i&&!(r in t)&&(t[r]=i)}}function h(e,t,n,o){var r,i=!1;function a(){i||(r=n.get?new l.Computed(n.get.bind(e)):"function"==typeof n.value?new l.Computed(n.value.bind(e)):new u.Observed(n.value),f.addPropertyNamesToNodes&&function(e,t){Object.defineProperty(e,"_nodeName",{configurable:!0,enumerable:!0,writable:!0,value:t})}(r,t),f.addNodeLookupToClass&&(o[t]=r),i=!0)}return{initializer:a,descriptor:"function"==typeof n.value?n:{configurable:n.configurable,enumerable:n.enumerable,get:function(){return a(),r.getValue()},set:function(e){r.setValue(e)}}}}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var o=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],i(n),i(o))}function a(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(o),n=1;n<t.length;n++)t=(e=i(t,n).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var o=a(n[0]);o!==n[0]&&(t[n[0]]=o)}n=r.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var c=i[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){var o=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function s(e,t,n,o){var r=t&&t.prototype instanceof u?t:u,i=Object.create(r.prototype),a=new k(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return I()}for(n.method=r,n.arg=i;;){var a=n.delegate;if(a){var s=y(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=c(e,t,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function u(){}function f(){}function d(){}var p={};p[r]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(x([])));m&&m!==t&&n.call(m,r)&&(p=m);var g=d.prototype=u.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,t){var o;this._invoke=function(r,i){function a(){return new t((function(o,a){!function o(r,i,a,s){var l=c(e[r],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return o("throw",e,a,s)}))}s(l.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,l;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var a=new b(s(t,n,o,r),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),g[a]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var c,l=[],u=!1,f=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){!function(e){"use strict";e.defineMode("javascript",(function(t,n){var o,r,i=t.indentUnit,a=n.statementIndent,s=n.jsonld,c=n.json||s,l=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,f=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),o=e("keyword c"),r=e("keyword d"),i=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:o,void:o,throw:o,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:o,export:e("export"),import:e("import"),extends:o,await:o}}(),d=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,n){return o=e,r=n,t}function m(e,t){var n,o=e.next();if('"'==o||"'"==o)return t.tokenize=(n=o,function(e,t){var o,r=!1;if(s&&"@"==e.peek()&&e.match(p))return t.tokenize=m,h("jsonld-keyword","meta");for(;null!=(o=e.next())&&(o!=n||r);)r=!r&&"\\"==o;return r||(t.tokenize=m),h("string","string")}),t.tokenize(e,t);if("."==o&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==o&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(o))return h(o);if("="==o&&e.eat(">"))return h("=>","operator");if("0"==o&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(o))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==o)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ke(e,t,1)?(function(e){for(var t,n=!1,o=!1;null!=(t=e.next());){if(!n){if("/"==t&&!o)return;"["==t?o=!0:o&&"]"==t&&(o=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==o)return t.tokenize=v,v(e,t);if("#"==o&&"!"==e.peek())return e.skipToEnd(),h("meta","meta");if("#"==o&&e.eatWhile(u))return h("variable","property");if("<"==o&&e.match("!--")||"-"==o&&e.match("->"))return e.skipToEnd(),h("comment","comment");if(d.test(o))return">"==o&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=o&&"="!=o||e.eat("="):/[<>*+\-]/.test(o)&&(e.eat(o),">"==o&&e.eat(o))),"?"==o&&e.eat(".")?h("."):h("operator","operator",e.current());if(u.test(o)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(f.propertyIsEnumerable(r)){var i=f[r];return h(i.type,i.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",r)}return h("variable","variable",r)}}function g(e,t){for(var n,o=!1;n=e.next();){if("/"==n&&o){t.tokenize=m;break}o="*"==n}return h("comment","comment")}function v(e,t){for(var n,o=!1;null!=(n=e.next());){if(!o&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=m;break}o=!o&&"\\"==n}return h("quasi","string-2",e.current())}function b(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(l){var o=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));o&&(n=o.index)}for(var r=0,i=!1,a=n-1;a>=0;--a){var s=e.string.charAt(a),c="([{}])".indexOf(s);if(c>=0&&c<3){if(!r){++a;break}if(0==--r){"("==s&&(i=!0);break}}else if(c>=3&&c<6)++r;else if(u.test(s))i=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(i&&!r){++a;break}}i&&!r&&(t.fatArrowAt=a)}}var y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function _(e,t,n,o,r,i){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=i,null!=o&&(this.align=o)}function w(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var o=e.context;o;o=o.prev)for(n=o.vars;n;n=n.next)if(n.name==t)return!0}var k={state:null,column:null,marked:null,cc:null};function x(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function I(){return x.apply(null,arguments),!0}function C(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function S(e){var t=k.state;if(k.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var o=function e(t,n){if(n){if(n.block){var o=e(t,n.prev);return o?o==n.prev?n:new O(o,n.vars,!0):null}return C(t,n.vars)?n:new O(n.prev,new N(t,n.vars),!1)}return null}(e,t.context);if(null!=o)return void(t.context=o)}else if(!C(e,t.localVars))return void(t.localVars=new N(e,t.localVars));n.globalVars&&!C(e,t.globalVars)&&(t.globalVars=new N(e,t.globalVars))}function M(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function O(e,t,n){this.prev=e,this.vars=t,this.block=n}function N(e,t){this.name=e,this.next=t}var T=new N("this",new N("arguments",null));function E(){k.state.context=new O(k.state.context,k.state.localVars,!1),k.state.localVars=T}function A(){k.state.context=new O(k.state.context,k.state.localVars,!0),k.state.localVars=null}function D(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function L(e,t){var n=function(){var n=k.state,o=n.indented;if("stat"==n.lexical.type)o=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)o=r.indented;n.lexical=new _(o,k.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function P(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function R(e){return function t(n){return n==e?I():";"==e||"}"==n||")"==n||"]"==n?x():I(t)}}function F(e,t){return"var"==e?I(L("vardef",t),be,R(";"),P):"keyword a"==e?I(L("form"),H,F,P):"keyword b"==e?I(L("form"),F,P):"keyword d"==e?k.stream.match(/^\s*$/,!1)?I():I(L("stat"),$,R(";"),P):"debugger"==e?I(R(";")):"{"==e?I(L("}"),A,ie,P,D):";"==e?I():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==P&&k.state.cc.pop()(),I(L("form"),H,F,P,Ie)):"function"==e?I(Oe):"for"==e?I(L("form"),Ce,F,P):"class"==e||l&&"interface"==t?(k.marked="keyword",I(L("form","class"==e?e:t),De,P)):"variable"==e?l&&"declare"==t?(k.marked="keyword",I(F)):l&&("module"==t||"enum"==t||"type"==t)&&k.stream.match(/^\s*\w/,!1)?(k.marked="keyword","enum"==t?I(Ue):"type"==t?I(Te,R("operator"),ue,R(";")):I(L("form"),ye,R("{"),L("}"),ie,P,P)):l&&"namespace"==t?(k.marked="keyword",I(L("form"),z,F,P)):l&&"abstract"==t?(k.marked="keyword",I(F)):I(L("stat"),Z):"switch"==e?I(L("form"),H,R("{"),L("}","switch"),A,ie,P,P,D):"case"==e?I(z,R(":")):"default"==e?I(R(":")):"catch"==e?I(L("form"),E,B,F,P,D):"export"==e?I(L("stat"),Fe,P):"import"==e?I(L("stat"),ze,P):"async"==e?I(F):"@"==t?I(z,F):x(L("stat"),z,R(";"),P)}function B(e){if("("==e)return I(Ee,R(")"))}function z(e,t){return W(e,t,!1)}function j(e,t){return W(e,t,!0)}function H(e){return"("!=e?x():I(L(")"),$,R(")"),P)}function W(e,t,n){if(k.state.fatArrowAt==k.stream.start){var o=n?J:X;if("("==e)return I(E,L(")"),oe(Ee,")"),P,R("=>"),o,D);if("variable"==e)return x(E,ye,R("=>"),o,D)}var r=n?U:V;return y.hasOwnProperty(e)?I(r):"function"==e?I(Oe,r):"class"==e||l&&"interface"==t?(k.marked="keyword",I(L("form"),Ae,P)):"keyword c"==e||"async"==e?I(n?j:z):"("==e?I(L(")"),$,R(")"),P,r):"operator"==e||"spread"==e?I(n?j:z):"["==e?I(L("]"),Ve,P,r):"{"==e?re(ee,"}",null,r):"quasi"==e?x(q,r):"new"==e?I(function(e){return function(t){return"."==t?I(e?Y:G):"variable"==t&&l?I(me,e?U:V):x(e?j:z)}}(n)):"import"==e?I(z):I()}function $(e){return e.match(/[;\}\)\],]/)?x():x(z)}function V(e,t){return","==e?I($):U(e,t,!1)}function U(e,t,n){var o=0==n?V:U,r=0==n?z:j;return"=>"==e?I(E,n?J:X,D):"operator"==e?/\+\+|--/.test(t)||l&&"!"==t?I(o):l&&"<"==t&&k.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?I(L(">"),oe(ue,">"),P,o):"?"==t?I(z,R(":"),r):I(r):"quasi"==e?x(q,o):";"!=e?"("==e?re(j,")","call",o):"."==e?I(Q,o):"["==e?I(L("]"),$,R("]"),P,o):l&&"as"==t?(k.marked="keyword",I(ue,o)):"regexp"==e?(k.state.lastType=k.marked="operator",k.stream.backUp(k.stream.pos-k.stream.start-1),I(r)):void 0:void 0}function q(e,t){return"quasi"!=e?x():"${"!=t.slice(t.length-2)?I(q):I(z,K)}function K(e){if("}"==e)return k.marked="string-2",k.state.tokenize=v,I(q)}function X(e){return b(k.stream,k.state),x("{"==e?F:z)}function J(e){return b(k.stream,k.state),x("{"==e?F:j)}function G(e,t){if("target"==t)return k.marked="keyword",I(V)}function Y(e,t){if("target"==t)return k.marked="keyword",I(U)}function Z(e){return":"==e?I(P,F):x(V,R(";"),P)}function Q(e){if("variable"==e)return k.marked="property",I()}function ee(e,t){return"async"==e?(k.marked="property",I(ee)):"variable"==e||"keyword"==k.style?(k.marked="property","get"==t||"set"==t?I(te):(l&&k.state.fatArrowAt==k.stream.start&&(n=k.stream.match(/^\s*:\s*/,!1))&&(k.state.fatArrowAt=k.stream.pos+n[0].length),I(ne))):"number"==e||"string"==e?(k.marked=s?"property":k.style+" property",I(ne)):"jsonld-keyword"==e?I(ne):l&&M(t)?(k.marked="keyword",I(ee)):"["==e?I(z,ae,R("]"),ne):"spread"==e?I(j,ne):"*"==t?(k.marked="keyword",I(ee)):":"==e?x(ne):void 0;var n}function te(e){return"variable"!=e?x(ne):(k.marked="property",I(Oe))}function ne(e){return":"==e?I(j):"("==e?x(Oe):void 0}function oe(e,t,n){function o(r,i){if(n?n.indexOf(r)>-1:","==r){var a=k.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),I((function(n,o){return n==t||o==t?x():x(e)}),o)}return r==t||i==t?I():n&&n.indexOf(";")>-1?x(e):I(R(t))}return function(n,r){return n==t||r==t?I():x(e,o)}}function re(e,t,n){for(var o=3;o<arguments.length;o++)k.cc.push(arguments[o]);return I(L(t,n),oe(e,t),P)}function ie(e){return"}"==e?I():x(F,ie)}function ae(e,t){if(l){if(":"==e)return I(ue);if("?"==t)return I(ae)}}function se(e,t){if(l&&(":"==e||"in"==t))return I(ue)}function ce(e){if(l&&":"==e)return k.stream.match(/^\s*\w+\s+is\b/,!1)?I(z,le,ue):I(ue)}function le(e,t){if("is"==t)return k.marked="keyword",I()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(k.marked="keyword",I("typeof"==t?j:ue)):"variable"==e||"void"==t?(k.marked="type",I(he)):"|"==t||"&"==t?I(ue):"string"==e||"number"==e||"atom"==e?I(he):"["==e?I(L("]"),oe(ue,"]",","),P,he):"{"==e?I(L("}"),oe(de,"}",",;"),P,he):"("==e?I(oe(pe,")"),fe,he):"<"==e?I(oe(ue,">"),ue):void 0}function fe(e){if("=>"==e)return I(ue)}function de(e,t){return"variable"==e||"keyword"==k.style?(k.marked="property",I(de)):"?"==t||"number"==e||"string"==e?I(de):":"==e?I(ue):"["==e?I(R("variable"),se,R("]"),de):"("==e?x(Ne,de):void 0}function pe(e,t){return"variable"==e&&k.stream.match(/^\s*[?:]/,!1)||"?"==t?I(pe):":"==e?I(ue):"spread"==e?I(pe):x(ue)}function he(e,t){return"<"==t?I(L(">"),oe(ue,">"),P,he):"|"==t||"."==e||"&"==t?I(ue):"["==e?I(ue,R("]"),he):"extends"==t||"implements"==t?(k.marked="keyword",I(ue)):"?"==t?I(ue,R(":"),ue):void 0}function me(e,t){if("<"==t)return I(L(">"),oe(ue,">"),P,he)}function ge(){return x(ue,ve)}function ve(e,t){if("="==t)return I(ue)}function be(e,t){return"enum"==t?(k.marked="keyword",I(Ue)):x(ye,ae,ke,xe)}function ye(e,t){return l&&M(t)?(k.marked="keyword",I(ye)):"variable"==e?(S(t),I()):"spread"==e?I(ye):"["==e?re(we,"]"):"{"==e?re(_e,"}"):void 0}function _e(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?I(ye):"}"==e?x():"["==e?I(z,R("]"),R(":"),_e):I(R(":"),ye,ke)):(S(t),I(ke))}function we(){return x(ye,ke)}function ke(e,t){if("="==t)return I(j)}function xe(e){if(","==e)return I(be)}function Ie(e,t){if("keyword b"==e&&"else"==t)return I(L("form","else"),F,P)}function Ce(e,t){return"await"==t?I(Ce):"("==e?I(L(")"),Se,P):void 0}function Se(e){return"var"==e?I(be,Me):"variable"==e?I(Me):x(Me)}function Me(e,t){return")"==e?I():";"==e?I(Me):"in"==t||"of"==t?(k.marked="keyword",I(z,Me)):x(z,Me)}function Oe(e,t){return"*"==t?(k.marked="keyword",I(Oe)):"variable"==e?(S(t),I(Oe)):"("==e?I(E,L(")"),oe(Ee,")"),P,ce,F,D):l&&"<"==t?I(L(">"),oe(ge,">"),P,Oe):void 0}function Ne(e,t){return"*"==t?(k.marked="keyword",I(Ne)):"variable"==e?(S(t),I(Ne)):"("==e?I(E,L(")"),oe(Ee,")"),P,ce,D):l&&"<"==t?I(L(">"),oe(ge,">"),P,Ne):void 0}function Te(e,t){return"keyword"==e||"variable"==e?(k.marked="type",I(Te)):"<"==t?I(L(">"),oe(ge,">"),P):void 0}function Ee(e,t){return"@"==t&&I(z,Ee),"spread"==e?I(Ee):l&&M(t)?(k.marked="keyword",I(Ee)):l&&"this"==e?I(ae,ke):x(ye,ae,ke)}function Ae(e,t){return"variable"==e?De(e,t):Le(e,t)}function De(e,t){if("variable"==e)return S(t),I(Le)}function Le(e,t){return"<"==t?I(L(">"),oe(ge,">"),P,Le):"extends"==t||"implements"==t||l&&","==e?("implements"==t&&(k.marked="keyword"),I(l?ue:z,Le)):"{"==e?I(L("}"),Pe,P):void 0}function Pe(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||l&&M(t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",I(Pe)):"variable"==e||"keyword"==k.style?(k.marked="property",I(Re,Pe)):"number"==e||"string"==e?I(Re,Pe):"["==e?I(z,ae,R("]"),Re,Pe):"*"==t?(k.marked="keyword",I(Pe)):l&&"("==e?x(Ne,Pe):";"==e||","==e?I(Pe):"}"==e?I():"@"==t?I(z,Pe):void 0}function Re(e,t){if("?"==t)return I(Re);if(":"==e)return I(ue,ke);if("="==t)return I(j);var n=k.state.lexical.prev;return x(n&&"interface"==n.info?Ne:Oe)}function Fe(e,t){return"*"==t?(k.marked="keyword",I($e,R(";"))):"default"==t?(k.marked="keyword",I(z,R(";"))):"{"==e?I(oe(Be,"}"),$e,R(";")):x(F)}function Be(e,t){return"as"==t?(k.marked="keyword",I(R("variable"))):"variable"==e?x(j,Be):void 0}function ze(e){return"string"==e?I():"("==e?x(z):x(je,He,$e)}function je(e,t){return"{"==e?re(je,"}"):("variable"==e&&S(t),"*"==t&&(k.marked="keyword"),I(We))}function He(e){if(","==e)return I(je,He)}function We(e,t){if("as"==t)return k.marked="keyword",I(je)}function $e(e,t){if("from"==t)return k.marked="keyword",I(z)}function Ve(e){return"]"==e?I():x(oe(j,"]"))}function Ue(){return x(L("form"),ye,R("{"),L("}"),oe(qe,"}"),P,P)}function qe(){return x(ye,ke)}function Ke(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return D.lex=!0,P.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new _((e||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new O(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),b(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==o?n:(t.lastType="operator"!=o||"++"!=r&&"--"!=r?o:"incdec",function(e,t,n,o,r){var i=e.cc;for(k.state=e,k.stream=r,k.marked=null,k.cc=i,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():c?z:F)(n,o)){for(;i.length&&i[i.length-1].lex;)i.pop()();return k.marked?k.marked:"variable"==n&&w(e,o)?"variable-2":t}}(t,n,o,r,e))},indent:function(t,o){if(t.tokenize==g)return e.Pass;if(t.tokenize!=m)return 0;var r,s=o&&o.charAt(0),c=t.lexical;if(!/^\s*else\b/.test(o))for(var l=t.cc.length-1;l>=0;--l){var u=t.cc[l];if(u==P)c=c.prev;else if(u!=Ie)break}for(;("stat"==c.type||"form"==c.type)&&("}"==s||(r=t.cc[t.cc.length-1])&&(r==V||r==U)&&!/^[,\.=+\-*:?[\(]/.test(o));)c=c.prev;a&&")"==c.type&&"stat"==c.prev.type&&(c=c.prev);var f=c.type,p=s==f;return"vardef"==f?c.indented+("operator"==t.lastType||","==t.lastType?c.info.length+1:0):"form"==f&&"{"==s?c.indented:"form"==f?c.indented+i:"stat"==f?c.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,o)?a||i:0):"switch"!=c.info||p||0==n.doubleIndentSwitch?c.align?c.column+(p?0:1):c.indented+(p?0:i):c.indented+(/^(?:case|default)\b/.test(o)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:s,jsonMode:c,expressionAllowed:Ke,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=z&&t!=j||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(23))},function(e,t,n){var o=n(10),r=n(162);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:blue}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:bold}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:blue}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none !important;border:none !important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}',""]),e.exports=t},function(e,t,n){var o=n(10),r=n(164);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".CodeMirror{height:auto;z-index:0}",""]),e.exports=t},function(e,t,n){var o=n(10),r=n(166);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,t,n){(t=n(11)(!1)).push([e.i,".TodoList.TodoList{padding-left:0px}.TodoList__Item.TodoList__Item{padding-left:0px}.TodoList__Item{display:flex;align-items:flex-start}.TodoList__CheckButton{margin-top:1.5px;flex:0 0 auto}.TodoList__Content{flex:1 1 auto;padding-left:5px}.TodoList__Content--done{text-decoration:line-through}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);n(37),n(39),n(91);var o,r,i,a,s,c,l,u=n(5),f=n.n(u),d={},p=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function m(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,n){var o,r=arguments,i={};for(o in t)"key"!==o&&"ref"!==o&&(i[o]=t[o]);if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(r[o]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===i[o]&&(i[o]=e.defaultProps[o]);return b(e,i,t&&t.key,t&&t.ref,null)}function b(e,t,n,r,i){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(a.__v=a),o.vnode&&o.vnode(a),a}function y(e){return e.children}function _(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function k(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return k(e)}}function x(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!i++||s!==o.debounceRendering)&&((s=o.debounceRendering)||a)(I)}function I(){for(var e;i=r.length;)e=r.sort((function(e,t){return e.__v.__b-t.__v.__b})),r=[],e.some((function(e){var t,n,o,r,i,a,s;e.__d&&(a=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(o=m({},i)).__v=o,r=N(s,i,o,t.__n,void 0!==s.ownerSVGElement,null,n,null==a?w(i):a),T(n,i),r!=a&&k(i)))}))}function C(e,t,n,o,r,i,a,s,c,l){var u,f,h,m,v,_,k,x,I,C=o&&o.__k||p,S=C.length;for(c==d&&(c=null!=a?a[0]:S?w(o,0):null),n.__k=[],u=0;u<t.length;u++)if(null!=(m=n.__k[u]=null==(m=t[u])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?b(null,m,null,null,m):Array.isArray(m)?b(y,{children:m},null,null,null):null!=m.__e||null!=m.__c?b(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(h=C[u])||h&&m.key==h.key&&m.type===h.type)C[u]=void 0;else for(f=0;f<S;f++){if((h=C[f])&&m.key==h.key&&m.type===h.type){C[f]=void 0;break}h=null}if(v=N(e,m,h=h||d,r,i,a,s,c,l),(f=m.ref)&&h.ref!=f&&(x||(x=[]),h.ref&&x.push(h.ref,null,m),x.push(f,m.__c||v,m)),null!=v){if(null==k&&(k=v),I=void 0,void 0!==m.__d)I=m.__d,m.__d=void 0;else if(a==h||v!=c||null==v.parentNode){e:if(null==c||c.parentNode!==e)e.appendChild(v),I=null;else{for(_=c,f=0;(_=_.nextSibling)&&f<S;f+=2)if(_==v)break e;e.insertBefore(v,c),I=c}"option"==n.type&&(e.value="")}c=void 0!==I?I:v.nextSibling,"function"==typeof n.type&&(n.__d=c)}else c&&h.__e==c&&c.parentNode!=e&&(c=w(h))}if(n.__e=k,null!=a&&"function"!=typeof n.type)for(u=a.length;u--;)null!=a[u]&&g(a[u]);for(u=S;u--;)null!=C[u]&&D(C[u],C[u]);if(x)for(u=0;u<x.length;u++)A(x[u],x[++u],x[++u])}function S(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===h.test(t)?n+"px":null==n?"":n}function M(e,t,n,o,r){var i,a,s,c,l;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(c in o)n&&c in n||S(i,c,"");if(n)for(l in n)o&&n[l]===o[l]||S(i,l,n[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(o||e.addEventListener(t,O,a),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,O,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function O(e){this.l[e.type](o.event?o.event(e):e)}function N(e,t,n,r,i,a,s,c,l){var u,f,d,p,h,g,v,b,w,k,x,I=t.type;if(void 0!==t.constructor)return null;(u=o.__b)&&u(t);try{e:if("function"==typeof I){if(b=t.props,w=(u=I.contextType)&&r[u.__c],k=u?w?w.props.value:u.__:r,n.__c?v=(f=t.__c=n.__c).__=f.__E:("prototype"in I&&I.prototype.render?t.__c=f=new I(b,k):(t.__c=f=new _(b,k),f.constructor=I,f.render=L),w&&w.sub(f),f.props=b,f.state||(f.state={}),f.context=k,f.__n=r,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=m({},f.__s)),m(f.__s,I.getDerivedStateFromProps(b,f.__s))),p=f.props,h=f.state,d)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==I.getDerivedStateFromProps&&b!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,k)||t.__v===n.__v){for(f.props=b,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&s.push(f),u=0;u<t.__k.length;u++)t.__k[u]&&(t.__k[u].__=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,h,g)}))}f.context=k,f.props=b,f.state=f.__s,(u=o.__r)&&u(t),f.__d=!1,f.__v=t,f.__P=e,u=f.render(f.props,f.state,f.context),null!=f.getChildContext&&(r=m(m({},r),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(g=f.getSnapshotBeforeUpdate(p,h)),x=null!=u&&u.type==y&&null==u.key?u.props.children:u,C(e,Array.isArray(x)?x:[x],t,n,r,i,a,s,c,l),f.base=t.__e,f.__h.length&&s.push(f),v&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=E(n.__e,t,n,r,i,a,s,l);(u=o.diffed)&&u(t)}catch(e){t.__v=null,o.__e(e,t,n)}return t.__e}function T(e,t){o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function E(e,t,n,o,r,i,a,s){var c,l,u,f,h,m=n.props,g=t.props;if(r="svg"===t.type||r,null!=i)for(c=0;c<i.length;c++)if(null!=(l=i[c])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,i[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(g);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,g.is&&{is:g.is}),i=null,s=!1}if(null===t.type)m!==g&&e.data!=g&&(e.data=g);else{if(null!=i&&(i=p.slice.call(e.childNodes)),u=(m=n.props||d).dangerouslySetInnerHTML,f=g.dangerouslySetInnerHTML,!s){if(null!=i)for(m={},h=0;h<e.attributes.length;h++)m[e.attributes[h].name]=e.attributes[h].value;(f||u)&&(f&&u&&f.__html==u.__html||(e.innerHTML=f&&f.__html||""))}(function(e,t,n,o,r){var i;for(i in n)"children"===i||"key"===i||i in t||M(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||M(e,i,t[i],n[i],o)})(e,g,m,r,s),f?t.__k=[]:(c=t.props.children,C(e,Array.isArray(c)?c:[c],t,n,o,"foreignObject"!==t.type&&r,i,a,d,s)),s||("value"in g&&void 0!==(c=g.value)&&c!==e.value&&M(e,"value",c,m.value,!1),"checked"in g&&void 0!==(c=g.checked)&&c!==e.checked&&M(e,"checked",c,m.checked,!1))}return e}function A(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){o.__e(e,n)}}function D(e,t,n){var r,i,a;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||A(r,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&D(r[a],t,n);null!=i&&g(i)}function L(e,t,n){return this.constructor(e,n)}function P(e,t,n){var r,i,a;o.__&&o.__(e,t),i=(r=n===c)?null:n&&n.__k||t.__k,e=v(y,null,[e]),a=[],N(t,(r?t:n||t).__k=e,i||d,d,void 0!==t.ownerSVGElement,n&&!r?[n]:i?null:t.childNodes.length?p.slice.call(t.childNodes):null,a,n||d,r),T(a,e)}function R(e){var t={},n={__c:"__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var o,r=this;return this.getChildContext||(o=[],this.getChildContext=function(){return t[n.__c]=r,t},this.shouldComponentUpdate=function(e){r.props.value!==e.value&&o.some((function(t){t.context=e.value,x(t)}))},this.sub=function(e){o.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){o.splice(o.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n}o={__e:function(e,t){for(var n,o;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(o=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(o=!0,n.componentDidCatch(e)),o)return x(n.__E=n)}catch(t){e=t}throw e}},_.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},_.prototype.render=y,r=[],i=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=d,l=0;var F,B,z,j=R(null),H=R(null),W=(n(96),0),$=[],V=o.__r,U=o.diffed,q=o.__c,K=o.unmount;function X(e,t){o.__h&&o.__h(B,e,W||t),W=0;var n=B.__H||(B.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function J(e){return W=1,function(e,t,n){var o=X(F++,2);return o.t=e,o.__c||(o.__c=B,o.__=[n?n(t):re(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__[0]=t,o.__c.setState({}))}]),o.__}(re,e)}function G(e,t){var n=X(F++,3);!o.__s&&oe(n.__H,t)&&(n.__=e,n.__H=t,B.__H.__h.push(n))}function Y(e){return W=5,Z((function(){return{current:e}}),[])}function Z(e,t){var n=X(F++,7);return oe(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function Q(e){var t=B.context[e.__c],n=X(F++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(B)),t.props.value):e.__}function ee(){$.some((function(e){if(e.__P)try{e.__H.__h.forEach(te),e.__H.__h.forEach(ne),e.__H.__h=[]}catch(t){return e.__H.__h=[],o.__e(t,e.__v),!0}})),$=[]}function te(e){"function"==typeof e.u&&e.u()}function ne(e){e.u=e.__()}function oe(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function re(e,t){return"function"==typeof t?t(e):t}function ie(e){G(e,[])}o.__r=function(e){V&&V(e),F=0;var t=(B=e.__c).__H;t&&(t.__h.forEach(te),t.__h.forEach(ne),t.__h=[])},o.diffed=function(e){U&&U(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==$.push(t)&&z===o.requestAnimationFrame||((z=o.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(ee))},o.__c=function(e,t){t.some((function(e){try{e.__h.forEach(te),e.__h=e.__h.filter((function(e){return!e.__||ne(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],o.__e(n,e.__v)}})),q&&q(e,t)},o.unmount=function(e){K&&K(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(te)}catch(e){o.__e(e,t.__v)}};var ae=function(e){var t=Y(e);t.current=e,ie((function(){return function(){return t.current()}}))},se=R(null);function ce(e){return Z(e,[])}function le(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r,i=e,a=Q(se),s=a.createRenderer,c=J({}),l=f()(c,2),u=l[1],d=ce((function(){return s()}));return d.calculation={isInitialRender:!0,perform:function(){r=i.apply(void 0,n)},onUpdate:function(){u({})}},ae((function(){d.calculation=null})),r}}var ue=le((function(){var e=Q(j).authData,t=Q(H).auth;return v("main",{className:"Welcome"},v("article",{className:"Welcome__WelcomeCard"},v("h1",{className:"Welcome__Header Welcome__AppName"},"Secure Book"),v("section",{className:"Welcome__Information"},v("p",null,v("span",{className:"Welcome__AppName"},"Secure Book")," is a completely free private note-taking web application. It allows you to create ",v("strong",null,"aes-256")," encrypted notes.")),v("section",{className:"Welcome__HowSection"},v("h2",{className:"Welcome__How"},"How does it work?"),v("ol",{className:"Welcome__HowList"},v("li",{className:"Welcome__HowListItem"},"Sign in via GitLab. GitLab is a service that allows you to create private repositories and store content inside of them."),v("li",{className:"Welcome__HowListItem"},"Choose a password for your notes. Nobody will be able to read the contents of the notes without knowing the password."),v("li",{className:"Welcome__HowListItem"},"Create, edit and delete notes."))),e.data.error?v("section",{className:"Welcome__CredentialsError"},"Error: ",e.data.error,". ",e.data.errorDescription):null,v("button",{className:"Welcome__LoginButton",onClick:function(){t.login()}},"Login via GitLab")))}));n(103);function fe(e){var t=[];for(var n in e)t.push(e[n]);return t}var de=n(17),pe=(n(105),n(2));n(107);var he=function(e){var t=e.className;return v("div",{className:"TextLoading ".concat(void 0===t?"":t)},v("div",{className:"TextLoading__Line TextLoading__Line-1"},v("div",{className:"TextLoading__Gradient"})),v("div",{className:"TextLoading__Line TextLoading__Line-2"},v("div",{className:"TextLoading__Gradient"})),v("div",{className:"TextLoading__Line TextLoading__Line-3"},v("div",{className:"TextLoading__Gradient"})))};var me=le((function(e){var t=e.contentId,n=e.content,o=e.onContentChange,r=e.disabled,i=void 0!==r&&r,a=e.showTextLoading,s=void 0!==a&&a,c=Q(j),l=c.editor,u=c.notes,f=Y(null),d=Y(null),p=Y();function h(){if(p.current&&u.state[p.current])l.current.state=u.state[p.current];else{var e=document.createElement("span");e.innerHTML=d.current.html,l.current.state=pe.EditorState.create({schema:l.editorSchema.schema,doc:l.domParser.parse(e),plugins:l.editorPluginsManager.getPlugins(l.editorSchema.schema)})}}return p.current=t,d.current=n,ie((function(){h();return l.current.view=new de.c(f.current,{state:l.current.state,dispatchTransaction:function(e){var t=document.createElement("div");l.current.state=l.current.state.apply(e),p.current&&(u.state[p.current]=l.current.state),l.current.view.updateState(l.current.state),t.appendChild(l.domSerializer.serializeFragment(l.current.state.doc.content)),d.current.html!==t.innerHTML&&o(f.current.innerText||"",{html:t.innerHTML})},nodeViews:l.nodeViews}),function(){l.current.view.destroy(),l.current.view=null,l.current.state=null}})),G((function(){h(),l.current.view.updateState(l.current.state)}),[t,u.state]),v("div",{className:"EditorPresenter ".concat(i?"EditorPresenter--disabled":"")},s&&v(he,{className:"EditorPresenter__TextLoading"}),v("div",{className:"EditorPresenter__Content",ref:f}))})),ge=n(9),ve=n.n(ge),be=n(18),ye=n.n(be);n(110);var _e=function(e){var t=e.type,n=e.iconStyle,o=ye()(e,["type","iconStyle"]);return v("i",ve()({},o,{className:"Icon ".concat(t?"Icon--".concat(t):""," ").concat(n?"Icon--font-".concat(n):""," ").concat(o.class||o.className||"")}))};n(113);var we=R({});function ke(){var e=Q(we),t=J({}),n=f()(t,2)[1],o=J({}),r=f()(o,1)[0];return e.currentId||(e.currentId=0),e.childrenStore=r,e.updateChildren=function(){return n({})},v(y,null,fe(r).map((function(e){return v(y,null,e)})))}function xe(e){var t=e.children,n=Q(we),o=Y(0);return ie((function(){o.current=n.currentId++})),G((function(){n.childrenStore[o.current]=t,n.updateChildren()}),[t]),ae((function(){delete n.childrenStore[o.current],n.updateChildren()})),null}function Ie(e){return function(t){return v(xe,null,v(e,t))}}var Ce=Ie((function(e){var t=e.direction,n=void 0===t?{v:"bottom",h:"right"}:t,o=e.children,r=e.onClose,i=e.position,a=void 0===i?{x:0,y:0}:i,s=e.relativeRef,c=void 0===s?{current:null}:s,l=Y(!1),u=Y(null),d=J(!0),p=f()(d,2),h=p[0],m=p[1],g=J({top:0,left:0}),b=f()(g,2),y=b[0],_=b[1],w=Y(!0);return G((function(){w.current?w.current=!1:m(!0)}),[o]),ie((function(){var e=function(e){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(e.target,u.current)||(e.preventDefault(),e.stopPropagation(),l.current=!0,r())};return document.body.addEventListener("mousedown",e,!0),document.body.addEventListener("contextmenu",e,!0),window.addEventListener("scroll",e,!0),function(){document.body.removeEventListener("mousedown",e,!0),document.body.removeEventListener("contextmenu",e,!0),window.removeEventListener("scroll",e,!0)}})),G((function(){if(h){var e={top:"bottom",bottom:"top",left:"right",right:"left"},t=u.current.getBoundingClientRect(),o=c.current?c.current.getBoundingClientRect():null,r=o?{v:n.v,h:e[n.h]}:n,i=o?{x:"right"===r.h?o.left:o.left+o.width,y:"top"===r.v?o.top:o.top+o.height}:a,s={top:i.y,right:window.innerWidth-i.x,bottom:window.innerHeight-i.y,left:i.x},l={v:s[r.v]<t.height?e[r.v]:r.v,h:r.h},f={v:s[l.v]-t.height,h:s[l.h]-t.width},d={top:"top"===l.v?-t.height:0,left:"left"===l.h?-t.width:0},p={top:"bottom"===l.v?f.v:-f.v,left:"right"===l.h?f.h:-f.h};m(!1),_({top:f.v<0?i.y+d.top+p.top:i.y+d.top,left:f.h<0?i.x+d.left+p.left:i.x+d.left})}}),[h]),ae((function(){l.current||r()})),v("div",{className:"ContextMenu ".concat(w.current&&h?"ContextMenu--sizing":"ContextMenu--visible"),ref:u,style:{top:"".concat(y.top,"px"),left:"".concat(y.left,"px")}},o)}));n(115);var Se=n(7),Me=n.n(Se);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Ne=le((function(e){var t,n=Q(H).locationManager,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return e.href&&(t=e.href,/^[a-zA-Z0-9]+?\:\/\//.test(t))?(o.rel="noopener noreferrer",o.target="_blank"):o.onClick=function(t){if(e.href&&(t.preventDefault(),n.push(e.href)),e.onClick)return e.onClick.call(this,t)},v("a",o)}));function Te(e){var t=e.isLink,n=void 0!==t&&t,o=e.tag,r=e.iconType,i=e.label,a=e.children,s=e.selected,c=void 0!==s&&s,l=e.labelProps,u=void 0===l?{}:l,f=ye()(e,["isLink","tag","iconType","label","children","selected","labelProps"]);return v((n&&!o?Ne:o)||"div",ve()({},f,{title:i,className:"DropDown__Item ".concat(f.class||f.className||""," ").concat(c?"DropDown__Item--selected":""," ").concat(n||f.onClick?"DropDown__Item--with-click":"")}),!!r&&v("span",{className:"DropDown__Icon"},v(_e,{type:r})),v("span",ve()({},u,{className:"DropDown__Label ".concat(u.class||u.className||"")}),a||i))}function Ee(e){return v("div",ve()({},e,{className:"DropDown ".concat(e.class||e.className||"")}))}n(117);function Ae(e){var t=e.fieldRef,n=void 0===t?Y(null):t,o=e.useField,r=ye()(e,["fieldRef","useField"]),i=r.onInput,a=r.onChange,s=J({}),c=f()(s,2)[1],l=J({selectionStart:null,selectionEnd:null,selectionDirection:null}),u=f()(l,2),d=u[0],p=u[1];return i&&(r.onInput=function(){p({selectionStart:n.current.selectionStart,selectionEnd:n.current.selectionEnd,selectionDirection:n.current.selectionDirection});for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=i.apply(this,t);return r}),a&&(r.onChange=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=a.apply(this,t);return c({}),o}),G((function(){var e=setTimeout((function(){null!==d.selectionStart&&null!==d.selectionEnd&&null!==d.selectionDirection&&n.current.setSelectionRange(d.selectionStart,d.selectionEnd,d.selectionDirection)}),0);return function(){clearTimeout(e)}}),[d]),o&&o(),v("input",ve()({},r,{ref:n}))}n(119);function De(e){var t,n,o,r,i=e.widths,a=ye()(e,["widths"]);return v(y,null,!!i.left&&v("div",ve()({},a,{style:{width:"".concat(null!==(t=i.left)&&void 0!==t?t:0,"px")},className:"ThemeBorder__BorderLeft ".concat(a.class||a.className||"")})),!!i.top&&v("div",ve()({},a,{style:{height:"".concat(null!==(n=i.top)&&void 0!==n?n:0,"px")},className:"ThemeBorder__BorderTop ".concat(a.class||a.className||"")})),!!i.bottom&&v("div",ve()({},a,{style:{height:"".concat(null!==(o=i.bottom)&&void 0!==o?o:0,"px")},className:"ThemeBorder__BorderBottom ".concat(a.class||a.className||"")})),!!i.right&&v("div",ve()({},a,{style:{width:"".concat(null!==(r=i.right)&&void 0!==r?r:0,"px")},className:"ThemeBorder__BorderRight ".concat(a.class||a.className||"")})))}var Le=function(e){var t=J(!1),n=f()(t,2),o=n[0],r=n[1],i=e.class||e.className||"",a=e.fieldClass||e.fieldClassName||"";return v("div",{className:"Input ".concat(i)},e.iconType&&v(_e,{type:e.iconType,className:"Input__Icon"}),o&&v(De,{widths:{bottom:1},className:"Input__ThemeBorder"}),v(Ae,ve()({},e,{fieldRef:e.fieldRef,useField:e.useField,onFocus:function(t){if(r(!0),e.onFocus)return e.onFocus.call(this,t)},onBlur:function(t){if(r(!1),e.onBlur)return e.onBlur.call(this,t)},className:"Input__Basic ".concat(a," ").concat(e.iconType?"Input__Basic--with-icon":"")})))};n(121);var Pe=Ie((function(e){var t=e.children;return v("div",{className:"Dialog"},v("div",{className:"Dialog__Overlay"}),v("div",{className:"Dialog__Main"},t))})),Re=(n(123),13),Fe=38,Be=40;function ze(){var e=Y(null);return{fieldRef:e,useField:function(){ie((function(){var t=setTimeout((function(){e.current&&e.current.focus()}),0);return function(){clearTimeout(t)}}))}}}n(125);var je=function(e){var t=e.isChecked,n=e.onSetChecked,o=ye()(e,["isChecked","onSetChecked"]);return v("button",ve()({},o,{className:"Checkbox ".concat(o.class||o.className||""),onClick:function(e){if(n&&n(!t),o.onClick)return o.onClick.call(this,e)}}),v(_e,{type:"check_box",className:"Checkbox__Icon ".concat(t?"Checkbox__Icon--visible":"Checkbox__Icon--invisible")}),v(_e,{type:"check_box_outline_blank",className:"Checkbox__Icon ".concat(t?"Checkbox__Icon--invisible":"Checkbox__Icon--visible")}))};var He=le((function(){var e=Q(j).password,t=Q(H).passwordManager,n=J(""),o=f()(n,2),r=o[0],i=o[1],a=J(!1),s=f()(a,2),c=s[0],l=s[1],u=J(!1),d=f()(u,2),p=d[0],h=d[1],m=ze();return"not provided"===e.status||"incorrect"===e.status?v(Pe,null,v("div",{className:"PasswordDialog"},v("h1",null,"Please enter password"),v("p",null,"If this is your first time using the app, choose a secure password. This password will be used to encrypt all of your notes. Without knowing the password, nobody will be able to see your notes."),v("h2",{className:"PasswordDialog__Warn"},v(_e,{type:"warning"})," A word of caution"),v("p",null,"If the password is lost, all notes will be lost too. There is no way to recover the password, because it's not stored anywhere in any shape or form. In addition, it's currently impossible to change password once it was chosen (this feature is still under development)."),"incorrect"===e.status&&v("p",{className:"PasswordDialog__Incorrect"},"The provided password is incorrect. Please, try again:"),v("button",{className:"PasswordDialog__RememberPassword",onClick:function(){return l(!c)},title:"Remember password on this device until logging out"},v(je,{className:"PasswordDialog__RememberPasswordCheckbox",isChecked:c}),v("span",{className:"PasswordDialog__RememberPasswordLabel"},"Remember password")),v("div",{className:"PasswordDialog__PasswordField"},v(Le,ve()({iconType:"vpn_key",type:p?"text":"password",placeholder:"Password",value:r,onInput:function(e){return i(e.currentTarget.value)},className:"Dialog__PasswordInputField",onKeyUp:function(e){e.keyCode===Re&&t.providePassword(r,c)}},m)),v("button",{title:p?"Stop revealing password":"Reveal password",onClick:function(){return h(!p)}},v(_e,p?{type:"visibility_off"}:{type:"visibility"}))))):null})),We=n(16),$e=n.n(We),Ve="There are unsaved changes. If you leave without saving, they will be lost. Are you sure?";function Ue(e){return(e||window.event).returnValue=Ve,Ve}n(130);var qe={"sans-serif":"Sans-serif",serif:"Serif",monospace:"Monospace",cursive:"Cursive"},Ke={default:"Montserrat","sans-serif":["Montserrat","Arial","Helvetica","Verdana","Trebuchet MS","Gill Sans","Noto Sans","Avantgarde","TeX Gyre Adventor","URW Gothic L","Optima","Arial Narrow"],serif:["Times","Times New Roman","Didot","Georgia","Palatino","URW Palladio L","Bookman","URW Bookman L","New Century Schoolbook","TeX Gyre Schola","American Typewriter"],monospace:["Andale Mono","Courier New","Courier","FreeMono","OCR A Std","DejaVu Sans Mono"],cursive:["Comic Sans MS","Comic Sans","Apple Chancery","Bradley Hand","Brush Script MT","Brush Script Std","Snell Roundhand","URW Chancery L"]},Xe=[].concat($e()(Ke["sans-serif"]),$e()(Ke.serif),$e()(Ke.monospace),$e()(Ke.cursive));var Je=function(){var e={};for(var t in qe)for(var n=0;n<Ke[t].length;n++)e[Ke[t][n]]=t;return e}();n(132);function Ge(e){return/^([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/.test(e)}function Ye(e){var t=f()(e,3),n=t[0],o=t[1],r=t[2];n=Math.round(n),o=Math.round(o),r=Math.round(r);var i=n>15?n.toString(16):"0".concat(n.toString(16)),a=o>15?o.toString(16):"0".concat(o.toString(16)),s=r>15?r.toString(16):"0".concat(r.toString(16));return"".concat(i).concat(a).concat(s)}function Ze(e){var t,n,o,r=f()(e,3),i=r[0],a=r[1],s=r[2],c=Math.floor(6*i),l=6*i-c,u=s*(1-a),d=s*(1-l*a),p=s*(1-(1-l)*a);switch(c%6){case 0:t=s,n=p,o=u;break;case 1:t=d,n=s,o=u;break;case 2:t=u,n=s,o=p;break;case 3:t=u,n=d,o=s;break;case 4:t=p,n=u,o=s;break;case 5:t=s,n=u,o=d}return[255*t,255*n,255*o]}function Qe(e,t,n){return n>t?t:n<e?e:n}var et=function(e){var t=e.currentColor,n=e.onColor,o=Y(null),r=Y(null),i=Y({started:!1}),a=Y({started:!1}),s=J((function(){return l})),c=f()(s,2),l=c[0],u=c[1];G((function(){t!==l&&u(t)}),[t]);var d,p,h,m,g=l&&Ge(l)?(p=3===(d=l).length?"".concat(d[0]).concat(d[0]):"".concat(d[0]).concat(d[1]),h=3===d.length?"".concat(d[1]).concat(d[1]):"".concat(d[2]).concat(d[3]),m=3===d.length?"".concat(d[2]).concat(d[2]):"".concat(d[4]).concat(d[5]),[parseInt(p,16),parseInt(h,16),parseInt(m,16)]):[255,0,0],b=function(e){var t=f()(e,3),n=t[0],o=t[1],r=t[2];n/=255,o/=255,r/=255;var i,a,s=Math.max(n,o,r),c=Math.min(n,o,r),l=s,u=s-c;if(a=0==s?0:u/s,s==c)i=0;else{switch(s){case n:i=(o-r)/u+(o<r?6:0);break;case o:i=(r-n)/u+2;break;case r:i=(n-o)/u+4}i/=6}return[i,a,l]}(g),y=Ze([b[0],1,1]);function _(e,t){if(i.current.started){e.preventDefault();var o=i.current.rect,r=1-Qe(0,1,(e.clientY-o.top)/o.height),a=Qe(0,1,(e.clientX-o.left)/o.width),s=Ye(Ze([b[0],a,r]));u(s),t&&n(s)}}var w=function(e){_(e,!1)},k=function e(t){_(t,!0),i.current={started:!1},window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",e)};function x(e,t){if(a.current.started){e.preventDefault();var o=a.current.rect,r=Ye(Ze([Qe(0,1,(e.clientY-o.top)/o.height),b[1],b[2]]));u(r),t&&n(r)}}var I=function(e){x(e,!1)},C=function e(t){x(t,!0),a.current={started:!1},window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",e)};return ae((function(){window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",k)})),v(Ee,{className:"ColorPicker"},v(Te,{labelProps:{className:"ColorPicker__InputItem"}},v("span",{className:"ColorPicker__InputBox ColorPicker__ColorBox",style:{background:"rgb(".concat(g[0],", ").concat(g[1],", ").concat(g[2],")")}}),v("span",{className:"ColorPicker__Hash"},"#"),v(Le,{className:"ColorPicker__Input",type:"text",placeholder:"Hex color code",value:l||"",onChange:function(e){n(e.currentTarget.value)}}),v("button",{className:"ColorPicker__Reset",onClick:function(){n(null)}},v(_e,{type:"format_color_reset"}))),v("div",{className:"ColorPicker__Pickers"},v("div",{ref:o,className:"ColorPicker__MainPicker",style:{background:"rgb(".concat(y[0],", ").concat(y[1],", ").concat(y[2],")")},onMouseDown:function(e){var t=o.current.getBoundingClientRect();i.current={started:!0,rect:{top:t.top,left:t.left,width:t.width,height:t.height}},_(e,!1),window.addEventListener("mousemove",w),window.addEventListener("mouseup",k)}},v("div",{className:"ColorPicker__SaturationPicker"}),v("div",{className:"ColorPicker__LightnessPicker"}),v("div",{className:"ColorPicker__MainPosition",style:{top:"".concat(100*(1-b[2]),"%"),left:"".concat(100*b[1],"%")}})),v("div",{ref:r,className:"ColorPicker__HuePicker",onMouseDown:function(e){var t=r.current.getBoundingClientRect();a.current={started:!0,rect:{top:t.top,height:t.height}},x(e,!1),window.addEventListener("mousemove",I),window.addEventListener("mouseup",C)}},v("div",{className:"ColorPicker__HuePosition",style:{top:"".concat(100*b[0],"%")}}))),v(Te,{className:"ColorPicker__DefaultColors"},["001f3f","0074d9","7fdbff","39cccc","3d9970","2ecc40","01ff70","ffdc00","ff851b","ff4136","85144b","f012be","b10dc9","111111","aaaaaa","dddddd","ffffff"].map((function(e){return v("button",{key:e,className:"ColorPicker__ColorBox",style:{background:"#".concat(e)},onClick:function(){return n(e)}})}))))},tt=n(1),nt=n.n(tt),ot=n(3),rt=n.n(ot),it=n(22);function at(e,t){return Object(it.findSelectedNodeOfType)(t)(e.selection)||Object(it.findParentNode)((function(e){return e.type===t}))(e.selection)}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=at(e,t);return!!o&&(Object.keys(n).length?o.node.hasMarkup(t,ct(ct({},o.node.attrs),n)):!!o)}function ut(e,t){var n=at(e,t);return n?n.node.attrs:{}}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={src:null,title:null,position:"middle",width:null,height:null};var ht=function(){function e(){nt()(this,e),this.name="image",this.nodeSpec={inline:!0,attrs:{src:{},title:{default:pt.title},position:{default:pt.position},width:{default:pt.width},height:{default:pt.height}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){var t,n,o=e,r="right"===o.style.float||"left"===o.style.float?o.style.float:"top"===o.style.verticalAlign||"bottom"===o.style.verticalAlign?o.style.verticalAlign:"middle",i=null===(t=o.getAttribute("width"))||void 0===t?void 0:t.match(/^(\d+)px$/i),a=null===(n=o.getAttribute("height"))||void 0===n?void 0:n.match(/^(\d+)px$/i),s=i&&Number(i[1])||null,c=a&&Number(a[1])||null,l=o.getAttribute("title")||o.getAttribute("alt");return{src:o.getAttribute("src"),title:l,position:r,width:s,height:c}}}],toDOM:function(e){var t=e.attrs,n=t.src,o=t.title,r=t.position,i=t.width,a=t.height,s={style:"left"===r||"right"===r?"float: ".concat(r,";"):"vertical-align: ".concat(r,";")};return n&&(s.src=n),o&&(s.title=o,s.alt=o),i&&(s.width="".concat(i,"px")),a&&(s.height="".concat(a,"px")),s["data-position"]=r,["img",s]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.image)},get attrs(){return this.isCurrent&&ut(e.state,t.nodes.image)||null}}}},{key:"getMenuActions",value:function(e){return{create:function(t){return function(e,t){return function(n,o){if(o){var r=n.tr.replaceSelectionWith(e.create(t));if(r.selection.$anchor.nodeBefore){var i=r.doc.resolve(r.selection.anchor-r.selection.$anchor.nodeBefore.nodeSize);r.setSelection(new pe.NodeSelection(i))}o(r)}return!0}}(e.nodes.image,t)},setAttrs:function(t){return n=e.nodes.image,o=t,function(e,t){var r=at(e,n);if(!r)return!1;if(t){var i=e.tr.setNodeMarkup(r.pos,n,dt(dt({},r.node.attrs),o));t(i=i.setSelection(pe.NodeSelection.create(i.doc,r.pos)).scrollIntoView())}return!0};var n,o},remove:function(){return t=e.nodes.image,function(e,n){var o=at(e,t);return!!o&&(n&&n(e.tr.delete(o.pos,o.pos+o.node.nodeSize)),!0)};var t}}}}]),e}();n(135);var mt=function(e){return v("div",{className:"LoadingSpinner ".concat(e.class||e.className||"")},v(_e,ve()({},e,{type:"refresh",className:"LoadingSpinner__Icon"})))};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt=le((function(e){var t,n=e.className,o=Q(j).editor,r=o.menu,i=Y(!0),a=Y(null),s=Y(null),c=Y(null),l=Y(null),u=Y(null),d=Y(null),p=J(!1),h=f()(p,2),m=h[0],g=h[1],b=J(!1),_=f()(b,2),w=_[0],k=_[1],x=J(!1),I=f()(x,2),C=I[0],S=I[1],M=J(!1),O=f()(M,2),N=O[0],T=O[1],E=J(!1),A=f()(E,2),D=A[0],L=A[1],P=J(!1),R=f()(P,2),F=R[0],B=R[1],z=ze(),H=J(""),W=f()(H,2),$=W[0],V=W[1],U=Z((function(){return vt(vt({},function(){var e,t=document.createElement("div");t.style.fontSize="24px",t.style.visibility="hidden",document.body.appendChild(t);var n={};for(var o in qe)(e=document.createElement("div")).style.position="absolute",e.style.whiteSpace="nowrap",e.style.fontFamily=o,e.appendChild(document.createTextNode("The quick brown fox jumps over the lazy dog")),t.appendChild(e),n[o]=e;for(var r={},i=0;i<Xe.length;i++){var a=Xe[i];(e=document.createElement("div")).style.position="absolute",e.style.whiteSpace="nowrap",e.style.fontFamily='"'.concat(a,'",').concat(Je[a]),e.appendChild(document.createTextNode("The quick brown fox jumps over the lazy dog")),t.appendChild(e),r[a]=e}var s={};for(var c in n){var l=n[c].getBoundingClientRect();s[c]={w:l.width,h:l.height}}var u={},f={};for(var d in r){var p=Je[d],h=r[d].getBoundingClientRect(),m=s[p],g=h.width===m.w&&h.height===m.h;f[d]=!g||!u[p],g&&(u[p]=!0)}return document.body.removeChild(t),f}()),{},Me()({},Ke.default,!0))}),[]);G((function(){var e;i.current?i.current=!1:m||N||D||F||null===(e=o.current.view)||void 0===e||e.focus()}),[m,N,D,F]);var q=J(pt),K=f()(q,2),X=K[0],ee=K[1],te=J(!1),ne=f()(te,2),oe=ne[0],re=ne[1],ie=J(!1),ae=f()(ie,2),se=ae[0],ce=ae[1];return G((function(){var e;(null===(e=r.state)||void 0===e?void 0:e.image.attrs)?ee(r.state.image.attrs):ee(pt)}),[(null===(t=r.state)||void 0===t?void 0:t.image.attrs)||null]),G((function(){ce(!1)}),[F]),r.exists?v("div",{className:"EditorMenu ".concat(n||""),onMouseDown:function(e){return e.preventDefault()}},v("button",{disabled:!r.state.history.canUndo,className:"EditorMenu__Button",onClick:r.actions.history.undo,title:"Undo action"},v(_e,{type:"undo"})),v("button",{disabled:!r.state.history.canRedo,className:"EditorMenu__Button",onClick:r.actions.history.redo,title:"Redo action"},v(_e,{type:"redo"})),v("button",{disabled:!r.state.heading.canToggle,className:"EditorMenu__Button ".concat(D||r.state.heading.canToggle&&r.state.heading.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return L(!D)},title:"Heading",ref:u},v(_e,{type:"title"})),r.state.heading.canToggle&&D&&v(Ce,{onClose:function(){return L(!1)},relativeRef:u},v(Ee,{className:"EditorMenu__HeadingEditor"},r.state.heading.isCurrent&&v(Te,{label:"Remove heading",iconType:"format_clear",onClick:r.actions.heading.remove}),v(Te,{label:"Heading level 1",onClick:function(){return r.actions.heading.setLevel(1)},selected:r.state.heading.isCurrent&&1===r.state.heading.level},v("h1",null,"Heading level 1")),v(Te,{label:"Heading level 2",onClick:function(){return r.actions.heading.setLevel(2)},selected:r.state.heading.isCurrent&&2===r.state.heading.level},v("h2",null,"Heading level 2")),v(Te,{label:"Heading level 3",onClick:function(){return r.actions.heading.setLevel(3)},selected:r.state.heading.isCurrent&&3===r.state.heading.level},v("h3",null,"Heading level 3")),v(Te,{label:"Heading level 4",onClick:function(){return r.actions.heading.setLevel(4)},selected:r.state.heading.isCurrent&&4===r.state.heading.level},v("h4",null,"Heading level 4")),v(Te,{label:"Heading level 5",onClick:function(){return r.actions.heading.setLevel(5)},selected:r.state.heading.isCurrent&&5===r.state.heading.level},v("h5",null,"Heading level 5")),v(Te,{label:"Heading level 6",onClick:function(){return r.actions.heading.setLevel(6)},selected:r.state.heading.isCurrent&&6===r.state.heading.level},v("h6",null,"Heading level 6")))),v("button",{disabled:!r.state.strong.canToggle,className:"EditorMenu__Button ".concat(r.state.strong.canToggle&&r.state.strong.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.strong.toggle,title:"Bold"},v(_e,{type:"format_bold"})),v("button",{disabled:!r.state.em.canToggle,className:"EditorMenu__Button ".concat(r.state.em.canToggle&&r.state.em.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.em.toggle,title:"Italics"},v(_e,{type:"format_italic"})),v("button",{disabled:!r.state.underline.canToggle,className:"EditorMenu__Button ".concat(r.state.underline.canToggle&&r.state.underline.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.underline.toggle,title:"Underlined"},v(_e,{type:"format_underlined"})),v("button",{disabled:!r.state.strikethrough.canToggle,className:"EditorMenu__Button ".concat(r.state.strikethrough.canToggle&&r.state.strikethrough.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.strikethrough.toggle,title:"Strikethrough"},v(_e,{type:"format_strikethrough"})),v("button",{ref:a,disabled:!r.state.font_size.canToggle&&!r.state.font_family.canToggle,className:"EditorMenu__Button ".concat(m||r.state.font_size.canToggle&&r.state.font_size.isCurrent||r.state.font_family.canToggle&&r.state.font_family.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return g(!m)},title:"Font"},v(_e,{type:"format_size"})),(r.state.font_size.canToggle||r.state.font_family.canToggle)&&m&&v(Ce,{onClose:function(){return g(!1)},relativeRef:a},v(Ee,{className:"EditorMenu__FontEditor"},r.state.font_size.canToggle&&v(Te,{className:"EditorMenu__FontEditorItem",labelProps:{className:"EditorMenu__DropDownFieldWithUnit"}},v(Le,ve()({className:"EditorMenu__FontSizeInput",iconType:"format_size",type:"number",placeholder:"Font size",fieldClassName:"EditorMenu__FieldWithUnit",value:r.state.font_size.isCurrent?r.state.font_size.attrs.fontSize:"",onChange:function(e){return r.actions.font_size.setFontSize(Number(e.currentTarget.value))}},z)),v("span",{className:"EditorMenu__FieldUnit"},"(px)"),v("button",{className:"EditorMenu__FontSizeDefault",title:"Reset font size to default",onClick:r.actions.font_size.reset},v(_e,{type:"format_clear"}))),r.state.font_family.canToggle&&v(y,null,v(Te,{className:"EditorMenu__FontEditorItem",labelProps:{className:"EditorMenu__FontSearch"}},v(Le,{iconType:"search",placeholder:"Search font",value:$,onInput:function(e){return V(e.currentTarget.value)}})),v("div",{className:"EditorMenu__FontFamilies"},Xe.map((function(e){return U[e]&&(!$||e.toLowerCase().indexOf($.toLowerCase())>=0)&&v(Te,{className:"EditorMenu__FontFamily",label:e,labelProps:{className:"EditorMenu__FontFamilyContainer"},onClick:function(){var t;null===(t=o.current.view)||void 0===t||t.focus(),e===Ke.default?r.actions.font_family.reset():r.actions.font_family.setFontFamily(e)},selected:!r.state.font_family.isCurrent&&e===Ke.default||r.state.font_family.isCurrent&&e===r.state.font_family.attrs.fontFamily,style:{fontFamily:'"'.concat(e,'",').concat(Je[e])}},v("div",{className:"EditorMenu__FontFamilyLabel"},e),v("div",{className:"EditorMenu__FontFamilyExample"},"The quick brown fox jumps over the lazy dog"))})))))),v("button",{ref:s,disabled:!r.state.font_color.canToggle,className:"EditorMenu__Button ".concat(w||r.state.font_color.canToggle&&r.state.font_color.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return k(!w)},title:"Font color"},v(_e,{type:"format_color_text",style:{color:r.state.font_color.canToggle&&r.state.font_color.isCurrent?"#".concat(r.state.font_color.attrs.color):"currentColor"}})),r.state.font_color.canToggle&&w&&v(Ce,{onClose:function(){return k(!1)},relativeRef:s},v(et,{currentColor:r.state.font_color.attrs.color,onColor:function(e){var t;null===(t=o.current.view)||void 0===t||t.focus(),e?r.actions.font_color.setColor(e):r.actions.font_color.reset()}})),v("button",{ref:c,disabled:!r.state.highlight.canToggle,className:"EditorMenu__Button ".concat(C||r.state.highlight.canToggle&&r.state.highlight.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return S(!C)},title:"Highlight color"},v(_e,{type:"highlight",style:{color:r.state.highlight.canToggle&&r.state.highlight.isCurrent?"#".concat(r.state.highlight.attrs.color):"currentColor"}})),r.state.highlight.canToggle&&C&&v(Ce,{onClose:function(){return S(!1)},relativeRef:c},v(et,{currentColor:r.state.highlight.attrs.color,onColor:function(e){var t;null===(t=o.current.view)||void 0===t||t.focus(),e?r.actions.highlight.setColor(e):r.actions.highlight.reset()}})),v("button",{ref:l,disabled:!r.state.link.canToggle,className:"EditorMenu__Button ".concat(N||r.state.link.canToggle&&r.state.link.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return T(!N)},title:"Link"},v(_e,{type:"link"})),r.state.link.canToggle&&N&&v(Ce,{onClose:function(){return T(!1)},relativeRef:l},v(Ee,null,r.state.link.isSelected?v(y,null,v(Te,null,v(Le,ve()({iconType:"link",placeholder:"Link",value:r.state.link.attrs.href,onInput:function(e){return r.actions.link.createUpdate({href:e.currentTarget.value,title:r.state.link.attrs.title})}},z))),v(Te,null,v(Le,{iconType:"title",placeholder:"Title (optional)",value:r.state.link.attrs.title,onInput:function(e){return r.actions.link.createUpdate({href:r.state.link.attrs.href,title:e.currentTarget.value})}})),r.state.link.isCurrent&&v(Te,{iconType:"delete",label:"Remove link",onClick:r.actions.link.remove})):v(Te,{className:"EditorMenu__LinkEditorUnselected"},"Select text to make a link"))),v("button",{disabled:!r.state.code.canToggle,className:"EditorMenu__Button ".concat(r.state.code.canToggle&&r.state.code.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.code.toggle,title:"Inline code"},v(_e,{type:"code"})),v("button",{disabled:!r.state.code_block.canToggle,className:"EditorMenu__Button EditorMenu__CodeBlock ".concat(r.state.code_block.canToggle&&r.state.code_block.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.code_block.toggle,title:"Code block"},v(_e,{className:"EditorMenu__CodeBlock-Code",type:"code"}),v(_e,{className:"EditorMenu__CodeBlock-Block",type:"short_text"})),v("button",{disabled:!r.state.blockquote.canToggle,className:"EditorMenu__Button ".concat(r.state.blockquote.canToggle&&r.state.blockquote.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.blockquote.toggle,title:"Quote block"},v(_e,{type:"format_quote"})),v("button",{className:"EditorMenu__Button",onClick:r.actions.horizontal_rule.add,title:"Horizontal rule"},v(_e,{type:"horizontal_rule"})),v("button",{className:"EditorMenu__Button ".concat(r.state.paragraph.isCurrent&&"left"===r.state.paragraph.attrs.textAlign?"EditorMenu__Button--active":""),onClick:function(){return r.actions.paragraph.setAttrs(vt(vt({},r.state.paragraph.attrs),{},{textAlign:"left"}))},title:"Align: Left",disabled:!r.state.paragraph.isCurrent},v(_e,{type:"format_align_left"})),v("button",{className:"EditorMenu__Button ".concat(r.state.paragraph.isCurrent&&"center"===r.state.paragraph.attrs.textAlign?"EditorMenu__Button--active":""),onClick:function(){return r.actions.paragraph.setAttrs(vt(vt({},r.state.paragraph.attrs),{},{textAlign:"center"}))},title:"Align: center",disabled:!r.state.paragraph.isCurrent},v(_e,{type:"format_align_center"})),v("button",{className:"EditorMenu__Button ".concat(r.state.paragraph.isCurrent&&"justify"===r.state.paragraph.attrs.textAlign?"EditorMenu__Button--active":""),onClick:function(){return r.actions.paragraph.setAttrs(vt(vt({},r.state.paragraph.attrs),{},{textAlign:"justify"}))},title:"Align: justify",disabled:!r.state.paragraph.isCurrent},v(_e,{type:"format_align_justify"})),v("button",{className:"EditorMenu__Button ".concat(r.state.paragraph.isCurrent&&"right"===r.state.paragraph.attrs.textAlign?"EditorMenu__Button--active":""),onClick:function(){return r.actions.paragraph.setAttrs(vt(vt({},r.state.paragraph.attrs),{},{textAlign:"right"}))},title:"Align: right",disabled:!r.state.paragraph.isCurrent},v(_e,{type:"format_align_right"})),v("button",{disabled:!r.state.bullet_list.canToggle,className:"EditorMenu__Button ".concat(r.state.bullet_list.canToggle&&r.state.bullet_list.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.bullet_list.toggle,title:"Bulleted list"},v(_e,{type:"format_list_bulleted"})),v("button",{disabled:!r.state.ordered_list.canToggle,className:"EditorMenu__Button ".concat(r.state.ordered_list.canToggle&&r.state.ordered_list.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.ordered_list.toggle,title:"Numbered list"},v(_e,{type:"format_list_numbered"})),v("button",{disabled:!r.state.todo_list.canToggle,className:"EditorMenu__Button ".concat(r.state.todo_list.canToggle&&r.state.todo_list.isCurrent?"EditorMenu__Button--active":""),onClick:r.actions.todo_list.toggle,title:"Todo list"},v(_e,{type:"list_alt"})),v("button",{disabled:!r.state.list_items.canDecreaseIndent,className:"EditorMenu__Button",onClick:r.actions.list_items.decreaseIndent,title:"Decrease list indent"},v(_e,{type:"format_indent_decrease"})),v("button",{disabled:!r.state.list_items.canIncreaseIndent,className:"EditorMenu__Button",onClick:r.actions.list_items.increaseIndent,title:"Increase list indent"},v(_e,{type:"format_indent_increase"})),v("button",{ref:d,className:"EditorMenu__Button ".concat(F||r.state.image.isCurrent?"EditorMenu__Button--active":""),onClick:function(){return B(!F)},title:"Image"},v(_e,{type:"image"})),F&&v(Ce,{onClose:function(){return B(!1)},relativeRef:d},v(Ee,{className:"EditorMenu__ImageEditor ".concat(oe?"EditorMenu__ImageEditor--loading":"")},oe&&v(mt,{className:"EditorMenu__ImageLoading"}),v(Te,null,v(Le,{iconType:"link",placeholder:"Enter URL",value:X.src||"",onInput:function(e){return ee(vt(vt({},X),{},{src:e.currentTarget.value}))}})),se&&v(Te,{className:"EditorMenu__ImageSizeWarning",iconType:"warning",label:"Image can't exceed ".concat(1,"MB")}),v(Te,{isLink:!0,tag:"label",for:"EditorMenu__ImageFileBrowse",iconType:"folder_open",label:"Browse"},v("span",null,"Or, browse"),v("input",{id:"EditorMenu__ImageFileBrowse",name:"EditorMenu__ImageFileBrowse",className:"EditorMenu__ImageFileBrowse",type:"file",accept:"image/*",onChange:function(e){var t=e.currentTarget;if(t.files&&t.files[0]){var n=t.files[0];if(n.size>1048576)ce(!0);else{var o=new FileReader;ce(!1),re(!0),o.addEventListener("load",(function(e){re(!1),ee(vt(vt({},X),{},{src:o.result}))})),o.addEventListener("error",(function(){re(!1)})),o.readAsDataURL(n)}}}})),v(Te,null,v(Le,{iconType:"title",placeholder:"Title (optional)",value:X.title||"",onInput:function(e){return ee(vt(vt({},X),{},{title:e.currentTarget.value}))}})),v(Te,{labelProps:{className:"EditorMenu__DropDownFieldWithUnit"}},v(Le,{iconType:"border_horizontal",placeholder:"Width (optional)",fieldClassName:"EditorMenu__FieldWithUnit",value:X.width||"",onInput:function(e){return ee(vt(vt({},X),{},{width:Number(e.currentTarget.value)||null}))}}),v("span",{className:"EditorMenu__FieldUnit"},"(px)")),v(Te,{labelProps:{className:"EditorMenu__DropDownFieldWithUnit"}},v(Le,{iconType:"border_vertical",placeholder:"Height (optional)",fieldClassName:"EditorMenu__FieldWithUnit",value:X.height||"",onInput:function(e){return ee(vt(vt({},X),{},{height:Number(e.currentTarget.value)||null}))}}),v("span",{className:"EditorMenu__FieldUnit"},"(px)")),v(Te,null,v("div",{className:"EditorMenu__ImagePositionLabel"},"Position:"),v("div",{className:"EditorMenu__ImagePositions"},v("button",{title:"Float to the left of text",onClick:function(){return ee(vt(vt({},X),{},{position:"left"}))},className:"EditorMenu__ImageButton ".concat("left"===X.position?"EditorMenu__ImageButton--active":"")},v(_e,{type:"image"})),v(_e,{type:"format_align_justify"}),v("div",{className:"EditorMenu__ImageCentralPositions"},v("button",{title:"To the top of the line",onClick:function(){return ee(vt(vt({},X),{},{position:"top"}))},className:"EditorMenu__ImageButton ".concat("top"===X.position?"EditorMenu__ImageButton--active":"")},v(_e,{type:"image"})),v("button",{title:"In the middle of the line",onClick:function(){return ee(vt(vt({},X),{},{position:"middle"}))},className:"EditorMenu__ImageButton ".concat("middle"===X.position?"EditorMenu__ImageButton--active":"")},v(_e,{type:"image"})),v("button",{title:"To the bottom of the line",onClick:function(){return ee(vt(vt({},X),{},{position:"bottom"}))},className:"EditorMenu__ImageButton ".concat("bottom"===X.position?"EditorMenu__ImageButton--active":"")},v(_e,{type:"image"}))),v(_e,{type:"format_align_justify"}),v("button",{title:"Float to the right of text",onClick:function(){return ee(vt(vt({},X),{},{position:"right"}))},className:"EditorMenu__ImageButton ".concat("right"===X.position?"EditorMenu__ImageButton--active":"")},v(_e,{type:"image"})))),v(Te,{iconType:"add_photo_alternate",label:r.state.image.isCurrent?"Update image":"Add image",onClick:function(){var e;r.state.image.isCurrent?r.actions.image.setAttrs(X):r.actions.image.create(X),null===(e=o.current.view)||void 0===e||e.focus()}}),r.state.image.isCurrent&&v(Te,{iconType:"delete",label:"Remove image",onClick:r.actions.image.remove})))):null})),yt="PEDABJHQS6GA6";var _t=function(e){var t=e.children;return v("form",{ref:e.formRef,action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank"},v("input",{type:"hidden",name:"cmd",value:"_s-xclick"}),v("input",{type:"hidden",name:"hosted_button_id",value:yt}),t)};n(137);var wt=le((function(e){var t=e.tags,n=e.isNewAllowed,o=void 0!==n&&n,r=e.isChangedOnInput,i=void 0!==r&&r,a=e.direction,s=void 0===a?{v:"bottom",h:"left"}:a,c=e.onTagsChange,l=ye()(e,["tags","isNewAllowed","isChangedOnInput","direction","onTagsChange"]),u=Q(j).notes,d=J(t),p=f()(d,2),h=p[0],m=p[1],g=h.join(" "),b=Y(null),_=J(null),w=f()(_,2),k=w[0],x=w[1],I=null!=k?h[k]:null,C=J(null),S=f()(C,2),M=S[0],O=S[1],N=J(0),T=f()(N,2),E=T[0],A=T[1];G((function(){if(null!=M){for(var e,t=0,n=0;n<h.length;n++){if(h[n].length&&M>=t&&M<=t+h[n].length){e=n;break}t+=h[n].length+1}if(null!=e)return void x(e)}x(null)}),[M,h]),G((function(){return m(t)}),[t]),G((function(){var e=document.querySelector(".Tags__Suggestion--".concat(E));e&&e.scrollIntoView()}),[E]);var D=Z((function(){var e=[];if(null!=k&&null!=I){var t,n=$e()(h);n.splice(k,1),o&&e.push(I),(t=e).push.apply(t,$e()(u.tags.filter((function(e){return e.toLowerCase().indexOf(I.toLowerCase())>=0&&(!o||e!==I)})))),e=e.filter((function(e){return n.indexOf(e)<0}))}return e}),[u.tags,o,h,k,I]);function L(e){if(null!=k){var t=D[e],n=$e()(h);n[k]=t,n[n.length-1]&&n.push(""),m(n),O(n.join(" ").length),b.current.focus(),c(n)}}function P(e){return D.length>0&&(e.keyCode===Fe||e.keyCode===Be)}return v(y,null,v(Le,ve()({},l,{type:"text",value:g,onKeyUp:function(e){if(e.keyCode===Re)L(E);else{var t=b.current.value.split(/\s+/);O(null!=b.current.selectionStart&&null!=b.current.selectionEnd?Math.min(b.current.selectionStart,b.current.selectionEnd):null!=b.current.selectionStart?b.current.selectionStart:b.current.selectionEnd),m(t),(i||t.length<h.length||b.current.value.length<1)&&c(t)}P(e)||A(0)},onKeyDown:function(e){if(P(e)){e.preventDefault();var t=E+(e.keyCode===Fe?-1:1);t=t<0?D.length-1:t>=D.length?0:t,A(t)}},fieldRef:b})),null!=I&&v(Ce,{relativeRef:b,direction:s,onClose:function(){return x(null)}},v(Ee,{className:"Tags__DropDown"},D.length>0&&D.map((function(e,t){return v(Te,{selected:E===t,className:"Tags__Suggestion Tags__Suggestion--".concat(t),label:e,onClick:function(){return L(t)}})})))))}));function kt(){return+new Date}var xt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function It(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),o=new Date,r=n.getFullYear(),i=n.getMonth(),a=n.getDate(),s=n.getHours(),c=n.getMinutes(),l="".concat(Ct(s),":").concat(Ct(c));return t||o.getFullYear()!==r?"".concat(xt[i]," ").concat(a,", ").concat(r,", ").concat(l):o.getMonth()===i&&o.getDate()===a?l:"".concat(xt[i]," ").concat(a,", ").concat(l)}function Ct(e){return e>=10?"".concat(e):"0".concat(e)}n(139);var St=function(e){var t=e.note,n=e.isDirty,o=e.selectedId,r=e.getTriggerProps,i=e.setSidebarOpen,a=e.focusedId,s=e.contextMenuId,c=e.contextMenuProps,l=Q(H).noteManager,u=t.tags.filter((function(e){return e.length>0}));return v("button",ve()({key:t.id,className:"NoteItem ".concat(o===t.id?"NoteItem--selected":""," ").concat(n?"NoteItem--dirty":""),onClick:function(){o!==t.id&&l.selectNote(t.id),i(!1)}},r(t.id)),a===t.id&&v(De,{widths:{left:4}}),v("h1",{className:"NoteItem__NoteName",title:t.name},t.name?t.name:v("em",null,"Unnamed note")),u.length>0&&v("div",{className:"NoteItem__Tags",title:t.tags.join(" ")},v(_e,{type:"local_offer"})," ",t.tags.join(" ")),v("div",{className:"NoteItem__DateTime",title:"Last edited: "+It(t.lastUpdatedTime,!0)+"\nCreated: "+It(t.createdTime,!0)},v(_e,{type:"edit"})," ",It(t.lastUpdatedTime)),s===t.id&&v(Ce,c,v(Ee,null,v(Te,{iconType:"delete",label:"Delete note",onClick:function(){return l.deleteNote(t.id)}}))))};var Mt=le((function(){var e,t=Q(j),n=t.notes,o=t.darkMode,r=t.noteViewerIntent,i=Q(H),a=i.noteManager,s=i.auth,c=J([]),l=f()(c,2),u=l[0],d=l[1],p=function(e,t){for(var n=[],o=0;o<t.length;o++)t[o]&&n.push(t[o]);return n.length<1?e:e.filter((function(e){for(var t=e.tags,o=0;o<n.length;o++)if(t.indexOf(n[o])<0)return!1;return!0}))}(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$e()(e);return n.sort((function(e,n){return t?e.lastUpdatedTime-n.lastUpdatedTime:n.lastUpdatedTime-e.lastUpdatedTime})),n}(fe(n.list)),u),h=n.selected&&("loaded"===n.selected.content.status||"loaded: not created"===n.selected.content.status),m=n.selected&&"loading"===n.selected.content.status,g=n.selected&&("deleting"===n.selected.content.status||"updating"===n.selected.content.status||"creating"===n.selected.content.status),b=function(){var e=J({id:null,x:0,y:0}),t=f()(e,2),n=t[0],o=t[1],r=Z((function(){return function(e){return{onContextMenu:function(t){t.preventDefault(),o({id:e,x:t.clientX,y:t.clientY})}}}}),[]);return{contextMenuId:n.id,getTriggerProps:r,contextMenuProps:{onClose:function(){return o({id:null,x:0,y:0})},position:{x:n.x,y:n.y}}}}(),_=b.contextMenuId,w=b.getTriggerProps,k=b.contextMenuProps,x=null!=_?_:n.selectedId,I=n.selected&&!m&&n.selected.id,C=window.matchMedia("(max-width: ".concat("1450px",")")),S=J(C.matches),M=f()(S,2),O=M[0],N=M[1],T=J(!0),E=f()(T,2),A=E[0],D=E[1];G((function(){return o.isDarkMode?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),function(){document.body.classList.remove("dark-mode")}}),[o.isDarkMode]),ie((function(){var e=function(){return N(C.matches)};return C.addListener(e),function(){C.removeListener(e)}}));var L=!!(null===(e=n.selected)||void 0===e?void 0:e.id);G((function(){L&&A&&D(!1)}),[L]);var P=J(!1),R=f()(P,2),F=R[0],B=R[1],z=Y(null),W=function(e){O&&A&&(e.preventDefault(),e.stopPropagation(),D(!1))};G((function(){var e=r.hasUnsavedChanges;return e&&window.addEventListener("beforeunload",Ue),function(){e&&window.removeEventListener("beforeunload",Ue)}}),[r.hasUnsavedChanges]);var $=Y(null);return v("div",{className:"SecureBook"},v("aside",{className:"SecureBook__Sidebar ".concat(O&&!A?"SecureBook__Sidebar--hidden":"")},v("article",{className:"SecureBook__SidebarTop"},v("button",{title:"Add note",onClick:function(){a.createNoteAndSelect(),D(!1)}},v(_e,{type:"add_box"})),v(wt,{iconType:"search",type:"text",placeholder:"Tag search",className:"SecureBook__TagSearch",tags:u,onTagsChange:d})),v("section",{className:"SecureBook__Notes"},"loading"===n.status?v(y,null,v(he,{className:"SecureBook__Loading"}),v(he,{className:"SecureBook__Loading"}),v(he,{className:"SecureBook__Loading"})):0===p.length&&"loaded"===n.status?v("div",{className:"SecureBook__EmptyNotes"},"No notes are currently added. To add a note, click ",v(_e,{type:"add_box"})," above."):p.map((function(e){return v(St,{note:e,isDirty:!!n.dirty[e.id],selectedId:n.selectedId,focusedId:x,setSidebarOpen:D,getTriggerProps:w,contextMenuId:_,contextMenuProps:k})})))),v("main",{className:"SecureBook__Main ".concat(O&&A?"SecureBook__Main--under-sidebar":""," ").concat(g?"SecureBook__Main--loading":""),onClickCapture:W},g&&v(mt,{className:"SecureBook__MainLoading"}),v("div",{className:"SecureBook__MainTop ".concat(O&&A?"SecureBook__MainTop--under-sidebar":""),onClickCapture:W},O&&v("button",{className:"SecureBook__OpenMenu",onClick:function(){return D(!0)}},v(_e,{type:"notes"})),v(bt,{className:"SecureBook__Menu"}),v("button",{ref:z,className:"SecureBook__Settings",onClick:function(){return B(!F)}},v(_e,{type:"more_vert"})),F&&v(Ce,{relativeRef:z,onClose:function(){return B(!1)}},v(Ee,null,v(Te,{labelProps:{className:"SecureBook__DarkModeChk"},onClick:function(){o.isDarkMode=!o.isDarkMode},label:"Dark mode"},v(je,{isChecked:o.isDarkMode,className:"SecureBook__SettingsIcon"}),v("span",null,"Dark mode")),v(Te,{onClick:function(){return $.current.submit()},label:"Donate"},v(_t,{formRef:$},v("span",{className:"SecureBook__SettingsIcon"},""),v("span",null,"Donate"))),v(Te,{isLink:!0,iconType:"github",href:"https://github.com/guitarino/securebook",label:"View on Github"}),v(Te,{isLink:!0,iconType:"bug_report",href:"https://github.com/guitarino/securebook/issues",label:"Report an issue"}),v(Te,{iconType:"exit_to_app",onClick:function(){r.hasUnsavedChanges&&!window.confirm(Ve)||s.logout()},label:"Log out"})))),n.selected||"loaded"!==n.status?!!n.selected&&v(y,null,v("div",{className:"SecureBook__Editor"},v(me,{disabled:!h,showTextLoading:!!m,contentId:I,content:n.selected.content.value||{html:""},onContentChange:function(e,t){a.updateSelectedNoteContent(e,t)}})),v("div",{className:"SecureBook__BottomBar"},v("button",{className:"SecureBook__SaveButton",onClick:function(){return a.saveSelectedNote()}},v(_e,{type:"save"}),"creating"===n.selected.content.status||"updating"===n.selected.content.status?v("span",null,"Saving..."):"loading"===n.selected.content.status?v("span",null,"Loading..."):v("span",null,"Save")),v(wt,{key:I,isNewAllowed:!0,isChangedOnInput:!0,className:"SecureBook__AddTags",iconType:"local_offer",placeholder:"Add tags",direction:{v:"top",h:"left"},tags:n.selected.tags,onTagsChange:function(e){return a.updateSelectedNoteTags(e)}}),!(!n.selectedId||!n.dirty[n.selectedId])&&v("button",{className:"SecureBook__CancelButton",onClick:function(){return a.cancelSelectedNoteChanges()}},v(_e,{type:"cancel"}),v("span",null,"Cancel")))):v("div",{className:"SecureBook__EditorEmpty"},"Note is not selected. You can select a note, or add a new one in the sidebar",O&&v(y,null," by clicking ",v(_e,{type:"notes"})),".")),v(He,null))})),Ot=n(13),Nt=n.n(Ot),Tt=n(15),Et=n.n(Tt),At=n(12),Dt=n.n(At);function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var Pt={current:null},Rt=function(e){Nt()(n,e);var t=Lt(n);function n(){return nt()(this,n),t.apply(this,arguments)}return rt()(n,[{key:"render",value:function(){return Pt.current=this.context,null}}]),n}(_),Ft=function(e){Nt()(n,e);var t=Lt(n);function n(){return nt()(this,n),t.apply(this,arguments)}return rt()(n,[{key:"getChildContext",value:function(){return Pt.current}},{key:"render",value:function(){return v(y,null,this.props.children)}}]),n}(_);var Bt=le((function(){return v(y,null,"Authenticated"!==Q(j).authData.data.status?v(ue,null):v(Mt,null),v(Rt,null),v(ke,null))})),zt=n(14);function jt(){return{calculation:null,onCalculationChanged:function(){this.calculation&&(this.calculation.isInitialRender?(this.calculation.perform(),this.calculation.isInitialRender=!1):this.calculation.onUpdate())}}}var Ht=n(35),Wt=n.n(Ht),$t=0;var Vt=function(){function e(){nt()(this,e),this.worker=void 0,this.worker=new Wt.a}return rt()(e,[{key:"crypt",value:function(e,t,n){var o=this;return new Promise((function(r,i){var a=$t++,s=o.createEventListener(a,e,r,i);o.worker.addEventListener("message",s);var c={action:e,requestId:a,text:t,hash:n};o.worker.postMessage(c)}))}},{key:"createEventListener",value:function(e,t,n,o){var r=this;return function i(a){var s=a.data;s.requestId===e&&(s.type==="".concat(t,"-result")?(r.worker.removeEventListener("message",i),n(s.result)):s.type==="".concat(t,"-error")&&(r.worker.removeEventListener("message",i),o(s.result)))}}},{key:"encrypt",value:function(e,t){return this.crypt("encrypt",e,t)}},{key:"decrypt",value:function(e,t){return this.crypt("decrypt",e,t)}}]),e}();function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e){return{location:qt({},window.location),get pathname(){return this.location.pathname},get query(){var t=this.location,n=t.search,o=t.hash,r=e.getQueryFromString(n)||{},i=e.getQueryFromString(o)||{};return qt(qt({},r),i)}}}var Xt=n(27),Jt=function(){function e(){nt()(this,e)}return rt()(e,[{key:"getStringFromQuery",value:function(e){return Object(Xt.stringify)(e)}},{key:"getQueryFromString",value:function(e){return Object(Xt.parse)(e)}}]),e}();function Gt(e){return{currentIntent:null,determineAndNotifyValidIntent:function(){for(var t=!1,n=0;n<e.length;n++){var o=e[n];!t&&o.isCurrentIntent?(o.isCurrentIntentValid=!0,t=!0,this.currentIntent=o):o.isCurrentIntentValid=!1}t||(this.currentIntent=null)}}}function Yt(e,t,n){return{notifyAuthWhenLoggedIn:function(){var o=e.query;"gitlab_oauth"===o.token_response&&(o.access_token?n.onLoginSucceeded(o.access_token):n.onLoginFailed(o.error||"",o.error_description||""),t.onAuthCompleted())}}}var Zt=function(){function e(t,n,o,r,i,a,s){nt()(this,e),this.locationManager=void 0,this.config=void 0,this.queryBuilder=void 0,this.authStorage=void 0,this.authData=void 0,this.authURLStorage=void 0,this.passStorage=void 0,this.locationManager=t,this.config=n,this.queryBuilder=o,this.authStorage=r,this.authData=i,this.authURLStorage=a,this.authData.data=this.getInitialStoredData(),this.passStorage=s}return rt()(e,[{key:"getInitialStoredData",value:function(){var e=this.authStorage.getToken();return"string"==typeof e?{status:"Authenticated",token:e}:{status:"Unauthenticated"}}},{key:"login",value:function(){this.authURLStorage.storeURL(),this.locationManager.redirect("".concat(this.config.oAuthUri,"?").concat(this.queryBuilder.getStringFromQuery({client_id:this.config.oAuthClientId,redirect_uri:this.config.oAuthRedirectId,response_type:"token"})))}},{key:"onLoginSucceeded",value:function(e){this.authData.data={status:"Authenticated",token:e},this.authStorage.setToken(e)}},{key:"onLoginFailed",value:function(e,t){this.authData.data={status:"Error",error:e,errorDescription:t},this.authStorage.clearToken()}},{key:"logout",value:function(){this.authData.data={status:"Unauthenticated"},this.authStorage.clearToken(),this.passStorage.delete()}}]),e}();function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var en=function(){function e(t){var n=this;nt()(this,e),this.location=void 0,this.onLocationChange=function(){n.location.location=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},window.location)},this.location=t,window.addEventListener("popstate",this.onLocationChange)}return rt()(e,[{key:"push",value:function(e){window.history.pushState(null,"",e),this.onLocationChange()}},{key:"replace",value:function(e){window.history.replaceState(null,"",e),this.onLocationChange()}},{key:"go",value:function(e){window.history.go(e),this.onLocationChange()}},{key:"goBack",value:function(){window.history.back(),this.onLocationChange()}},{key:"goForward",value:function(){window.history.forward(),this.onLocationChange()}},{key:"redirect",value:function(e){window.location.href=e}}]),e}(),tn={apiUri:"https://gitlab.com/api/v4",oAuthUri:"https://gitlab.com/oauth/authorize",oAuthClientId:"666f05b5ec4f4d05b48887047d5576a217a940741199613b9be449fca60af39d",oAuthRedirectId:"https://securebook.org/?token_response=gitlab_oauth"};function nn(){return{data:{status:"Unauthenticated"},get headers(){return this.data&&this.data.token?{authorization:"Bearer ".concat(this.data.token)}:{}}}}var on=function(){function e(){nt()(this,e)}return rt()(e,[{key:"getToken",value:function(){return window.localStorage.getItem("token")}},{key:"setToken",value:function(e){window.localStorage.setItem("token",e)}},{key:"clearToken",value:function(){window.localStorage.removeItem("token")}}]),e}(),rn=function(){function e(t,n){nt()(this,e),this.locationManager=void 0,this.authURLStorage=void 0,this.locationManager=t,this.authURLStorage=n}return rt()(e,[{key:"onAuthCompleted",value:function(){this.authURLStorage.restoreURL()}},{key:"onNoteSelected",value:function(e){e?this.locationManager.push("/#note=".concat(e)):this.locationManager.push("/")}}]),e}();function an(e,t,n,o,r){return{canLoad:!0,isCurrentIntentValid:!1,get isCurrentIntent(){return!e.query.page&&"Authenticated"===t.data.status},allowLoadingWhenPasswordIsIncorrect:function(){"incorrect"===n.status&&(this.canLoad=!0)},loadNotesWhenAvailable:function(){this.canLoad&&this.isCurrentIntentValid&&"not loaded"===o.status&&("provided"===n.status||"verified"===n.status)&&(this.canLoad=!1,r.loadNotes())},loadNoteWhenSelected:function(){this.isCurrentIntentValid&&o.selected&&"not loaded: created"===o.selected.content.status&&r.loadNote(o.selected.id)},deselectNoteWhenIncorrect:function(){this.isCurrentIntentValid&&"loaded"===o.status&&o.selectedId&&!o.selected&&r.selectNote(null)},get hasUnsavedChanges(){if(this.isCurrentIntentValid)for(var e in o.dirty)if(o.dirty[e])return!0;return!1}}}var sn=n(4),cn=n.n(sn),ln=n(8),un=n.n(ln),fn=n(19),dn=n.n(fn);function pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var hn=function(e){Nt()(n,e);var t=pn(n);function n(e,o,r){var i;return nt()(this,n),(i=t.call(this,"Error requesting ".concat(e,": ").concat(o," ").concat(r))).url=void 0,i.statusCode=void 0,i.statusText=void 0,i.url,i.statusCode=o,i.statusText=r,i}return n}(dn()(Error));function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var gn=function(e){Nt()(n,e);var t=mn(n);function n(e){var o;return nt()(this,n),(o=t.call(this,"File ".concat(e," does not exist"))).url=void 0,o.url=e,o}return n}(dn()(Error)),vn=function(){function e(t,n,o){nt()(this,e),this.request=void 0,this.commits=void 0,this.queryBuilder=void 0,this.request=t,this.commits=n,this.queryBuilder=o}var t,n,o,r,i,a;return rt()(e,[{key:"getFolderContent",value:(a=un()(cn.a.mark((function e(t,n){var o,r,i,a,s,c,l;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=1,i=[];case 2:return a={page:o},void 0!==t&&(a.path=t),void 0!==n&&(a.recursive=n),s=this.queryBuilder.getStringFromQuery(a),c="repository/tree?"+s,e.next=9,this.request.fetch(c);case 9:if(404!==(l=e.sent).status){e.next=14;break}r=[],e.next=21;break;case 14:if(200===l.status){e.next=18;break}throw new hn(c,l.status,l.statusText);case 18:return e.next=20,l.json();case 20:r=e.sent;case 21:i.push.apply(i,$e()(r)),o++;case 23:if(r.length){e.next=2;break}case 24:return e.abrupt("return",i);case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"deleteFolder",value:(i=un()(cn.a.mark((function e(t){var n,o,r;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFolderContent(t,!0);case 2:for(n=e.sent,this.commits.startCommit(),o=0;o<n.length;o++)"blob"===(r=n[o]).type&&this.commits.delete(r.path);return e.next=7,this.commits.performCommit('Delete folder "'.concat(t||"",'"'));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getFileContent",value:(r=un()(cn.a.mark((function e(t){var n,o;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="repository/files/".concat(encodeURIComponent(t),"/raw?ref=master"),e.next=3,this.request.fetch(n);case 3:if(200!==(o=e.sent).status){e.next=10;break}return e.next=7,o.text();case 7:return e.abrupt("return",e.sent);case 10:if(404!==o.status){e.next=14;break}throw new gn(t);case 14:throw new hn(n,o.status,o.statusText);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"createFile",value:(o=un()(cn.a.mark((function e(t,n){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commits.startCommit(),this.commits.create(t,n),e.next=4,this.commits.performCommit('Create file "'.concat(t,'"'));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"updateFile",value:(n=un()(cn.a.mark((function e(t,n){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commits.startCommit(),this.commits.update(t,n),e.next=4,this.commits.performCommit('Update file "'.concat(t,'"'));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deleteFile",value:(t=un()(cn.a.mark((function e(t){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.commits.startCommit(),this.commits.delete(t),e.next=4,this.commits.performCommit('Delete file "'.concat(t,'"'));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var yn=function(e){Nt()(n,e);var t=bn(n);function n(){return nt()(this,n),t.call(this,"Authentication is not provided")}return n}(dn()(Error));function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var wn=function(e){Nt()(n,e);var t=_n(n);function n(){return nt()(this,n),t.call(this,"Gitlab project does not exist")}return n}(dn()(Error));function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=function(){function e(t,n,o,r,i){nt()(this,e),this.authData=void 0,this.projectManager=void 0,this.config=void 0,this.gitlabData=void 0,this.request=void 0,this.gitlabProjectPromise=void 0,this.authData=t,this.projectManager=n,this.config=o,this.gitlabData=r,this.request=i}var t,n;return rt()(e,[{key:"fetch",value:(n=un()(cn.a.mark((function e(t,n){var o,r;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.authData.data.token){e.next=2;break}throw new yn;case 2:if(this.gitlabData.project){e.next=6;break}return this.gitlabProjectPromise||(this.gitlabProjectPromise=this.createGitlabProjectPromise()),e.next=6,this.gitlabProjectPromise;case 6:return o=this.prependUrl(t),r=xn(xn({},n||{}),{},{headers:xn(xn({},this.authData.headers),n&&n.headers||{})}),e.next=10,this.request.fetch(o,r);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"prependUrl",value:function(e){if(!this.gitlabData.project)throw new wn;return"".concat(this.config.apiUri,"/projects/").concat(this.gitlabData.project.id,"/").concat(e)}},{key:"createGitlabProjectPromise",value:(t=un()(cn.a.mark((function e(){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.projectManager.getProject();case 3:this.gitlabData.project=e.sent,e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),!(e.t0 instanceof wn)){e.next=14;break}return e.next=11,this.projectManager.createProject();case 11:this.gitlabData.project=e.sent,e.next=15;break;case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return t.apply(this,arguments)})}]),e}();function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(){function e(t,n){nt()(this,e),this.authData=void 0,this.config=void 0,this.authData=t,this.config=n}var t,n;return rt()(e,[{key:"getProject",value:(n=un()(cn.a.mark((function e(){var t,n;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.authData.data.token){e.next=2;break}throw new yn;case 2:return e.next=4,fetch("".concat(this.config.apiUri,"/projects?owned=true&search=secure-book-notes"),{headers:this.authData.headers});case 4:if(200!==(t=e.sent).status){e.next=16;break}return e.next=8,t.json();case 8:if(!(n=e.sent).length){e.next=13;break}return e.abrupt("return",n[0]);case 13:throw new wn;case 14:e.next=17;break;case 16:throw new hn(t.url,t.status,t.statusText);case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createProject",value:(t=un()(cn.a.mark((function e(){var t;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.authData.data.token){e.next=2;break}throw new yn;case 2:return e.next=4,fetch("".concat(this.config.apiUri,"/projects"),{method:"post",headers:Sn(Sn({},this.authData.headers),{},{"content-type":"application/json"}),body:JSON.stringify({name:"secure-book-notes",visibility:"private"})});case 4:if(201!==(t=e.sent).status){e.next=11;break}return e.next=8,t.json();case 8:return e.abrupt("return",e.sent);case 11:throw new hn(t.url,t.status,t.statusText);case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();function On(){return{project:null}}var Nn=function(){function e(){nt()(this,e)}return rt()(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=un()(cn.a.mark((function e(t,n){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}]),e}(),Tn=function(){function e(t){nt()(this,e),this.request=void 0,this.currentActions=void 0,this.request=t}var t;return rt()(e,[{key:"startCommit",value:function(){this.currentActions=[]}},{key:"create",value:function(e,t){var n={action:"create",file_path:e,content:t};this.currentActions.push(n)}},{key:"update",value:function(e,t){var n={action:"update",file_path:e,content:t};this.currentActions.push(n)}},{key:"delete",value:function(e){var t={action:"delete",file_path:e};this.currentActions.push(t)}},{key:"performCommit",value:(t=un()(cn.a.mark((function e(t){var n,o,r;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="repository/commits",o={branch:"master",commit_message:t,actions:this.currentActions},e.next=4,this.request.fetch(n,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(o)});case 4:if(201!==(r=e.sent).status){e.next=11;break}return e.next=8,r.json();case 8:return e.abrupt("return",e.sent);case 11:throw new hn(n,r.status,r.statusText);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),En=n(36);function An(e){var t=e.get();return{status:null!=t?"provided":"not provided",value:null!=t?t:"",get hash(){return En.sha256.array(this.value)},onPasswordIncorrectRemoveFromStorage:function(){"incorrect"===this.status&&e.delete()}}}function Dn(e){return{id:e,name:"",tags:[],createdTime:kt(),lastUpdatedTime:kt(),content:{value:{html:""}}}}function Ln(e,t){return{get status(){return t.status},get list(){return t.workingList},get selectedId(){return!e.query.page&&e.query.note||null},get selected(){return this.selectedId&&this.list[this.selectedId]||null},dirty:{},state:{},get tags(){var e=[],t={};for(var n in this.list)for(var o=this.list[n],r=0;r<o.tags.length;r++){var i=o.tags[r];t[i]||(e.push(i),t[i]=!0)}return e}}}function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=function(){function e(t,n,o){nt()(this,e),this.notes=void 0,this.noteEntityManager=void 0,this.pathManager=void 0,this.notes=t,this.noteEntityManager=n,this.pathManager=o}var t,n,o,r;return rt()(e,[{key:"loadNotes",value:(r=un()(cn.a.mark((function e(){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.noteEntityManager.loadList();case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"loadNote",value:(o=un()(cn.a.mark((function e(t){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.noteEntityManager.loadItem(t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"selectNote",value:function(e){this.notes.selectedId=e,this.pathManager.onNoteSelected(e)}},{key:"createNoteAndSelect",value:function(){var e=this.noteEntityManager.createWorkingItem().id;this.selectNote(e),this.notes.dirty=Rn(Rn({},this.notes.dirty),{},Me()({},e,!0))}},{key:"updateSelectedNoteContent",value:function(e,t){if(this.notes.selectedId&&this.notes.selected){var n=e.trim().substring(0,100),o=n.indexOf("\n");o>=0&&(n=n.substring(0,o));var r=this.notes.selected;r.name=n,r.content.value=t,r.lastUpdatedTime=kt(),this.noteEntityManager.updateWorkingItem(r),this.notes.dirty=Rn(Rn({},this.notes.dirty),{},Me()({},this.notes.selectedId,!0))}else console.error("This should not happen: trying to update non-selected note content")}},{key:"updateSelectedNoteTags",value:function(e){if(this.notes.selectedId&&this.notes.selected){var t=this.notes.selected;t.tags=e,t.lastUpdatedTime=kt(),this.noteEntityManager.updateWorkingItem(t),this.notes.dirty=Rn(Rn({},this.notes.dirty),{},Me()({},this.notes.selectedId,!0))}else console.error("This should not happen: trying to update non-selected note content")}},{key:"deleteNote",value:(n=un()(cn.a.mark((function e(t){var n,o;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.noteEntityManager.deleteItem(t);case 2:n=Rn({},this.notes.dirty),o=Rn({},this.notes.state),delete n[t],delete o[t],this.notes.dirty=n,this.notes.state=o;case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"saveSelectedNote",value:(t=un()(cn.a.mark((function e(){return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.notes.selectedId||!this.notes.selected){e.next=16;break}if("loaded: not created"!==this.notes.selected.content.status&&"not loaded: not created"!==this.notes.selected.content.status){e.next=7;break}return e.next=4,this.noteEntityManager.createItem(this.notes.selectedId);case 4:this.notes.dirty=Rn(Rn({},this.notes.dirty),{},Me()({},this.notes.selectedId,!1)),e.next=14;break;case 7:if("loaded"!==this.notes.selected.content.status){e.next=13;break}return e.next=10,this.noteEntityManager.updateItem(this.notes.selectedId);case 10:this.notes.dirty=Rn(Rn({},this.notes.dirty),{},Me()({},this.notes.selectedId,!1)),e.next=14;break;case 13:console.error("This should not happen: trying to save non-loaded note");case 14:e.next=17;break;case 16:console.error("This should not happen: trying to save non-selected note");case 17:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancelSelectedNoteChanges",value:function(){var e=this.notes.selectedId;if(e&&this.notes.dirty){this.noteEntityManager.restoreWorkingItem(e);var t=Rn({},this.notes.state);delete t[e],this.notes.state=t;var n=Rn({},this.notes.dirty);delete n[e],this.notes.dirty=n}}}]),e}(),Bn=function(){function e(t,n){nt()(this,e),this.password=void 0,this.passStorage=void 0,this.password=t,this.passStorage=n}return rt()(e,[{key:"providePassword",value:function(e,t){this.password.value=e,this.password.status="provided",t&&this.passStorage.set(e)}}]),e}();function zn(){return{status:"not loaded",loadedList:{},workingList:{}}}function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Dt()(e);if(t){var r=Dt()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Et()(this,n)}}var Hn=function(e){Nt()(n,e);var t=jn(n);function n(){return nt()(this,n),t.call(this,"Provided password is incorrect")}return n}(dn()(Error));function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vn(e){var t={};for(var n in e){var o=$n({},e[n]);delete o.content,t[n]=o}return t}function Un(e){return JSON.parse(JSON.stringify(e))}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn=function(){function e(t,n,o,r,i,a){nt()(this,e),this.entityName=void 0,this.entityData=void 0,this.filesystem=void 0,this.password=void 0,this.crypter=void 0,this.getDefault=void 0,this.currentRequest=void 0,this.entityName=t,this.entityData=n,this.filesystem=o,this.password=r,this.crypter=i,this.getDefault=a,this.currentRequest=Promise.resolve()}var t,n,o,r,i,a;return rt()(e,[{key:"getEntityListFileName",value:function(){return"".concat(this.entityName,"/list")}},{key:"getEntityFileName",value:function(e){return"".concat(this.entityName,"/").concat(e)}},{key:"performOnLists",value:function(e){e(this.entityData.loadedList),this.entityData.loadedList=Kn({},this.entityData.loadedList),e(this.entityData.workingList),this.entityData.workingList=Kn({},this.entityData.workingList)}},{key:"performAfterCurrentRequest",value:(a=un()(cn.a.mark((function e(t){var n;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentRequest;case 2:return n=t(),this.currentRequest=new Promise((function(e){n.then((function(){e()})).catch((function(){e()}))})),e.next=6,n;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"loadList",value:(i=un()(cn.a.mark((function e(){var t=this;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performAfterCurrentRequest(un()(cn.a.mark((function e(){var n,o,r,i,a,s,c,l,u,f,d,p;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.getEntityListFileName(),t.entityData.status="loading",o=!1,e.next=5,t.filesystem.getFolderContent("".concat(t.entityName));case 5:for(r=e.sent,i={},a=0;a<r.length;a++)(s=r[a]).path===n?o=!0:i[s.path]=!0;if(c={},e.prev=9,!o){e.next=30;break}return e.t0=t.crypter,e.next=14,t.filesystem.getFileContent(n);case 14:return e.t1=e.sent,e.t2=t.password.hash,e.next=18,e.t0.decrypt.call(e.t0,e.t1,e.t2);case 18:l=e.sent,e.prev=19,c=JSON.parse(l),t.password.status="verified",e.next=28;break;case 24:throw e.prev=24,e.t3=e.catch(19),t.password.status="incorrect",new Hn;case 28:e.next=38;break;case 30:return e.t4=t.filesystem,e.t5=n,e.next=34,t.crypter.encrypt(JSON.stringify(c),t.password.hash);case 34:return e.t6=e.sent,e.next=37,e.t4.createFile.call(e.t4,e.t5,e.t6);case 37:t.password.status="verified";case 38:e.next=44;break;case 40:throw e.prev=40,e.t7=e.catch(9),e.t7 instanceof Hn?t.entityData.status="not loaded":t.entityData.status="error",e.t7;case 44:for(f in u={},c)d=Kn(Kn({},c[f]),{},{content:{status:i[t.getEntityFileName(f)]?"not loaded: created":"not loaded: not created",value:null}}),p=d,u[f]=p;t.entityData.loadedList=u,t.entityData.workingList=Un(u),t.entityData.status="loaded";case 49:case"end":return e.stop()}}),e,null,[[9,40],[19,24]])}))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadItem",value:(r=un()(cn.a.mark((function e(t){var n=this;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performAfterCurrentRequest(un()(cn.a.mark((function e(){var o;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.entityData.status="loading entity",n.performOnLists((function(e){return e[t].content.status="loading"})),e.prev=2,e.t0=JSON,e.t1=n.crypter,e.next=7,n.filesystem.getFileContent(n.getEntityFileName(t));case 7:return e.t2=e.sent,e.t3=n.password.hash,e.next=11,e.t1.decrypt.call(e.t1,e.t2,e.t3);case 11:e.t4=e.sent,o=e.t0.parse.call(e.t0,e.t4),e.next=20;break;case 15:throw e.prev=15,e.t5=e.catch(2),n.performOnLists((function(e){return e[t].content.status="error"})),n.entityData.status="error",e.t5;case 20:n.performOnLists((function(e){e[t].content.status="loaded",e[t].content.value=o})),n.entityData.status="loaded";case 22:case"end":return e.stop()}}),e,null,[[2,15]])}))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"createItem",value:(o=un()(cn.a.mark((function e(t){var n=this;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performAfterCurrentRequest(un()(cn.a.mark((function e(){var o;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.entityData.status="creating entity",n.entityData.workingList[t].content.status="creating",n.entityData.workingList=Kn({},n.entityData.workingList),(o=Kn({},n.entityData.loadedList))[t]=n.entityData.workingList[t],e.prev=5,e.t0=n.filesystem,e.t1=n.getEntityFileName(t),e.next=10,n.crypter.encrypt(JSON.stringify(n.entityData.workingList[t].content.value),n.password.hash);case 10:return e.t2=e.sent,e.next=13,e.t0.createFile.call(e.t0,e.t1,e.t2);case 13:return e.t3=n.filesystem,e.t4=n.getEntityListFileName(),e.next=17,n.crypter.encrypt(JSON.stringify(Vn(o)),n.password.hash);case 17:return e.t5=e.sent,e.next=20,e.t3.updateFile.call(e.t3,e.t4,e.t5);case 20:e.next=28;break;case 22:throw e.prev=22,e.t6=e.catch(5),n.entityData.workingList[t].content.status="error",n.entityData.workingList=Kn({},n.entityData.workingList),n.entityData.status="error",e.t6;case 28:n.entityData.workingList[t].content.status="loaded",n.entityData.workingList=Kn({},n.entityData.workingList),n.entityData.loadedList[t]=Un(n.entityData.workingList[t]),n.entityData.loadedList=Kn({},n.entityData.loadedList),n.entityData.status="loaded";case 33:case"end":return e.stop()}}),e,null,[[5,22]])}))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateItem",value:(n=un()(cn.a.mark((function e(t){var n=this;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performAfterCurrentRequest(un()(cn.a.mark((function e(){var o;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.entityData.status="updating entity",n.performOnLists((function(e){return e[t].content.status="updating"})),(o=Kn({},n.entityData.loadedList))[t]=n.entityData.workingList[t],e.prev=4,e.t0=n.filesystem,e.t1=n.getEntityFileName(t),e.next=9,n.crypter.encrypt(JSON.stringify(n.entityData.workingList[t].content.value),n.password.hash);case 9:return e.t2=e.sent,e.next=12,e.t0.updateFile.call(e.t0,e.t1,e.t2);case 12:return e.t3=n.filesystem,e.t4=n.getEntityListFileName(),e.next=16,n.crypter.encrypt(JSON.stringify(Vn(o)),n.password.hash);case 16:return e.t5=e.sent,e.next=19,e.t3.updateFile.call(e.t3,e.t4,e.t5);case 19:e.next=26;break;case 21:throw e.prev=21,e.t6=e.catch(4),n.performOnLists((function(e){return e[t].content.status="error"})),n.entityData.status="error",e.t6;case 26:n.entityData.workingList[t].content.status="loaded",n.entityData.workingList=Kn({},n.entityData.workingList),n.entityData.loadedList[t]=Un(n.entityData.workingList[t]),n.entityData.loadedList=Kn({},n.entityData.loadedList),n.entityData.status="loaded";case 31:case"end":return e.stop()}}),e,null,[[4,21]])}))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"deleteItem",value:(t=un()(cn.a.mark((function e(t){var n=this;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performAfterCurrentRequest(un()(cn.a.mark((function e(){var o,r;return cn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.entityData.workingList[t].content.status,n.entityData.status="deleting entity",n.performOnLists((function(e){e[t]&&(e[t].content.status="deleting")})),delete(r=Kn({},n.entityData.loadedList))[t],e.prev=5,"loaded: not created"===o){e.next=17;break}if("not loaded: not created"===o){e.next=10;break}return e.next=10,n.filesystem.deleteFile(n.getEntityFileName(t));case 10:return e.t0=n.filesystem,e.t1=n.getEntityListFileName(),e.next=14,n.crypter.encrypt(JSON.stringify(Vn(r)),n.password.hash);case 14:return e.t2=e.sent,e.next=17,e.t0.updateFile.call(e.t0,e.t1,e.t2);case 17:e.next=24;break;case 19:throw e.prev=19,e.t3=e.catch(5),n.performOnLists((function(e){e[t]&&(e[t].content.status="error")})),n.entityData.status="error",e.t3;case 24:n.performOnLists((function(e){e[t]&&(e[t].content.status="deleted",delete e[t])})),n.entityData.status="loaded";case 26:case"end":return e.stop()}}),e,null,[[5,19]])}))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createWorkingItem",value:function(){var e=this.getDefault("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))),t=Kn(Kn({},e),{},{content:Kn(Kn({},e.content),{},{status:"loaded: not created"})});return this.entityData.workingList=Kn(Kn({},this.entityData.workingList),{},Me()({},t.id,t)),t}},{key:"updateWorkingItem",value:function(e){return this.entityData.workingList=Kn(Kn({},this.entityData.workingList),{},Me()({},e.id,e)),e}},{key:"restoreWorkingItem",value:function(e){var t=Kn({},this.entityData.workingList);e in this.entityData.loadedList?t[e]=Un(this.entityData.loadedList[e]):delete t[e],this.entityData.workingList=t}}]),e}(),Jn=n(6);var Gn=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var o=function(e){return n[t](e)};return e.dom.addEventListener(t,o),{name:t,handler:o}}))};Gn.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,o=t.handler;return e.editorView.dom.removeEventListener(n,o)}))},Gn.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},Gn.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},Gn.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,o=t.nodeAfter;if(n||o){var r=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?r.bottom:r.top;n&&o&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:r.left,right:r.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var c=!s||s==document.body&&"static"==getComputedStyle(s).position?{left:-pageXOffset,top:-pageYOffset}:s.getBoundingClientRect();this.element.style.left=e.left-c.left+"px",this.element.style.top=e.top-c.top+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},Gn.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},Gn.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Object(Jn.g)(this.editorView.state.doc,n,this.editorView.dragging.slice))&&(n=t.pos),this.setCursor(n),this.scheduleRemoval(5e3)}}},Gn.prototype.dragend=function(){this.scheduleRemoval(20)},Gn.prototype.drop=function(){this.scheduleRemoval(20)},Gn.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var Yn=n(21),Zn=n(0),Qn=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,o){var r=n.resolve(o.map(this.head));return t.valid(r)?new t(r):e.near(r)},t.prototype.content=function(){return Zn.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new eo(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var o=e.node(t).child(n-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),o=e.node(t);if(n!=o.childCount)for(var r=o.child(n);;r=r.firstChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock},t.findFrom=function(e,n,o){e:for(;;){if(!o&&t.valid(e))return e;for(var r=e.pos,i=null,a=e.depth;;a--){var s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){i=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;r+=n;var c=e.doc.resolve(r);if(t.valid(c))return c}for(;;){var l=n>0?i.firstChild:i.lastChild;if(!l){if(i.isAtom&&!i.isText&&!pe.NodeSelection.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),o=!1;continue e}break}i=l,r+=n;var u=e.doc.resolve(r);if(t.valid(u))return u}return null}},t}(pe.Selection);Qn.prototype.visible=!1,pe.Selection.jsonID("gapcursor",Qn);var eo=function(e){this.pos=e};eo.prototype.map=function(e){return new eo(e.map(this.pos))},eo.prototype.resolve=function(e){var t=e.resolve(this.pos);return Qn.valid(t)?new Qn(t):pe.Selection.near(t)};var to=Object(Yn.a)({ArrowLeft:no("horiz",-1),ArrowRight:no("horiz",1),ArrowUp:no("vert",-1),ArrowDown:no("vert",1)});function no(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,o,r){var i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof pe.TextSelection){if(!r.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var c=Qn.findFrom(a,t,s);return!!c&&(o&&o(e.tr.setSelection(new Qn(c))),!0)}}function oo(e,t,n){if(!e.editable)return!1;var o=e.state.doc.resolve(t);if(!Qn.valid(o))return!1;var r=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(r>-1&&pe.NodeSelection.isSelectable(e.state.doc.nodeAt(r)))&&(e.dispatch(e.state.tr.setSelection(new Qn(o))),!0)}function ro(e){if(!(e.selection instanceof Qn))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",de.b.create(e.doc,[de.a.widget(e.selection.head,t,{key:"gapcursor"})])}var io=function(){function e(){nt()(this,e)}return rt()(e,[{key:"addEditorPlugins",value:function(e,t){var n;e((void 0===n&&(n={}),new pe.Plugin({view:function(e){return new Gn(e,n)}}))),e(new pe.Plugin({props:{decorations:ro,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&Qn.valid(n))return new Qn(n)},handleClick:oo,handleKeyDown:to}}))}}]),e}(),ao=function(){function e(t){nt()(this,e),this.editorPlugins=void 0,this.editorPlugins=t}return rt()(e,[{key:"getPlugins",value:function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<this.editorPlugins.length;o++){this.editorPlugins[o].addEditorPlugins(n,e)}return t}}]),e}(),so=function(){function e(t,n){nt()(this,e),this.schema=void 0,this.schema=new Zn.Schema({nodes:this.getNodeSpecMap(t),marks:this.getMarkSpecMap(n)})}return rt()(e,[{key:"getNodeSpecMap",value:function(e){for(var t={},n=0;n<e.length;n++){var o=e[n];t[o.name]=o.nodeSpec}return t}},{key:"getMarkSpecMap",value:function(e){for(var t={},n=0;n<e.length;n++){var o=e[n];t[o.name]=o.markSpec}return t}}]),e}(),co=function(){};co.prototype.append=function(e){return e.length?(e=co.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},co.prototype.prepend=function(e){return e.length?co.from(e).append(this):this},co.prototype.appendInner=function(e){return new uo(this,e)},co.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?co.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},co.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},co.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},co.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},co.from=function(e){return e instanceof co?e:e&&e.length?new lo(e):co.empty};var lo=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(co);co.empty=new lo([]);var uo=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(co),fo=co,po=function(e,t){this.items=e,this.eventCount=t};po.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var o,r,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(o=this.remapping(i,this.items.length),r=o.maps.length);var a,s,c=e.tr,l=[],u=[];return this.items.forEach((function(e,t){if(!e.step)return o||(o=n.remapping(i,t+1),r=o.maps.length),r--,void u.push(e);if(o){u.push(new ho(e.map));var f,d=e.step.map(o.slice(r));d&&c.maybeStep(d).doc&&(f=c.mapping.maps[c.mapping.maps.length-1],l.push(new ho(f,null,null,l.length+u.length))),r--,f&&o.appendMap(f,r)}else c.maybeStep(e.step);return e.selection?(a=o?e.selection.map(o.slice(r)):e.selection,s=new po(n.items.slice(0,i).append(u.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:c,selection:a}},po.prototype.addTransform=function(e,t,n,o){for(var r=[],i=this.eventCount,a=this.items,s=!o&&a.length?a.get(a.length-1):null,c=0;c<e.steps.length;c++){var l,u=e.steps[c].invert(e.docs[c]),f=new ho(e.mapping.maps[c],u,t);(l=s&&s.merge(f))&&(f=l,c?r.pop():a=a.slice(0,a.length-1)),r.push(f),t&&(i++,t=null),o||(s=f)}var d,p,h,m=i-n.depth;return m>go&&(p=m,(d=a).forEach((function(e,t){if(e.selection&&0==p--)return h=t,!1})),a=d.slice(h),i-=m),new po(a.append(r),i)},po.prototype.remapping=function(e,t){var n=new Jn.a;return this.items.forEach((function(t,o){var r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},po.prototype.addMaps=function(e){return 0==this.eventCount?this:new po(this.items.append(e.map((function(e){return new ho(e)}))),this.eventCount)},po.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),o);var s=t;this.items.forEach((function(t){var o=r.getMirror(--s);if(null!=o){i=Math.min(i,o);var c=r.maps[o];if(t.step){var l=e.steps[o].invert(e.docs[o]),u=t.selection&&t.selection.map(r.slice(s+1,o));u&&a++,n.push(new ho(c,l,u))}else n.push(new ho(c))}}),o);for(var c=[],l=t;l<i;l++)c.push(new ho(r.maps[l]));var u=this.items.slice(0,o).append(c).append(n),f=new po(u,a);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-n.length)),f},po.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},po.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach((function(i,a){if(a>=e)o.push(i),i.selection&&r++;else if(i.step){var s=i.step.map(t.slice(n)),c=s&&s.getMap();if(n--,c&&t.appendMap(c,n),s){var l=i.selection&&i.selection.map(t.slice(n));l&&r++;var u,f=new ho(c.invert(),s,l),d=o.length-1;(u=o.length&&o[d].merge(f))?o[d]=u:o.push(f)}}else i.map&&n--}),this.items.length,0),new po(fo.from(o.reverse()),r)},po.empty=new po(fo.empty,0);var ho=function(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o};ho.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new ho(t.getMap().invert(),t,this.selection)}};var mo=function(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o},go=20;function vo(e){var t=[];return e.forEach((function(e,n,o,r){return t.push(o,r)})),t}function bo(e,t){if(!e)return null;for(var n=[],o=0;o<e.length;o+=2){var r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function yo(e,t,n,o){var r=ko(t),i=xo.get(t).spec.config,a=(o?e.undone:e.done).popEvent(t,r);if(a){var s=a.selection.resolve(a.transform.doc),c=(o?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,r),l=new mo(o?c:a.remaining,o?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(xo,{redo:o,historyState:l}).scrollIntoView())}}var _o=!1,wo=null;function ko(e){var t=e.plugins;if(wo!=t){_o=!1,wo=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){_o=!0;break}}return _o}var xo=new pe.PluginKey("history"),Io=new pe.PluginKey("closeHistory");function Co(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new pe.Plugin({key:xo,state:{init:function(){return new mo(po.empty,po.empty,null,0)},apply:function(t,n,o){return function(e,t,n,o){var r,i=n.getMeta(xo);if(i)return i.historyState;n.getMeta(Io)&&(e=new mo(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(xo))return a.getMeta(xo).redo?new mo(e.done.addTransform(n,null,o,ko(t)),e.undone,vo(n.mapping.maps[n.steps.length-1]),e.prevTime):new mo(e.done,e.undone.addTransform(n,null,o,ko(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new mo(e.done.rebased(n,r),e.undone.rebased(n,r),bo(e.prevRanges,n.mapping),e.prevTime):new mo(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),bo(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,o){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),c=a?bo(e.prevRanges,n.mapping):vo(n.mapping.maps[n.steps.length-1]);return new mo(e.done.addTransform(n,s?t.selection.getBookmark():null,o,ko(t)),po.empty,c,n.time)}(n,o,t,e)}},config:e})}function So(e,t){var n=xo.getState(e);return!(!n||0==n.done.eventCount)&&(t&&yo(n,e,t,!1),!0)}function Mo(e,t){var n=xo.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&yo(n,e,t,!0),!0)}var Oo=function(){function e(){nt()(this,e),this.name="history"}return rt()(e,[{key:"addEditorPlugins",value:function(e,t){e(Co())}},{key:"addKeyBindings",value:function(e,t,n){e("Mod-z",So),e("Shift-Mod-z",Mo),n||e("Mod-y",Mo)}},{key:"getMenuState",value:function(e){return{get canUndo(){return!!So(e.state)},get canRedo(){return!!Mo(e.state)}}}},{key:"getMenuActions",value:function(){return{undo:function(){return So},redo:function(){return Mo}}}}]),e}(),No=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,o,r){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(o+=a)-r;s>0&&(i=t[0].slice(a-s,a)+i,o=r)}return e.tr.insertText(i,o,r)}):t};function To(e,t,n,o,r,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"")+o,l=0;l<r.length;l++){var u=r[l].match.exec(c),f=u&&r[l].handler(a,u,t-(u[0].length-o.length),n);if(f)return e.dispatch(f.setMeta(i,{transform:f,from:t,to:n,text:o})),!0}return!1}function Eo(e,t){for(var n=e.plugins,o=0;o<n.length;o++){var r=n[o],i=void 0;if(r.spec.isInputRules&&(i=r.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));var l=a.doc.resolve(i.from).marks();t(a.replaceWith(i.from,i.to,e.schema.text(i.text,l)))}return!0}}return!1}new No(/--$/,""),new No(/\.\.\.$/,""),new No(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new No(/"$/,""),new No(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new No(/'$/,"");function Ao(e,t,n,o){return new No(e,(function(e,r,i,a){var s=n instanceof Function?n(r):n,c=e.tr.delete(i,a),l=c.doc.resolve(i).blockRange(),u=l&&Object(Jn.h)(l,t,s);if(!u)return null;c.wrap(l,u);var f=c.doc.resolve(i-1).nodeBefore;return f&&f.type==t&&Object(Jn.e)(c.doc,i-1)&&(!o||o(r,f))&&c.join(i-1),c}))}function Do(e,t,n){return new No(e,(function(e,o,r,i){var a=e.doc.resolve(r),s=n instanceof Function?n(o):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(r,i).setBlockType(r,r,t,s):null}))}var Lo=function(){function e(t){nt()(this,e),this.inputRules=void 0,this.inputRules=t}return rt()(e,[{key:"addEditorPlugins",value:function(e,t){var n,o,r;e((n={rules:this.getInputRules(t)},o=n.rules,r=new pe.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,t,n,i){return To(e,t,n,i,o,r)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var t=e.state.selection.$cursor;t&&To(e,t.pos,t.pos,"",o,r)}))}}},isInputRules:!0})))}},{key:"getInputRules",value:function(e){for(var t=[],n=function(e){t.push(e)},o=0;o<this.inputRules.length;o++){this.inputRules[o].addInputRules(n,e)}return t}},{key:"addKeyBindings",value:function(e,t){e("Backspace",Eo)}}]),e}();function Po(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function Ro(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function Fo(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Bo(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function zo(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function jo(e,t){var n=e.selection,o=n.$head,r=n.$anchor;if(!o.parent.type.spec.code||!o.sameParent(r))return!1;var i=o.node(-1),a=o.indexAfter(-1),s=zo(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var c=o.after(),l=e.tr.replaceWith(c,c,s.createAndFill());l.setSelection(pe.Selection.near(l.doc.resolve(c),1)),t(l.scrollIntoView())}return!0}function Ho(e,t){var n=e.selection,o=n.$from,r=n.$to;if(e.selection instanceof pe.NodeSelection&&e.selection.node.isBlock)return!(!o.parentOffset||!Object(Jn.f)(e.doc,o.pos))&&(t&&t(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(t){var i=r.parentOffset==r.parent.content.size,a=e.tr;e.selection instanceof pe.TextSelection&&a.deleteSelection();var s=0==o.depth?null:zo(o.node(-1).contentMatchAt(o.indexAfter(-1))),c=i&&s?[{type:s}]:null,l=Object(Jn.f)(a.doc,a.mapping.map(o.pos),1,c);c||l||!Object(Jn.f)(a.doc,a.mapping.map(o.pos),1,s&&[{type:s}])||(c=[{type:s}],l=!0),l&&(a.split(a.mapping.map(o.pos),1,c),i||o.parentOffset||o.parent.type==s||!o.node(-1).canReplace(o.index(-1),o.indexAfter(-1),Zn.Fragment.from(s.create(),o.parent))||a.setNodeMarkup(a.mapping.map(o.before()),s)),t(a.scrollIntoView())}return!0}function Wo(e,t,n){var o,r,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,r=t.nodeAfter,i=t.index();return!!(o&&r&&o.type.compatibleContent(r.type))&&(!o.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!r.isTextblock&&!Object(Jn.e)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(o=(r=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&r.matchType(o[0]||a.type).validEnd){if(n){for(var s=t.pos+a.nodeSize,c=Zn.Fragment.empty,l=o.length-1;l>=0;l--)c=Zn.Fragment.from(o[l].create(null,c));c=Zn.Fragment.from(i.copy(c));var u=e.tr.step(new Jn.b(t.pos-1,s,t.pos,s,new Zn.Slice(c,1,0),o.length,!0)),f=s+2*o.length;Object(Jn.e)(u.doc,f)&&u.join(f),n(u.scrollIntoView())}return!0}var d=pe.Selection.findFrom(t,1),p=d&&d.$from.blockRange(d.$to),h=p&&Object(Jn.j)(p);return null!=h&&h>=t.depth&&(n&&n(e.tr.lift(p,h).scrollIntoView()),!0)}function $o(e,t){return function(n,o){var r=n.selection,i=r.$from,a=r.$to,s=i.blockRange(a),c=s&&Object(Jn.h)(s,e,t);return!!c&&(o&&o(n.tr.wrap(s,c).scrollIntoView()),!0)}}function Vo(e,t){return function(n,o){var r=n.selection,i=r.from,a=r.to,s=!1;return n.doc.nodesBetween(i,a,(function(o,r){if(s)return!1;if(o.isTextblock&&!o.hasMarkup(e,t))if(o.type==e)s=!0;else{var i=n.doc.resolve(r),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}})),!!s&&(o&&o(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}}function Uo(e,t){return function(n,o){var r=n.selection,i=r.empty,a=r.$cursor,s=r.ranges;if(i&&!a||!function(e,t,n){for(var o=function(o){var r=t[o],i=r.$from,a=r.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<t.length;r++){var i=o(r);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(o)if(a)e.isInSet(n.storedMarks||a.marks())?o(n.tr.removeStoredMark(e)):o(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<s.length;u++){var f=s[u],d=f.$from,p=f.$to;c=n.doc.rangeHasMark(d.pos,p.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],g=m.$from,v=m.$to;c?l.removeMark(g.pos,v.pos,e):l.addMark(g.pos,v.pos,e.create(t))}o(l.scrollIntoView())}return!0}}function qo(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,o){for(var r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}var Ko=qo(Po,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var r=Fo(o);if(!r){var i=o.blockRange(),a=i&&Object(Jn.j)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}var s=r.nodeBefore;if(!s.type.spec.isolating&&Wo(e,r,t))return!0;if(0==o.parent.content.size&&(Ro(s,"end")||pe.NodeSelection.isSelectable(s))){if(t){var c=e.tr.deleteRange(o.before(),o.after());c.setSelection(Ro(s,"end")?pe.Selection.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):pe.NodeSelection.create(c.doc,r.pos-s.nodeSize)),t(c.scrollIntoView())}return!0}return!(!s.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0)}),(function(e,t,n){var o=e.selection,r=o.$head,i=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=Fo(r)}var a=i&&i.nodeBefore;return!(!a||!pe.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(pe.NodeSelection.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)})),Xo=qo(Po,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;var r=Bo(o);if(!r)return!1;var i=r.nodeAfter;if(Wo(e,r,t))return!0;if(0==o.parent.content.size&&(Ro(i,"start")||pe.NodeSelection.isSelectable(i))){if(t){var a=e.tr.deleteRange(o.before(),o.after());a.setSelection(Ro(i,"start")?pe.Selection.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):pe.NodeSelection.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}return!(!i.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var o=e.selection,r=o.$head,i=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=Bo(r)}var a=i&&i.nodeAfter;return!(!a||!pe.NodeSelection.isSelectable(a))&&(t&&t(e.tr.setSelection(pe.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)})),Jo={Enter:qo((function(e,t){var n=e.selection,o=n.$head,r=n.$anchor;return!(!o.parent.type.spec.code||!o.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,o=n.$from,r=n.$to;if(o.parent.inlineContent||r.parent.inlineContent)return!1;var i=zo(o.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(pe.TextSelection.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if(Object(Jn.f)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var r=n.blockRange(),i=r&&Object(Jn.j)(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)}),Ho),"Mod-Enter":jo,Backspace:Ko,"Mod-Backspace":Ko,Delete:Xo,"Mod-Delete":Xo,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new pe.AllSelection(e.doc))),!0}},Go={"Ctrl-h":Jo.Backspace,"Alt-Backspace":Jo["Mod-Backspace"],"Ctrl-d":Jo.Delete,"Ctrl-Alt-Backspace":Jo["Mod-Delete"],"Alt-Delete":Jo["Mod-Delete"],"Alt-d":Jo["Mod-Delete"]};for(var Yo in Jo)Go[Yo]=Jo[Yo];var Zo=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Go:Jo,Qo=function(){function e(t){nt()(this,e),this.keyBindings=void 0,this.keyBindings=t}return rt()(e,[{key:"addEditorPlugins",value:function(e,t){for(var n=0;n<this.keyBindings.length;n++)e(Object(Yn.b)(this.getKeyMap(this.keyBindings[n],t)));e(Object(Yn.b)(Zo))}},{key:"getKeyMap",value:function(e,t){var n="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),o={};return e.addKeyBindings((function(e,t){o[e]=t}),t,n),o}}]),e}();function er(e,t){var n=e.selection,o=n.from,r=n.$from,i=n.to;return n.empty?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(o,i,t)}var tr=function(){function e(){nt()(this,e),this.name="code",this.markSpec={parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Mod-`",Uo(t.marks.code))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.code)},get canToggle(){return!!Uo(t.marks.strong)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return Uo(e.marks.code)}}}}]),e}(),nr=function(){function e(){nt()(this,e),this.name="em",this.markSpec={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Mod-i",Uo(t.marks.em)),e("Mod-I",Uo(t.marks.em))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.em)},get canToggle(){return!!Uo(t.marks.strong)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return Uo(e.marks.em)}}}}]),e}(),or=function(){function e(){nt()(this,e),this.name="strong",this.markSpec={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Mod-b",Uo(t.marks.strong)),e("Mod-B",Uo(t.marks.strong))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.strong)},get canToggle(){return!!Uo(t.marks.strong)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return Uo(e.marks.strong)}}}}]),e}();function rr(e,t){var n,o=e.selection,r=o.from,i=o.$from,a=o.to;o.empty?n=e.storedMarks||i.marks():(n=[],e.doc.nodesBetween(r,a,(function(e){var t;(t=n).push.apply(t,$e()(e.marks))})));var s=n.find((function(e){return e.type.name===t.name}));return s?s.attrs:{}}function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!t)return!1;var n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;var o=n.node.marks.find((function(e){return e.type===t}));if(!o)return!1;for(var r=e.index(),i=e.start()+n.offset,a=r+1,s=i+n.node.nodeSize;r>0&&o.isInSet(e.parent.child(r-1).marks);)r-=1,i-=e.parent.child(r).nodeSize;for(;a<e.parent.childCount&&o.isInSet(e.parent.child(a).marks);)s+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:s}}var ar=function(){function e(){nt()(this,e),this.name="link",this.markSpec={attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){var t=e.attrs;return["a",{target:"_blank",rel:"noopener noreferrer",href:t.href,title:t.title},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.link)},get canToggle(){return!!Uo(t.marks.strong)(e.state)},get isSelected(){return this.isCurrent||!e.state.selection.empty},get attrs(){if(!this.isCurrent)return{href:"",title:""};var n=rr(e.state,t.marks.link);return{href:n.href||"",title:n.title||""}}}}},{key:"getMenuActions",value:function(e){return{createUpdate:function(t){var n,o,r=t.href,i=t.title;return n=e.marks.link,o={href:r,title:i},function(e,t){if(!t)return!0;var r=e.tr,i=e.selection,a=e.doc,s=i.from,c=i.to,l=i.$from;if(i.empty){var u=ir(l,n);u&&(s=u.from,c=u.to)}return a.rangeHasMark(s,c,n)&&r.removeMark(s,c,n),r.addMark(s,c,n.create(o)),t(r),!0}},remove:function(){return t=e.marks.link,function(e,n){if(!n)return!0;var o=e.tr,r=e.selection,i=r.from,a=r.to,s=r.$from;if(r.empty){var c=ir(s,t);c&&(i=c.from,a=c.to)}return o.removeMark(i,a,t),n(o),!0};var t}}}}]),e}();function sr(e){return function(t,n){return lt(t,e)?function(e,t){var n=e.selection,o=n.$from,r=n.$to,i=o.blockRange(r),a=i&&Object(Jn.j)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}(t,n):$o(e)(t,n)}}var cr=function(){function e(){nt()(this,e),this.name="blockquote",this.nodeSpec={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Ctrl-.",$o(t.nodes.blockquote))}},{key:"addInputRules",value:function(e,t){e(Ao(/^\s*>\s$/,t.nodes.blockquote))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.blockquote)},get canToggle(){return!!sr(t.nodes.blockquote)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return sr(e.nodes.blockquote)}}}}]),e}();function lr(e,t){return function(n,o){var r=n.selection,i=r.$from,a=r.$to,s=i.blockRange(a),c=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;var u=n.doc.resolve(s.start-2);l=new Zn.NodeRange(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new Zn.NodeRange(i,n.doc.resolve(a.end(s.depth)),s.depth)),c=!0}var f=Object(Jn.h)(l,e,t,s);return!!f&&(o&&o(function(e,t,n,o,r){for(var i=Zn.Fragment.empty,a=n.length-1;a>=0;a--)i=Zn.Fragment.from(n[a].type.create(n[a].attrs,i));e.step(new Jn.b(t.start-(o?2:0),t.end,t.start,t.end,new Zn.Slice(i,0,0),n.length,!0));for(var s=0,c=0;c<n.length;c++)n[c].type==r&&(s=c+1);for(var l=n.length-s,u=t.start+n.length-(o?2:0),f=t.parent,d=t.endIndex,p=!0,h=t.startIndex;h<d;h++)!p&&Object(Jn.f)(e.doc,u,l)&&(e.split(u,l),u+=2*l),u+=f.child(h).nodeSize,p=!1;return e}(n.tr,s,f,c,e).scrollIntoView()),!0)}}function ur(e){return function(t,n){var o=t.selection,r=o.$from,i=o.$to,a=r.blockRange(i,(function(t){return!(!t.childCount||!t.firstChild||t.firstChild.type!=e)}));return!!a&&(!n||(r.node(a.depth-1).type==e?function(e,t,n,o){var r=e.tr,i=o.end,a=o.$to.end(o.depth);return i<a&&(r.step(new Jn.b(i-1,a,i,a,new Zn.Slice(Zn.Fragment.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new Zn.NodeRange(r.doc.resolve(o.$from.pos),r.doc.resolve(a),o.depth)),t(r.lift(o,Object(Jn.j)(o)).scrollIntoView()),!0}(t,n,e,a):function(e,t,n){for(var o=e.tr,r=n.parent,i=n.startIndex,a=n.end,s=n.endIndex-1;s>i;s--)a-=r.child(s).nodeSize,o.delete(a-1,a+1);var c=o.doc.resolve(n.start),l=c.nodeAfter,u=0==n.startIndex,f=n.endIndex==r.childCount,d=c.node(-1),p=c.index(-1);if(!d.canReplace(p+(u?0:1),p+1,l.content.append(f?Zn.Fragment.empty:Zn.Fragment.from(r))))return!1;var h=c.pos,m=h+l.nodeSize;return o.step(new Jn.b(h-(u?1:0),m+(f?1:0),h+1,m-1,new Zn.Slice((u?Zn.Fragment.empty:Zn.Fragment.from(r.copy(Zn.Fragment.empty))).append(f?Zn.Fragment.empty:Zn.Fragment.from(r.copy(Zn.Fragment.empty))),u?0:1,f?0:1),u?0:1)),t(o.scrollIntoView()),!0}(t,n,a)))}}function fr(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function dr(e,t){return function(n,o){var r=n.schema,i=n.selection,a=i.$from,s=i.$to,c=a.blockRange(s);if(!c)return!1;var l=Object(it.findParentNode)((function(e){return fr(e,r)}))(i);if(c.depth>=1&&l&&c.depth-l.depth<=1){if(l.node.type===e)return ur(t)(n,o);if(fr(l.node,r)&&e.validContent(l.node.content)){var u=n.tr;return u.setNodeMarkup(l.pos,e),o&&o(u),!1}}return lr(e)(n,o)}}var pr=function(){function e(){nt()(this,e),this.name="bullet_list",this.nodeSpec={content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Shift-Ctrl-8",lr(t.nodes.bullet_list))}},{key:"addInputRules",value:function(e,t){e(Ao(/^\s*([-+*])\s$/,t.nodes.bullet_list))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.bullet_list)},get canToggle(){return!!dr(t.nodes.bullet_list,t.nodes.list_item)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return dr(e.nodes.bullet_list,e.nodes.list_item)}}}}]),e}();function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o,r){return lt(o,e,n)?Vo(t)(o,r):Vo(e,n)(o,r)}}var mr=n(23),gr=n.n(mr);n(160),n(161),n(163);function vr(e,t){if(e==t)return null;for(var n=0,o=e.length,r=t.length;n<o&&e.charCodeAt(n)==t.charCodeAt(n);)++n;for(;o>n&&r>n&&e.charCodeAt(o-1)==t.charCodeAt(r-1);)o--,r--;return{from:n,to:o,text:t.slice(n,r)}}function br(e){return function(t,n,o){if(t.selection.empty&&o.endOfTextblock(e)){var r="left"==e||"up"==e?-1:1,i=t.selection.$head,a=pe.Selection.near(t.doc.resolve(r>0?i.after():i.before()),r);if(a.$head&&"code_block"==a.$head.parent.type.name)return n(t.tr.setSelection(a)),!0}return!1}}var yr=function(){function e(t,n,o){var r=this;nt()(this,e),this.node=void 0,this.view=void 0,this.getPos=void 0,this.incomingChanges=void 0,this.updating=void 0,this.cm=void 0,this.dom=void 0,this.node=t,this.view=n,this.getPos=o,this.incomingChanges=!1,this.cm=gr()(null,{value:this.node.textContent,lineNumbers:!0,extraKeys:this.codeMirrorKeymap(),viewportMargin:1/0}),this.dom=this.cm.getWrapperElement(),setTimeout((function(){return r.cm.refresh()}),20),this.updating=!1,this.cm.on("beforeChange",(function(){return r.incomingChanges=!0})),this.cm.on("cursorActivity",(function(){r.updating||r.incomingChanges||r.forwardSelection()})),this.cm.on("changes",(function(){r.updating||(r.valueChanged(),r.forwardSelection()),r.incomingChanges=!1})),this.cm.on("focus",(function(){return r.forwardSelection()}))}return rt()(e,[{key:"forwardSelection",value:function(){if(this.cm.hasFocus()){var e=this.view.state,t=this.asProseMirrorSelection(e.doc);t.eq(e.selection)||this.view.dispatch(e.tr.setSelection(t))}}},{key:"asProseMirrorSelection",value:function(e){var t=this.getPos()+1,n=this.cm.indexFromPos(this.cm.getCursor("anchor"))+t,o=this.cm.indexFromPos(this.cm.getCursor("head"))+t;return pe.TextSelection.create(e,n,o)}},{key:"setSelection",value:function(e,t){this.cm.focus(),this.updating=!0,this.cm.setSelection(this.cm.posFromIndex(e),this.cm.posFromIndex(t)),this.updating=!1}},{key:"valueChanged",value:function(){var e=vr(this.node.textContent,this.cm.getValue());if(e){var t=this.getPos()+1,n=this.view.state.tr.replaceWith(t+e.from,t+e.to,e.text?this.view.state.schema.text(e.text):null);this.view.dispatch(n)}}},{key:"codeMirrorKeymap",value:function(){var e,t=this,n=this.view,o=/Mac/.test(navigator.platform)?"Cmd":"Ctrl";return gr.a.normalizeKeyMap((e={Up:function(){return t.maybeEscape("line",-1)},Left:function(){return t.maybeEscape("char",-1)},Down:function(){return t.maybeEscape("line",1)},Right:function(){return t.maybeEscape("char",1)}},Me()(e,"".concat(o,"-Z"),(function(){return So(n.state,n.dispatch)})),Me()(e,"Shift-".concat(o,"-Z"),(function(){return Mo(n.state,n.dispatch)})),Me()(e,"".concat(o,"-Y"),(function(){return Mo(n.state,n.dispatch)})),Me()(e,"Ctrl-Enter",(function(){jo(n.state,n.dispatch)&&n.focus()})),e))}},{key:"maybeEscape",value:function(e,t){var n=this.cm.getCursor();if(this.cm.somethingSelected()||n.line!=(t<0?this.cm.firstLine():this.cm.lastLine())||"char"==e&&n.ch!=(t<0?0:this.cm.getLine(n.line).length))return gr.a.Pass;this.view.focus();var o=this.getPos()+(t<0?0:this.node.nodeSize),r=pe.Selection.near(this.view.state.doc.resolve(o),t);this.view.dispatch(this.view.state.tr.setSelection(r).scrollIntoView()),this.view.focus()}},{key:"update",value:function(e){if(e.type!=this.node.type)return!1;this.node=e;var t=vr(this.cm.getValue(),e.textContent);return t&&(this.updating=!0,this.cm.replaceRange(t.text,this.cm.posFromIndex(t.from),this.cm.posFromIndex(t.to)),this.updating=!1),!0}},{key:"selectNode",value:function(){this.cm.focus()}},{key:"stopEvent",value:function(){return!0}}]),e}(),_r=function(){function e(){nt()(this,e),this.nodeView=yr,this.name="code_block",this.nodeSpec={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Shift-Ctrl-\\",Vo(t.nodes.code_block)),e("ArrowLeft",br("left")),e("ArrowRight",br("right")),e("ArrowUp",br("up")),e("ArrowDown",br("down"))}},{key:"addInputRules",value:function(e,t){e(Do(/^```$/,t.nodes.code_block))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.code_block)},get canToggle(){return!!hr(t.nodes.code_block,t.nodes.paragraph)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return hr(e.nodes.code_block,e.nodes.paragraph)}}}}]),e}(),wr=function e(){nt()(this,e),this.name="doc",this.nodeSpec={content:"block+"}},kr=function(){function e(){nt()(this,e),this.name="hard_break",this.nodeSpec={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t,n){var o=qo(jo,(function(e,n){return!!n&&(n(e.tr.replaceSelectionWith(t.nodes.hard_break.create()).scrollIntoView()),!0)}));e("Mod-Enter",o),e("Shift-Enter",o),n&&e("Ctrl-Enter",o)}}]),e}(),xr=function(){function e(){nt()(this,e),this.name="heading",this.nodeSpec={attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){for(var n=1;n<=6;n++)e("Shift-Ctrl-"+n,Vo(t.nodes.heading,{level:n}))}},{key:"addInputRules",value:function(e,t){e(Do(new RegExp("^(#{1,6})\\s$"),t.nodes.heading,(function(e){return{level:e[1].length}})))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.heading)},get canToggle(){return!!hr(t.nodes.heading,t.nodes.paragraph)(e.state)},get level(){return this.isCurrent&&ut(e.state,t.nodes.heading).level||0}}}},{key:"getMenuActions",value:function(e){return{setLevel:function(t){return hr(e.nodes.heading,e.nodes.heading,{level:t})},remove:function(){return hr(e.nodes.heading,e.nodes.paragraph)}}}}]),e}(),Ir=function(){function e(){nt()(this,e),this.name="horizontal_rule",this.nodeSpec={group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}}}return rt()(e,[{key:"getMenuActions",value:function(e){return{add:function(){return function(t,n){return n(t.tr.replaceSelectionWith(e.nodes.horizontal_rule.create()))}}}}}]),e}(),Cr=function e(){nt()(this,e),this.name="list_item",this.nodeSpec={content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]},defining:!0}},Sr=function(){function e(){nt()(this,e),this.name="ordered_list",this.nodeSpec={content:"list_item+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Shift-Ctrl-9",lr(t.nodes.ordered_list))}},{key:"addInputRules",value:function(e,t){e(Ao(/^(\d+)\.\s$/,t.nodes.ordered_list,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order==+e[1]})))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.ordered_list)},get canToggle(){return!!dr(t.nodes.ordered_list,t.nodes.list_item)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return dr(e.nodes.ordered_list,e.nodes.list_item)}}}}]),e}(),Mr=function(){function e(){nt()(this,e),this.name="paragraph",this.nodeSpec={content:"inline*",group:"block",attrs:{textAlign:{default:"left"}},parseDOM:[{tag:"p",getAttrs:function(e){var t=e.style.textAlign;return{textAlign:"right"===t||"center"===t||"justify"===t?t:"left"}}}],toDOM:function(e){var t="";return"left"!==e.attrs.textAlign?["p",{style:t+="text-align: ".concat(e.attrs.textAlign,";")},0]:["p",0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.paragraph)},get attrs(){return this.isCurrent&&ut(e.state,t.nodes.paragraph)||{textAlign:"left"}}}}},{key:"getMenuActions",value:function(e){return{setAttrs:function(t){return Vo(e.nodes.paragraph,t)}}}}]),e}(),Or=function e(){nt()(this,e),this.name="text",this.nodeSpec={group:"inline"}},Nr=function(){function e(){nt()(this,e),this.name="underline",this.markSpec={parseDOM:[{style:"text-decoration",getAttrs:function(e){return/(^|\s)underline(\s|$)/.test(e)&&null}}],toDOM:function(){return["span",{style:"text-decoration: underline;"},0]}}}return rt()(e,[{key:"addKeyBindings",value:function(e,t){e("Mod-u",Uo(t.marks.underline)),e("Mod-U",Uo(t.marks.underline))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.underline)},get canToggle(){return!!Uo(t.marks.strong)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return Uo(e.marks.underline)}}}}]),e}(),Tr=function(){function e(){nt()(this,e),this.name="strikethrough",this.markSpec={parseDOM:[{style:"text-decoration",getAttrs:function(e){return/(^|\s)line-through(\s|$)/.test(e)&&null}}],toDOM:function(){return["span",{style:"text-decoration: line-through;"},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.strikethrough)},get canToggle(){return!!Uo(t.marks.strong)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return Uo(e.marks.strikethrough)}}}}]),e}(),Er=new pe.Plugin({props:{decorations:function(e){var t=[],n=e.doc,o=/\s+/g;return n.nodesBetween(0,n.content.size,(function(n,r,i){if(i.type===e.schema.nodes.paragraph&&"justify"===i.attrs.textAlign)for(var a,s,c,l=n.text||"";null!==(s=o.exec(l));)if(a=r+s.index,c=s[0].length,s.index+c<s.input.length)for(var u=0;u<=c-1;u+=2)t.push(de.a.inline(a+u,a+u+1,{style:"white-space: normal"}))})),de.b.create(n,t)}}}),Ar=function(){function e(){nt()(this,e)}return rt()(e,[{key:"addEditorPlugins",value:function(e){e(Er)}}]),e}();function Dr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pr(e){var t={};for(var n in e.defaultAttrs)t[n]={default:e.defaultAttrs[n]};return t}function Rr(e){return[{tag:'[data-type="'.concat(e.type,'"]'),contentElement:'[data-content="'.concat(e.type,'"]'),getAttrs:function(t){var n=t;try{return JSON.parse(n.getAttribute("data-attrs")||"")}catch(t){return Lr({},e.defaultAttrs)}}}]}function Fr(e){return function(t){var n=t.attrs;return[e.tag,{"data-type":e.type,"data-attrs":JSON.stringify(n)},0]}}function Br(e){var t=e.Component,n=e.defaultAttrs,o=e.setNodeViewAttrs,r=e.provideSetAttrsAndSetRendered,i=J(!0),a=f()(i,2),s=a[0],c=a[1],l=J((function(){return n})),u=f()(l,2),d=u[0];return r(u[1],c),Z((function(){return s?v(t,{attrs:d,setAttrs:o}):null}),[s,t,d,o])}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Me()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Hr,Wr,$r,Vr=(Hr=function(e){var t=e.attrs,n=e.setAttrs;return v("li",{className:"TodoList__Item","data-type":"todo_item","data-attrs":JSON.stringify(t)},v(je,{className:"TodoList__CheckButton",isChecked:t.done,contentEditable:!1,onSetChecked:function(e){return n(jr(jr({},t),{},{done:e}))}}),v("div",{"data-content":"todo_item",className:"TodoList__Content ".concat(t.done?"TodoList__Content--done":"")}))},Wr={type:"todo_item",tag:"li",defaultAttrs:{done:!1}},$r=Object.assign(Hr,Wr),Object.assign($r,{attrs:Pr($r),parseDOM:Rr($r),toDOM:Fr($r)})),Ur=function e(){nt()(this,e),this.nodeView=function(e){return function(){function t(n,o,r){var i=this;nt()(this,t),this.dom=void 0,this.contentDOM=void 0,this.node=void 0,this.setRenderedAttrs=void 0,this.setRendered=void 0,this.view=void 0,this.getPos=void 0,this.setAttrs=function(e){i.view.dispatch(i.view.state.tr.setNodeMarkup(i.getPos(),i.node.type,Lr(Lr({},i.node.attrs),e)))},this.node=n,this.view=o,this.getPos=r;var a=document.createDocumentFragment();P(v(Ft,null,v(Br,{Component:e,defaultAttrs:this.node.attrs,setNodeViewAttrs:this.setAttrs,provideSetAttrsAndSetRendered:function(e,t){i.setRenderedAttrs=e,i.setRendered=t}})),a),this.dom=a.firstChild,this.contentDOM=this.dom.querySelector('[data-content="'.concat(this.node.type.name,'"]')),this.setRendered(!1),this.setRendered(!0)}return rt()(t,[{key:"update",value:function(e){return e.type===this.node.type&&(e.sameMarkup(this.node)?(this.node=e,!0):(this.node=e,this.setRenderedAttrs(e.attrs),!0))}},{key:"ignoreMutation",value:function(){return!0}},{key:"destroy",value:function(){this.setRendered(!1)}}]),t}()}(Vr),this.name=Vr.type,this.nodeSpec={content:"paragraph block*",defining:!0,attrs:Vr.attrs,parseDOM:Vr.parseDOM,toDOM:Vr.toDOM}},qr=(n(165),function(){function e(){nt()(this,e),this.name="todo_list",this.nodeSpec={content:"todo_item+",group:"block",parseDOM:[{tag:'ul[data-type="todo_list"]'}],toDOM:function(){return["ul",{class:"TodoList","data-type":"todo_list"},0]}}}return rt()(e,[{key:"addInputRules",value:function(e,t){e(Ao(/^\s*(\[ \])\s$/,t.nodes.todo_list))}},{key:"getMenuState",value:function(e,t){return{get isCurrent(){return lt(e.state,t.nodes.todo_list)},get canToggle(){return!!dr(t.nodes.todo_list,t.nodes.todo_item)(e.state)}}}},{key:"getMenuActions",value:function(e){return{toggle:function(){return dr(e.nodes.todo_list,e.nodes.todo_item)}}}}]),e}());function Kr(e){return function(t,n){var o=t.selection,r=o.$from,i=o.$to,a=o.node;if(a&&a.isBlock||r.depth<2||!r.sameParent(i))return!1;var s=r.node(-1);if(s.type!=e)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){for(var c=r.index(-1)>0,l=Zn.Fragment.empty,u=r.depth-(c?1:2);u>=r.depth-3;u--)l=Zn.Fragment.from(r.node(u).copy(l));l=l.append(Zn.Fragment.from(e.createAndFill()));var f=t.tr.replace(r.before(c?null:-1),r.after(-3),new Zn.Slice(l,c?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(r.pos+(c?3:2)))),n(f.scrollIntoView())}return!0}var d=i.pos==r.end()?s.contentMatchAt(r.indexAfter(-1)).defaultType:null,p=t.tr.delete(r.pos,i.pos),h=d&&[null,{type:d}];return!!Object(Jn.f)(p.doc,r.pos,2,h)&&(n&&n(p.split(r.pos,2,h).scrollIntoView()),!0)}}function Xr(e){return function(t,n){var o=t.selection,r=o.$from,i=o.$to,a=r.blockRange(i,(function(t){return!(!t.childCount||!t.firstChild||t.firstChild.type!=e)}));if(!a)return!1;var s=a.startIndex;if(0==s)return!1;var c=a.parent,l=c.child(s-1);if(l.type!=e)return!1;if(n){var u=l.lastChild&&l.lastChild.type==c.type,f=Zn.Fragment.from(u?e.create():void 0),d=new Zn.Slice(Zn.Fragment.from(e.create(void 0,Zn.Fragment.from(c.type.create(c.attrs,f)))),u?3:1,0),p=a.start,h=a.end;n(t.tr.step(new Jn.b(p-(u?3:1),h,p,h,d,1,!0)).scrollIntoView())}return!0}}var Jr=function e(t,n){var o=this;nt()(this,e),this.name="list_items",this.schema=void 0,this.listItemNodes=void 0,this.splitListItem=function(){return function(e,t){for(var n=0;n<o.listItemNodes.length;n++){var r=o.listItemNodes[n].name;if(!!Kr(o.schema.nodes[r])(e,t))return!0}return!1}},this.increaseIndent=function(){return function(e,t){for(var n=0;n<o.listItemNodes.length;n++){var r=o.listItemNodes[n].name;if(!!Xr(o.schema.nodes[r])(e,t))return!0}return!1}},this.decreaseIndent=function(){return function(e,t){for(var n=0;n<o.listItemNodes.length;n++){var r=o.listItemNodes[n].name;if(!!ur(o.schema.nodes[r])(e,t))return!0}return!1}},this.addKeyBindings=function(e){e("Enter",o.splitListItem()),e("Mod-[",o.increaseIndent()),e("Mod-]",o.decreaseIndent())},this.getMenuState=function(e){var t=o;return{get canIncreaseIndent(){return t.increaseIndent()(e.state)},get canDecreaseIndent(){return t.decreaseIndent()(e.state)}}},this.getMenuActions=function(){return{increaseIndent:function(){return o.increaseIndent()},decreaseIndent:function(){return o.decreaseIndent()}}},this.schema=t,this.listItemNodes=n},Gr=n(26),Yr=n.n(Gr);function Zr(e,t,n){for(var o=function(o){var r=t[o],i=r.$from,a=r.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<t.length;r++){var i=o(r);if("object"===Yr()(i))return i.v}return!1}function Qr(e){return function(t,n){var o=t.selection,r=o.empty,i=o.ranges,a=t.selection.$cursor;if(r&&!a||!Zr(t.doc,i,e))return!1;if(n)if(a)e.isInSet(t.storedMarks||a.marks())&&n(t.tr.removeStoredMark(e));else{for(var s=!1,c=t.tr,l=0;!s&&l<i.length;l++){var u=i[l],f=u.$from,d=u.$to;s=t.doc.rangeHasMark(f.pos,d.pos,e)}for(var p=0;p<i.length;p++){var h=i[p],m=h.$from,g=h.$to;s&&c.removeMark(m.pos,g.pos,e)}n(c.scrollIntoView())}return!0}}function ei(e,t){return function(n,o){var r=n.selection,i=r.empty,a=r.ranges,s=n.selection.$cursor;if(i&&!s||!Zr(n.doc,a,e))return!1;if(o)if(s)e.isInSet(n.storedMarks||s.marks())&&o(n.tr.removeStoredMark(e)),o(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<a.length;u++){var f=a[u],d=f.$from,p=f.$to;c=n.doc.rangeHasMark(d.pos,p.pos,e)}for(var h=0;h<a.length;h++){var m=a[h],g=m.$from,v=m.$to;c&&l.removeMark(g.pos,v.pos,e),l.addMark(g.pos,v.pos,e.create(t))}o(l.scrollIntoView())}return!0}}var ti=function(){function e(){nt()(this,e),this.name="font_size",this.markSpec={attrs:{fontSize:{default:18}},parseDOM:[{tag:"span",getAttrs:function(e){var t,n=e;if(n.style.fontSize&&(t=n.style.fontSize.match(/^\s*(\d+)px\s*$/i))){var o=Number(t[1]);if(o>=1&&o<=200)return{fontSize:o}}return!1}}],toDOM:function(e){var t=e.attrs;return["span",{style:"font-size:".concat(t.fontSize,"px;")},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.font_size)},get attrs(){return rr(e.state,t.marks.font_size)},get canToggle(){return!!Uo(t.marks.font_size)(e.state)}}}},{key:"getMenuActions",value:function(e){return{setFontSize:function(t){return t>=1&&t<=200?ei(e.marks.font_size,{fontSize:t}):Qr(e.marks.font_size)},reset:function(){return Qr(e.marks.font_size)}}}}]),e}(),ni=function(){function e(){nt()(this,e),this.name="font_family",this.markSpec={attrs:{fontFamily:{default:Ke.default}},parseDOM:[{tag:"span",getAttrs:function(e){var t,n=e;if(n.style.fontFamily&&(t=n.style.fontFamily.match(/^\s*['"]?(.*?)(['",]|$)/))){var o=t[1];if(Xe.indexOf(o)>=0)return{fontFamily:o}}return!1}}],toDOM:function(e){var t=e.attrs;return["span",{style:'font-family:"'.concat(t.fontFamily,'",').concat(Je[t.fontFamily],";")},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.font_family)},get attrs(){return rr(e.state,t.marks.font_family)},get canToggle(){return!!Uo(t.marks.font_family)(e.state)}}}},{key:"getMenuActions",value:function(e){return{setFontFamily:function(t){return Xe.indexOf(t)>=0?ei(e.marks.font_family,{fontFamily:t}):Qr(e.marks.font_family)},reset:function(){return Qr(e.marks.font_family)}}}}]),e}();function oi(e,t,n,o){var r,i;function a(e){var t={},n=e(o),a=function(e){t[e]=function(){n[e].apply(n,arguments)(r,i)}};for(var s in n)a(s);return t}return{savePassiveState:function(){e.exists&&(r=e.state,i=e.view.dispatch)},get state(){if(!e.exists)return null;for(var n={},r=0;r<t.length;r++){var i=t[r];n[i.name]=i.getMenuState(e,o)}return n},get actions(){if(!e.exists)return null;for(var t={},o=0;o<n.length;o++){var r=n[o];t[r.name]=a(r.getMenuActions)}return t},get exists(){return!!this.state&&!!this.actions}}}function ri(){return{view:null,state:null,get exists(){return!!this.view&&!!this.state}}}var ii=function(){function e(){nt()(this,e),this.name="font_color",this.markSpec={attrs:{color:{default:"#2e2e2e"}},parseDOM:[{tag:"span",getAttrs:function(e){var t,n,o=e;return o.style.color&&"#"===o.style.color[0]&&Ge(t=o.style.color.substring(1))?{color:t}:!(!o.style.color||!(n=o.style.color.match(/^rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i)))&&{color:Ye([Number(n[1]),Number(n[2]),Number(n[3])])}}}],toDOM:function(e){var t=e.attrs;return["span",{style:"color:#".concat(t.color,";")},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.font_color)},get attrs(){return rr(e.state,t.marks.font_color)},get canToggle(){return!!Uo(t.marks.font_color)(e.state)}}}},{key:"getMenuActions",value:function(e){return{setColor:function(t){return ei(e.marks.font_color,{color:t})},reset:function(){return Qr(e.marks.font_color)}}}}]),e}(),ai=function(){function e(){nt()(this,e),this.name="highlight",this.markSpec={attrs:{color:{default:"#FFF"}},parseDOM:[{tag:"span",getAttrs:function(e){var t,n,o=e;return o.style.backgroundColor&&"#"===o.style.backgroundColor[0]&&Ge(t=o.style.backgroundColor.substring(1))?{color:t}:!(!o.style.backgroundColor||!(n=o.style.backgroundColor.match(/^rgb\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i)))&&{color:Ye([Number(n[1]),Number(n[2]),Number(n[3])])}}}],toDOM:function(e){var t=e.attrs;return["span",{style:"background:#".concat(t.color,";")},0]}}}return rt()(e,[{key:"getMenuState",value:function(e,t){return{get isCurrent(){return er(e.state,t.marks.highlight)},get attrs(){return rr(e.state,t.marks.highlight)},get canToggle(){return!!Uo(t.marks.highlight)(e.state)}}}},{key:"getMenuActions",value:function(e){return{setColor:function(t){return ei(e.marks.highlight,{color:t})},reset:function(){return Qr(e.marks.highlight)}}}}]),e}();var si=function(){function e(t,n){nt()(this,e),this.location=void 0,this.locationManager=void 0,this.location=t,this.locationManager=n}return rt()(e,[{key:"storeURL",value:function(){var e=this.location.location;window.localStorage.setItem("authURL",e.pathname+e.search+e.hash)}},{key:"restoreURL",value:function(){var e=window.localStorage.getItem("authURL");e?this.locationManager.replace(e):this.locationManager.replace("/"),window.localStorage.removeItem("authURL")}}]),e}();function ci(){return{isDarkMode:!!window.localStorage.getItem("darkMode"),onDarkModeChange:function(){this.isDarkMode?window.localStorage.setItem("darkMode","true"):window.localStorage.removeItem("darkMode")}}}var li,ui,fi=function(){function e(){nt()(this,e)}return rt()(e,[{key:"get",value:function(){return window.localStorage.getItem("notesPassword")}},{key:"set",value:function(e){window.localStorage.setItem("notesPassword",e)}},{key:"delete",value:function(){window.localStorage.removeItem("notesPassword")}}]),e}();function di(){var e={createRenderer:Object(zt.connectFactory)(jt),createLocation:Object(zt.connectFactory)(Kt),createGitlabNotifyAuth:Object(zt.connectFactory)(Yt),createGitlabAuthData:Object(zt.connectFactory)(nn),createIntents:Object(zt.connectFactory)(Gt),createNoteViewerIntent:Object(zt.connectFactory)(an),createGitlabData:Object(zt.connectFactory)(On),createPassword:Object(zt.connectFactory)(An),createEntityData:Object(zt.connectFactory)(zn),createNotes:Object(zt.connectFactory)(Ln),createDarkMode:Object(zt.connectFactory)(ci)},t=new Vt,n=new Jt,o=e.createLocation(n),r=new en(o),i=new on,a=e.createGitlabAuthData(),s=new si(o,r),c=new fi,l=new Zt(r,tn,n,i,a,s,c),u=new rn(r,s);e.createGitlabNotifyAuth(o,u,l);var f=new Mn(a,tn),d=e.createGitlabData(),p=new Nn,h=new In(a,f,tn,d,p),m=new Tn(h),g=new vn(h,m,n),v=e.createPassword(c),b=new Bn(v,c),y=e.createEntityData(),_=e.createNotes(o,y),w=new Xn("notes",y,g,v,t,Dn),k=new Fn(_,w,u),x=e.createNoteViewerIntent(o,a,v,_,k),I=function(){var e={createEditorCurrentState:Object(zt.connectFactory)(ri),createEditorCurrentMenuState:Object(zt.connectFactory)(oi)},t=new wr,n=new Mr,o=new cr,r=new Ir,i=new xr,a=new Or,s=new _r,c=new ht,l=new kr,u=new Sr,f=new pr,d=new qr,p=new Cr,h=new Ur,m=new ar,g=new nr,v=new or,b=new Nr,y=new Tr,_=new tr,w=new ti,k=new ii,x=new ni,I=new ai,C=new Oo,S=new io,M=new so([t,n,o,r,i,a,s,c,l,d,u,f,h,p],[v,g,b,y,m,_,w,k,x,I]),O=new Jr(M.schema,[p,h]),N=new Lo([o,i,s,u,f,d]),T=new Qo([o,i,s,l,u,f,O,v,g,b,_,C,N]),E=new Ar,A=new ao([C,S,N,T,E]),D=Zn.DOMParser.fromSchema(M.schema),L=Zn.DOMSerializer.fromSchema(M.schema),P=[C,v,g,b,y,m,w,k,x,I,_,o,s,i,n,f,u,d,O,c],R=[C,v,g,b,y,m,w,k,x,I,_,o,s,i,r,n,f,u,d,O,c],F=function(e){for(var t={},n=0;n<e.length;n++){var o=e[n];t[o.name]=o.nodeView}var r={},i=function(e){r[e]=function(n,o,r){return new t[e](n,o,r)}};for(var a in t)i(a);return r}([s,h]),B=e.createEditorCurrentState();return{editorSchema:M,editorPluginsManager:A,domParser:D,domSerializer:L,nodeViews:F,current:B,menu:e.createEditorCurrentMenuState(B,P,R,M.schema)}}(),C=e.createDarkMode(),S=e.createIntents([x]);return[e,{darkMode:C,intents:S,authData:a,password:v,notes:_,editor:I,noteViewerIntent:x},{crypter:t,auth:l,filesystem:g,passwordManager:b,noteManager:k,locationManager:r}]}function pi(e){var t=e.connected,n=e.store,o=e.managers;return v(we.Provider,{value:{}},v(se.Provider,{value:t},v(j.Provider,{value:n},v(H.Provider,{value:o},v(Bt,null)))))}(ui=document.createElement("div")).setAttribute("id","root"),document.body.appendChild(ui),function(e){if(e.firstElementChild)P("",e,e.firstElementChild),P(v(pi,li.appProps),e);else{var t=di(),n=f()(t,3),o=n[0],r=n[1],i=n[2];P(v(pi,(li={parent:e,appProps:{connected:o,store:r,managers:i}}).appProps),e)}}(ui)}]);